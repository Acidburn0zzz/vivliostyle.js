var m;function r(a,b){function c(){}c.prototype=b.prototype;a.Vc=b.prototype;a.prototype=new c;a.prototype.constructor=a};function aa(a){var b=a.match(/^([^#]*)/);return b?b[1]:a}var ba=window.location.href;
function ca(a,b){if(!b||a.match(/^\w{2,}:/))return a.toLowerCase().match("^javascript:")?"#":a;b.match(/^\w{2,}:\/\/[^\/]+$/)&&(b+="/");var c;if(a.match(/^\/\//))return(c=b.match(/^(\w{2,}:)\/\//))?c[1]+a:a;if(a.match(/^\//))return(c=b.match(/^(\w{2,}:\/\/[^\/]+)\//))?c[1]+a:a;a.match(/^\.(\/|$)/)&&(a=a.substr(1));c=b;var d=c.match(/^([^#?]*)/);b=d?d[1]:c;if(a.match(/^\#/))return b+a;c=b.lastIndexOf("/");if(0>c)return a;for(d=b.substr(0,c+1)+a;;){c=d.indexOf("/../");if(0>=c)break;var e=d.lastIndexOf("/",
c-1);if(0>=e)break;d=d.substr(0,e)+d.substr(c+3)}return d.replace(/\/(\.\/)+/g,"/")}function da(a){a=new RegExp("#(.*&)?"+ea(a)+"=([^#&]*)");return(a=window.location.href.match(a))?a[2]:null}function fa(a,b){var c=new RegExp("#(.*&)?"+ea("f")+"=([^#&]*)"),d=a.match(c);return d?(c=d[2].length,d=d.index+d[0].length-c,a.substr(0,d)+b+a.substr(d+c)):a.match(/#/)?a+"&f="+b:a+"#f="+b}function ga(a){return null==a?a:a.toString()}function ha(){this.b=[null]}
ha.prototype.length=function(){return this.b.length-1};function ia(){return ja.replace(/-[a-z]/g,function(a){return a.substr(1).toUpperCase()})}var ka="-webkit- -moz- -ms- -o- -epub- ".split(" "),la;
a:{var ma="transform transform-origin hyphens writing-mode column-count column-width column-rule-color column-rule-style column-rule-width text-combine text-emphasis-style".split(" "),na={},oa=document.createElement("span"),pa=oa.style,qa=null;try{if(oa.style.setProperty("-ms-transform-origin","0% 0%"),"0% 0%"==oa.style.getPropertyValue("-ms-transform-origin")){for(var ra=0;ra<ma.length;ra++)na[ma[ra]]="-ms-"+ma[ra];la=na;break a}}catch(sa){}for(ra=0;ra<ma.length;ra++){var ta=ma[ra],ja=null,ua=null;
qa&&(ja=qa+ta,ua=ia());if(!ua||null==pa[ua])for(var va=0;va<ka.length&&(qa=ka[va],ja=qa+ta,ua=ia(),null==pa[ua]);va++);null!=pa[ua]&&(na[ta]=ja)}la=na}var xa=la;function t(a,b,c){try{b=xa[b]||b,"-ms-writing-mode"==b&&"vertical-rl"==c&&(c="tb-rl"),a.style.setProperty(b,c)}catch(d){}}function ya(a,b){try{return a.style.getPropertyValue(xa[b]||b)}catch(c){}return""}function za(){this.b=[]}za.prototype.append=function(a){this.b.push(a);return this};
za.prototype.toString=function(){var a=this.b.join("");this.b=[a];return a};function Aa(a){return"\\"+a.charCodeAt(0).toString(16)+" "}function Ba(a){return a.replace(/[^-_a-zA-Z0-9\u0080-\uFFFF]/g,Aa)}function Da(a){return a.replace(/[\u0000-\u001F"]/g,Aa)}function Ea(a){return a.replace(/[\s+&?=#\u007F-\uFFFF]+/g,encodeURIComponent)}function Fa(a){return!!a.match(/^[a-zA-Z\u009E\u009F\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u024F\u037B-\u037D\u0386\u0388-\u0482\u048A-\u0527]$/)}
function Ga(a){return"\\u"+(65536|a.charCodeAt(0)).toString(16).substr(1)}function ea(a){return a.replace(/[^-a-zA-Z0-9_]/g,Ga)}function w(a){window.console&&window.console.log&&window.console.log(a)}function Ha(a){if(!a)throw"Assert failed";}function Ia(a,b){for(var c=0,d=a;;){Ha(c<=d);Ha(0==c||!b(c-1));Ha(d==a||b(d));if(c==d)return c;var e=c+d>>1;b(e)?d=e:c=e+1}}function Ja(a,b){return a-b}function Ka(a,b){for(var c={},d=0;d<a.length;d++){var e=a[d],f=b(e);f&&!c[f]&&(c[f]=e)}return c}var La={};
function Ma(a,b){for(var c={},d=0;d<a.length;d++){var e=a[d],f=b(e);f&&(c[f]?c[f].push(e):c[f]=[e])}return c}function Na(a,b){for(var c=Array(a.length),d=0;d<a.length;d++)c[d]=b(a[d],d);return c}function Oa(a,b){var c={},d;for(d in a)c[d]=b(a[d],d);return c}function Pa(){this.b={}}Pa.prototype.addEventListener=function(a,b,c){c||((c=this.b[a])?c.push(b):this.b[a]=[b])};Pa.prototype.removeEventListener=function(a,b,c){!c&&(a=this.b[a])&&(b=a.indexOf(b),0<=b&&a.splice(b,0))};var Ra=null;
function Sa(a){if(null==Ra){var b=a.ownerDocument,c=b.createElement("div");c.style.position="absolute";c.style.top="0px";c.style.left="0px";c.style.width="100px";c.style.height="100px";c.style.overflow="hidden";c.style.lineHeight="16px";c.style.fontSize="16px";a.appendChild(c);var d=b.createElement("div");d.style.width="0px";d.style.height="14px";d.style.cssFloat="left";c.appendChild(d);d=b.createElement("div");d.style.width="50px";d.style.height="50px";d.style.cssFloat="left";d.style.clear="left";
c.appendChild(d);d=b.createTextNode("a a a a a a a a a a a a a a a a");c.appendChild(d);b=b.createRange();b.setStart(d,0);b.setEnd(d,1);Ra=40>b.getBoundingClientRect().left;a.removeChild(c)}return Ra}var Ta=null;function Ua(a){return 1==a.nodeType&&(a=a.getAttribute("id"))&&a.match(/^[-a-zA-Z_0-9.\u007F-\uFFFF]+$/)?a:null}function Va(a){return"^"+a}function Wa(a){return a.substr(1)}function Xa(a){return a?a.replace(/\^[\[\]\(\),=;^]/g,Wa):a}
function Ya(a){for(var b={};a;){var c=a.match(/^;([^;=]+)=(([^;]|\^;)*)/);if(!c)break;var d=c[1],e;a:{e=c[2];var f=[];do{var g=e.match(/^(\^,|[^,])*/),h=Xa(g[0]);e=e.substr(g[0].length+1);if(!e&&!f.length){e=h;break a}f.push(h)}while(e);e=f}b[d]=e;a=a.substr(c[0].length)}return b}function Za(){}Za.prototype.e=function(a){a.append("!")};Za.prototype.f=function(){return!1};function $a(a,b,c){this.b=a;this.id=b;this.wa=c}
$a.prototype.e=function(a){a.append("/");a.append(this.b.toString());if(this.id||this.wa)a.append("["),this.id&&a.append(this.id),this.wa&&(a.append(";s="),a.append(this.wa)),a.append("]")};
$a.prototype.f=function(a){if(1!=a.ka.nodeType)throw Error("E_CFI_NOT_ELEMENT");var b=a.ka,c=b.children,d=c.length,e=Math.floor(this.b/2)-1;0>e||0==d?(c=b.firstChild,a.ka=c||b):(c=c[Math.min(e,d-1)],this.b&1&&((b=c.nextSibling)&&1!=b.nodeType?c=b:a.F=!0),a.ka=c);if(this.id&&(a.F||this.id!=Ua(a.ka)))throw Error("E_CFI_ID_MISMATCH");a.wa=this.wa;return!0};function ab(a,b,c,d){this.offset=a;this.d=b;this.b=c;this.wa=d}
ab.prototype.f=function(a){if(0<this.offset&&!a.F){for(var b=this.offset,c=a.ka;;){var d=c.nodeType;if(1==d)break;var e=c.nextSibling;if(3<=d&&5>=d){d=c.textContent.length;if(b<=d)break;if(!e){b=d;break}b-=d}if(!e){b=0;break}c=e}a.ka=c;a.offset=b}a.wa=this.wa;return!0};
ab.prototype.e=function(a){a.append(":");a.append(this.offset.toString());if(this.d||this.b||this.wa){a.append("[");if(this.d||this.b)this.d&&a.append(this.d.replace(/[\[\]\(\),=;^]/g,Va)),a.append(","),this.b&&a.append(this.b.replace(/[\[\]\(\),=;^]/g,Va));this.wa&&(a.append(";s="),a.append(this.wa));a.append("]")}};function bb(){this.da=null}
function cb(a,b){var c=b.match(/^#?epubcfi\((.*)\)$/);if(!c)throw Error("E_CFI_NOT_CFI");for(var d=c[1],e=0,f=[];;)switch(d.charAt(e)){case "/":e++;c=d.substr(e).match(/^(0|[1-9][0-9]*)(\[([-a-zA-Z_0-9.\u007F-\uFFFF]+)(;([^\]]|\^\])*)?\])?/);if(!c)throw Error("E_CFI_NUMBER_EXPECTED");var e=e+c[0].length,g=parseInt(c[1],10),h=c[3],c=Ya(c[4]);f.push(new $a(g,h,ga(c.s)));break;case ":":e++;c=d.substr(e).match(/^(0|[1-9][0-9]*)(\[((([^\];,]|\^[\];,])*)(,(([^\];,]|\^[\];,])*))?)(;([^]]|\^\])*)?\])?/);
if(!c)throw Error("E_CFI_NUMBER_EXPECTED");e+=c[0].length;g=parseInt(c[1],10);(h=c[4])&&(h=Xa(h));var k=c[7];k&&(k=Xa(k));c=Ya(c[10]);f.push(new ab(g,h,k,ga(c.s)));break;case "!":e++;f.push(new Za);break;case "~":case "@":case "":a.da=f;return;default:throw Error("E_CFI_PARSE_ERROR");}}function db(a,b){for(var c={ka:b.documentElement,offset:0,F:!1,wa:null,ib:null},d=0;d<a.da.length;d++)if(!a.da[d].f(c)){++d<a.da.length&&(c.ib=new bb,c.ib.da=a.da.slice(d));break}return c}
function eb(a,b){return a.replace(/\s+/g," ").match(b?/^[ -\uD7FF\uE000-\uFFFF]{0,8}/:/[ -\uD7FF\uE000-\uFFFF]{0,8}$/)[0].replace(/^\s/,"").replace(/\s$/,"")}
function fb(a,b,c){for(var d=!1,e=null,f=[],g=b.parentNode,h="",k="";b;){switch(b.nodeType){case 3:case 4:case 5:var l=b.textContent,n=l.length;d?(c+=n,h||(h=l)):(c>n&&(c=n),d=!0,h=l.substr(0,c),k=l.substr(c));b=b.previousSibling;continue;case 8:b=b.previousSibling;continue}break}if(0<c||h||k)h=eb(h,!1),k=eb(k,!0),f.push(new ab(c,h,k,e)),e=null;for(;g&&g&&9!=g.nodeType;){c=d?null:Ua(b);for(d=d?1:0;b;)1==b.nodeType&&(d+=2),b=b.previousSibling;f.push(new $a(d,c,e));e=null;b=g;g=g.parentNode;d=!1}f.reverse();
a.da?(f.push(new Za),a.da=f.concat(a.da)):a.da=f}bb.prototype.toString=function(){if(!this.da)return"";var a=new za;a.append("epubcfi(");for(var b=0;b<this.da.length;b++)this.da[b].e(a);a.append(")");return a.toString()};function gb(a){a=a.substr(1);if(a.match(/^[^0-9a-fA-F\n\r]$/))return a;a=parseInt(a,16);return isNaN(a)?"":65535>=a?String.fromCharCode(a):1114111>=a?String.fromCharCode(55296|a>>10&1023,56320|a&1023):"\ufffd"}function hb(a){return a.replace(/\\([0-9a-fA-F]{0,6}(\r\n|[ \n\r\t\f])?|[^0-9a-fA-F\n\r])/g,gb)}function ib(){this.type=0;this.b=!1;this.B=0;this.text="";this.d=0}function x(a,b){var c=Array(128),d;for(d=0;128>d;d++)c[d]=a;c[NaN]=35==a?35:72;for(d=0;d<b.length;d+=2)c[b[d]]=b[d+1];return c}
var jb=[72,72,72,72,72,72,72,72,72,1,1,72,1,1,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,1,4,34,6,7,8,9,33,10,11,12,13,14,15,16,17,2,2,2,2,2,2,2,2,2,2,18,19,20,21,22,23,24,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,25,29,26,30,3,72,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,27,31,28,32,72];jb[NaN]=80;
var kb=[43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,52,43,43,43,43,39,43,43,39,39,39,39,39,39,39,39,39,39,43,43,43,43,43,43,43,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,43,44,43,43,39,43,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,43,43,43,43,43];kb[NaN]=43;
var lb=[72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,78,59,72,59,59,59,59,59,59,59,59,59,59,72,72,72,72,72,72,72,78,78,78,78,78,78,78,78,78,78,78,78,78,78,78,78,78,78,78,78,78,78,78,78,78,78,72,61,72,72,78,72,78,78,78,78,78,78,78,78,78,78,78,78,78,78,78,78,78,78,78,78,78,78,78,78,78,78,72,72,72,72,72];kb[NaN]=43;
var mb=[35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,35,57,59,35,58,58,58,58,58,58,58,58,58,58,35,35,35,35,35,35,35,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,35,61,35,35,60,35,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,35,35,35,35,35];mb[NaN]=35;
var nb=[45,45,45,45,45,45,45,45,45,73,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,73,45,45,45,45,45,45,45,53,45,45,45,45,45,45,45,39,39,39,39,39,39,39,39,39,39,45,45,45,45,45,45,45,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,45,44,45,45,39,45,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,45,45,45,45,45];nb[NaN]=45;
var ob=[37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,41,37,37,37,37,37,37,37,37,42,37,39,39,39,39,39,39,39,39,39,39,37,37,37,37,37,37,37,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,37,37,37,37,40,37,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,37,37,37,37,37];ob[NaN]=37;
var pb=[38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,38,41,38,38,38,38,38,38,38,38,38,38,39,39,39,39,39,39,39,39,39,39,38,38,38,38,38,38,38,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,38,38,38,38,40,38,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,38,38,38,38,38];pb[NaN]=38;
var qb=x(35,[61,36]),rb=x(35,[58,77]),sb=x(35,[61,36,124,50]),tb=x(35,[38,51]),ub=x(35,[42,54]),vb=x(39,[42,55]),wb=x(54,[42,55,47,56]),xb=x(62,[62,56]),yb=x(35,[61,36,33,70]),zb=x(62,[45,71]),Ab=x(63,[45,56]),Bb=x(76,[9,72,10,72,13,72,32,72]),Cb=x(39,[39,46,10,72,13,72,92,48]),Db=x(39,[34,46,10,72,13,72,92,49]),Eb=x(39,[39,47,10,74,13,74,92,48]),Fb=x(39,[34,47,10,74,13,74,92,49]),Gb=x(64,[9,39,32,39,34,66,39,65,41,72,10,39,13,39]),Hb=x(39,[41,67,9,79,10,79,13,79,32,79,92,75,40,72,91,72,93,72,123,
72,125,72,NaN,67]),Ib=x(39,[39,68,10,74,13,74,92,75,NaN,67]),Jb=x(39,[34,68,10,74,13,74,92,75,NaN,67]),Kb=x(72,[9,39,10,39,13,39,32,39,41,69]);function Lb(a){this.e=15;this.j=a;this.g=Array(this.e+1);this.b=-1;for(a=this.h=this.d=this.f=0;a<=this.e;a++)this.g[a]=new ib}function y(a){a.f==a.d&&Mb(a);return a.g[a.d]}function z(a,b){(a.f-a.d&a.e)<=b&&Mb(a);return a.g[a.d+b&a.e]}function A(a){a.d=a.d+1&a.e}
function Mb(a){var b=a.f,c=0<=a.b?a.b:a.d,d=a.e;b>=c?c+=d:c--;if(c==b){if(0>a.b)throw Error("F_CSSTOK_INTERNAL");for(var b=2*(a.e+1)-1,c=Array(b+1),d=a.b,e=0;d!=a.f;)c[e]=a.g[d],d==a.d&&(a.d=e),d=d+1&a.e,e++;a.b=0;a.f=e;a.e=b;for(a.g=c;e<=b;)c[e++]=new ib;b=a.f;c=d=a.e}for(var e=jb,f=a.j,g=a.h,h=a.g,k=0,l=0,n="",p=0,q=!1,u=h[b],v=-9;;){var H=f.charCodeAt(g);switch(e[H]||e[65]){case 72:k=51;n=isNaN(H)?"E_CSS_UNEXPECTED_EOF":"E_CSS_UNEXPECTED_CHAR";g++;break;case 1:g++;q=!0;continue;case 2:l=g++;e=
ob;continue;case 3:k=1;l=g++;e=kb;continue;case 4:l=g++;k=31;e=qb;continue;case 33:k=2;l=++g;e=Cb;continue;case 34:k=2;l=++g;e=Db;continue;case 6:l=++g;k=7;e=kb;continue;case 7:l=g++;k=32;e=qb;continue;case 8:l=g++;k=21;break;case 9:l=g++;k=32;e=tb;continue;case 10:l=g++;k=10;break;case 11:l=g++;k=11;break;case 12:l=g++;k=36;e=qb;continue;case 13:l=g++;k=23;break;case 14:l=g++;k=16;break;case 15:k=24;l=g++;e=mb;continue;case 16:l=g++;e=lb;continue;case 78:l=g++;k=9;e=kb;continue;case 17:l=g++;k=19;
e=ub;continue;case 18:l=g++;k=18;e=rb;continue;case 77:g++;k=50;break;case 19:l=g++;k=17;break;case 20:l=g++;k=38;e=yb;continue;case 21:l=g++;k=39;e=qb;continue;case 22:l=g++;k=37;e=qb;continue;case 23:l=g++;k=22;break;case 24:l=++g;k=20;e=kb;continue;case 25:l=g++;k=14;break;case 26:l=g++;k=15;break;case 27:l=g++;k=12;break;case 28:l=g++;k=13;break;case 29:v=l=g++;k=1;e=Bb;continue;case 30:l=g++;k=33;e=qb;continue;case 31:l=g++;k=34;e=sb;continue;case 32:l=g++;k=35;e=qb;continue;case 35:break;case 36:g++;
k=k+41-31;break;case 37:k=5;p=parseInt(f.substring(l,g),10);break;case 38:k=4;p=parseFloat(f.substring(l,g));break;case 39:g++;continue;case 40:k=3;p=parseFloat(f.substring(l,g));l=g++;e=kb;continue;case 41:k=3;p=parseFloat(f.substring(l,g));n="%";l=g++;break;case 42:g++;e=pb;continue;case 43:n=f.substring(l,g);break;case 44:v=g++;e=Bb;continue;case 45:n=hb(f.substring(l,g));break;case 46:n=f.substring(l,g);g++;break;case 47:n=hb(f.substring(l,g));g++;break;case 48:v=g;g+=2;e=Eb;continue;case 49:v=
g;g+=2;e=Fb;continue;case 50:g++;k=25;break;case 51:g++;k=26;break;case 52:n=f.substring(l,g);if(1==k){g++;if("url"==n.toLowerCase()){e=Gb;continue}k=6}break;case 53:n=hb(f.substring(l,g));if(1==k){g++;if("url"==n.toLowerCase()){e=Gb;continue}k=6}break;case 54:e=vb;g++;continue;case 55:e=wb;g++;continue;case 56:e=jb;g++;continue;case 57:e=xb;g++;continue;case 58:k=5;e=ob;g++;continue;case 59:k=4;e=pb;g++;continue;case 60:k=1;e=kb;g++;continue;case 61:k=1;e=Bb;v=g++;continue;case 62:g--;break;case 63:g-=
2;break;case 64:l=g++;e=Hb;continue;case 65:l=++g;e=Ib;continue;case 66:l=++g;e=Jb;continue;case 67:k=8;n=hb(f.substring(l,g));g++;break;case 69:g++;break;case 70:e=zb;g++;continue;case 71:e=Ab;g++;continue;case 79:if(8>g-v&&f.substring(v+1,g+1).match(/^[0-9a-fA-F]{0,6}(\r\n|[\n\r])|[ \t]$/)){g++;continue}case 68:k=8;n=hb(f.substring(l,g));g++;e=Kb;continue;case 74:g++;if(9>g-v&&f.substring(v+1,g).match(/^[0-9a-fA-F]{0,6}(\r\n|[\n\r])$/))continue;k=51;n="E_CSS_UNEXPECTED_NEWLINE";break;case 73:if(9>
g-v&&f.substring(v+1,g+1).match(/^[0-9a-fA-F]{0,6}[ \t]$/)){g++;continue}n=hb(f.substring(l,g));break;case 75:v=g++;continue;case 76:g++;e=nb;continue;default:if(e!==jb){k=51;n="E_CSS_UNEXPECTED_STATE";break}l=g;k=0}u.type=k;u.b=q;u.B=p;u.text=n;u.d=l;b++;if(b>=c)break;e=jb;q=!1;u=h[b&d]}a.h=g;a.f=b&d};function Nb(){return{fontFamily:"serif",lineHeight:1.25,margin:8,Zb:!0,Wb:25,Yb:!1,cc:!1,jb:!1}}function Ob(a){return{fontFamily:a.fontFamily,lineHeight:a.lineHeight,margin:a.margin,Zb:a.Zb,Wb:a.Wb,Yb:a.Yb,cc:a.cc,jb:a.jb}}var Pb=Nb(),Qb={};function Rb(a,b,c,d){var e=Math.min((a-0)/c,(b-0)/d);return"matrix("+e+",0,0,"+e+","+(a-c)/2+","+(b-d)/2+")"}function Sb(a){return'"'+Da(a+"")+'"'}function Tb(a){return Ba(a+"")}function Ub(a,b){return a?Ba(a)+"."+Ba(b):Ba(b)}var Vb=0;
function Wb(a,b){this.parent=a;this.j="S"+Vb++;this.children=[];this.b=new Xb(this,0);this.d=new Xb(this,1);this.f=new Xb(this,!0);this.e=new Xb(this,!1);new Yb(this,100,"vw");new Yb(this,100,"vh");a&&a.children.push(this);this.g={};this.l={};this.k={};this.h=b;if(!a){var c=this.k;c.floor=Math.floor;c.ceil=Math.ceil;c.round=Math.round;c.sqrt=Math.sqrt;c.min=Math.min;c.max=Math.max;c.letterbox=Rb;c["css-string"]=Sb;c["css-name"]=Tb;c["typeof"]=function(a){return typeof a};Zb(this,"page-width",function(){return this.j});
Zb(this,"page-height",function(){return this.h});Zb(this,"pref-font-family",function(){return this.e.fontFamily});Zb(this,"pref-night-mode",function(){return this.e.cc});Zb(this,"pref-hyphenate",function(){return this.e.Zb});Zb(this,"pref-margin",function(){return this.e.margin});Zb(this,"pref-line-height",function(){return this.e.lineHeight});Zb(this,"pref-column-width",function(){return this.e.Wb*this.fontSize});Zb(this,"pref-horizontal",function(){return this.e.Yb})}}
function Zb(a,b,c){a.g[b]=new $b(a,c,b)}function ac(a,b){a.g["page-number"]=b}function bc(a,b){a.k["has-content"]=b}var cc={px:1,"in":96,pt:4/3,pc:16,cm:96/2.54,mm:96/25.4,q:96/2.54/40,em:16,rem:16,ex:8,rex:8};function dc(a,b,c,d){this.j=b;this.h=c;this.fontSize=d;this.e=Pb;this.l={}}function ec(a,b){a.l[b.j]={};for(var c=0;c<b.children.length;c++)ec(a,b.children[c])}
function fc(a,b){return"vw"==b?a.j/100:"vh"==b?a.h/100:"em"==b||"rem"==b?a.fontSize:"ex"==b||"rex"==b?cc.ex*a.fontSize/cc.em:cc[b]}function gc(a,b,c){do{var d=b.g[c];if(d||b.h&&(d=b.h.call(a,c,!1)))return d;b=b.parent}while(b);throw Error("Name '"+c+"' is undefined");}
function hc(a,b,c,d,e){do{var f=b.l[c];if(f||b.h&&(f=b.h.call(a,c,!0)))return f;if(f=b.k[c]){if(e)return b.b;c=Array(d.length);for(e=0;e<d.length;e++)c[e]=d[e].evaluate(a);return new Xb(b,f.apply(a,c))}b=b.parent}while(b);throw Error("Function '"+c+"' is undefined");}
function ic(a,b,c){var d="",e=b.match(/^(min|max)-(.*)$/);e&&(d=e[1],b=e[2]);var f=e=null;switch(b){case "width":case "height":case "device-width":case "device-height":case "color":c&&(e=c.evaluate(a))}switch(b){case "width":f=a.j;break;case "height":f=a.h;break;case "device-width":f=window.screen.availWidth;break;case "device-height":f=window.screen.availHeight;break;case "color":f=window.screen.pixelDepth}if(null!=f&&null!=e)switch(d){case "min":return f>=e;case "max":return f<=e;default:return f==
e}return!1}function C(a){this.b=a;this.f="_"+Vb++}m=C.prototype;m.toString=function(){var a=new za;this.$(a,0);return a.toString()};m.$=function(){throw Error("F_ABSTRACT");};m.pa=function(){throw Error("F_ABSTRACT");};m.ma=function(){return this};m.Ra=function(a){return a===this};function jc(a,b,c,d){var e=d[a.f];if(null!=e)return e===Qb?!1:e;d[a.f]=Qb;b=a.Ra(b,c,d);return d[a.f]=b}
m.evaluate=function(a){var b;b=(b=a.l[this.b.j])?b[this.f]:void 0;if("undefined"!=typeof b)return b;b=this.pa(a);var c=this.f,d=this.b,e=a.l[d.j];e||(e={},a.l[d.j]=e);return e[c]=b};m.Fc=function(){return!1};function kc(a,b){C.call(this,a);this.d=b}r(kc,C);m=kc.prototype;m.lc=function(){throw Error("F_ABSTRACT");};m.nc=function(){throw Error("F_ABSTRACT");};m.pa=function(a){a=this.d.evaluate(a);return this.nc(a)};m.Ra=function(a,b,c){return a===this||jc(this.d,a,b,c)};
m.$=function(a,b){10<b&&a.append("(");a.append(this.lc());this.d.$(a,10);10<b&&a.append(")")};m.ma=function(a,b){var c=this.d.ma(a,b);return c===this.d?this:new this.constructor(this.b,c)};function D(a,b,c){C.call(this,a);this.d=b;this.e=c}r(D,C);m=D.prototype;m.vb=function(){throw Error("F_ABSTRACT");};m.ja=function(){throw Error("F_ABSTRACT");};m.ua=function(){throw Error("F_ABSTRACT");};m.pa=function(a){var b=this.d.evaluate(a);a=this.e.evaluate(a);return this.ua(b,a)};
m.Ra=function(a,b,c){return a===this||jc(this.d,a,b,c)||jc(this.e,a,b,c)};m.$=function(a,b){var c=this.vb();c<=b&&a.append("(");this.d.$(a,c);a.append(this.ja());this.e.$(a,c);c<=b&&a.append(")")};m.ma=function(a,b){var c=this.d.ma(a,b),d=this.e.ma(a,b);return c===this.d&&d===this.e?this:new this.constructor(this.b,c,d)};function lc(a,b,c){D.call(this,a,b,c)}r(lc,D);lc.prototype.vb=function(){return 1};function mc(a,b,c){D.call(this,a,b,c)}r(mc,D);mc.prototype.vb=function(){return 2};
function nc(a,b,c){D.call(this,a,b,c)}r(nc,D);nc.prototype.vb=function(){return 3};function oc(a,b,c){D.call(this,a,b,c)}r(oc,D);oc.prototype.vb=function(){return 4};function pc(a,b){kc.call(this,a,b)}r(pc,kc);pc.prototype.lc=function(){return"!"};pc.prototype.nc=function(a){return!a};function qc(a,b){kc.call(this,a,b)}r(qc,kc);qc.prototype.lc=function(){return"-"};qc.prototype.nc=function(a){return-a};function rc(a,b,c){D.call(this,a,b,c)}r(rc,lc);rc.prototype.ja=function(){return"&&"};
rc.prototype.pa=function(a){return this.d.evaluate(a)&&this.e.evaluate(a)};function sc(a,b,c){D.call(this,a,b,c)}r(sc,rc);sc.prototype.ja=function(){return" and "};function tc(a,b,c){D.call(this,a,b,c)}r(tc,lc);tc.prototype.ja=function(){return"||"};tc.prototype.pa=function(a){return this.d.evaluate(a)||this.e.evaluate(a)};function uc(a,b,c){D.call(this,a,b,c)}r(uc,tc);uc.prototype.ja=function(){return", "};function vc(a,b,c){D.call(this,a,b,c)}r(vc,mc);vc.prototype.ja=function(){return"<"};
vc.prototype.ua=function(a,b){return a<b};function wc(a,b,c){D.call(this,a,b,c)}r(wc,mc);wc.prototype.ja=function(){return"<="};wc.prototype.ua=function(a,b){return a<=b};function xc(a,b,c){D.call(this,a,b,c)}r(xc,mc);xc.prototype.ja=function(){return">"};xc.prototype.ua=function(a,b){return a>b};function yc(a,b,c){D.call(this,a,b,c)}r(yc,mc);yc.prototype.ja=function(){return">="};yc.prototype.ua=function(a,b){return a>=b};function zc(a,b,c){D.call(this,a,b,c)}r(zc,mc);zc.prototype.ja=function(){return"=="};
zc.prototype.ua=function(a,b){return a==b};function Ac(a,b,c){D.call(this,a,b,c)}r(Ac,mc);Ac.prototype.ja=function(){return"!="};Ac.prototype.ua=function(a,b){return a!=b};function Bc(a,b,c){D.call(this,a,b,c)}r(Bc,nc);Bc.prototype.ja=function(){return"+"};Bc.prototype.ua=function(a,b){return a+b};function Cc(a,b,c){D.call(this,a,b,c)}r(Cc,nc);Cc.prototype.ja=function(){return" - "};Cc.prototype.ua=function(a,b){return a-b};function Dc(a,b,c){D.call(this,a,b,c)}r(Dc,oc);Dc.prototype.ja=function(){return"*"};
Dc.prototype.ua=function(a,b){return a*b};function Ec(a,b,c){D.call(this,a,b,c)}r(Ec,oc);Ec.prototype.ja=function(){return"/"};Ec.prototype.ua=function(a,b){return a/b};function Fc(a,b,c){D.call(this,a,b,c)}r(Fc,oc);Fc.prototype.ja=function(){return"%"};Fc.prototype.ua=function(a,b){return a%b};function Yb(a,b,c){C.call(this,a);this.B=b;this.d=c}r(Yb,C);Yb.prototype.$=function(a){a.append(this.B.toString());a.append(Ba(this.d))};Yb.prototype.pa=function(a){return this.B*fc(a,this.d)};
function Gc(a,b){C.call(this,a);this.d=b}r(Gc,C);Gc.prototype.$=function(a){a.append(this.d)};Gc.prototype.pa=function(a){return gc(a,this.b,this.d).evaluate(a)};Gc.prototype.Ra=function(a,b,c){return a===this||jc(gc(b,this.b,this.d),a,b,c)};function Hc(a,b,c){C.call(this,a);this.d=b;this.name=c}r(Hc,C);Hc.prototype.$=function(a){this.d&&a.append("not ");a.append(Ba(this.name))};Hc.prototype.pa=function(){return!0};Hc.prototype.Fc=function(){return!0};
function $b(a,b,c){C.call(this,a);this.Sa=b;this.d=c}r($b,C);$b.prototype.$=function(a){a.append(this.d)};$b.prototype.pa=function(a){return this.Sa.call(a)};function Ic(a,b,c){C.call(this,a);this.e=b;this.d=c}r(Ic,C);Ic.prototype.$=function(a){a.append(this.e);var b=this.d;a.append("(");for(var c=0;c<b.length;c++)c&&a.append(","),b[c].$(a,0);a.append(")")};Ic.prototype.pa=function(a){return hc(a,this.b,this.e,this.d,!1).ma(a,this.d).evaluate(a)};
Ic.prototype.Ra=function(a,b,c){if(a===this)return!0;for(var d=0;d<this.d.length;d++)if(jc(this.d[d],a,b,c))return!0;return jc(hc(b,this.b,this.e,this.d,!0),a,b,c)};Ic.prototype.ma=function(a,b){for(var c,d=c=this.d,e=0;e<c.length;e++){var f=c[e].ma(a,b);if(c!==d)d[e]=f;else if(f!==c[e]){for(var d=Array(c.length),g=0;g<e;g++)d[g]=c[g];d[e]=f}}c=d;return c===this.d?this:new Ic(this.b,this.e,c)};function Jc(a,b,c,d){C.call(this,a);this.d=b;this.g=c;this.e=d}r(Jc,C);
Jc.prototype.$=function(a,b){0<b&&a.append("(");this.d.$(a,0);a.append("?");this.g.$(a,0);a.append(":");this.e.$(a,0);0<b&&a.append(")")};Jc.prototype.pa=function(a){return this.d.evaluate(a)?this.g.evaluate(a):this.e.evaluate(a)};Jc.prototype.Ra=function(a,b,c){return a===this||jc(this.d,a,b,c)||jc(this.g,a,b,c)||jc(this.e,a,b,c)};Jc.prototype.ma=function(a,b){var c=this.d.ma(a,b),d=this.g.ma(a,b),e=this.e.ma(a,b);return c===this.d&&d===this.g&&e===this.e?this:new Jc(this.b,c,d,e)};
function Xb(a,b){C.call(this,a);this.d=b}r(Xb,C);Xb.prototype.$=function(a){switch(typeof this.d){case "number":case "boolean":a.append(this.d.toString());break;case "string":a.append('"');a.append(Da(this.d));a.append('"');break;default:throw Error("F_UNEXPECTED_STATE");}};Xb.prototype.pa=function(){return this.d};function Kc(a,b,c){C.call(this,a);this.name=b;this.value=c}r(Kc,C);Kc.prototype.$=function(a){a.append("(");a.append(Da(this.name.name));a.append(":");this.value.$(a,0);a.append(")")};
Kc.prototype.pa=function(a){return ic(a,this.name.name,this.value)};Kc.prototype.Ra=function(a,b,c){return a===this||jc(this.value,a,b,c)};Kc.prototype.ma=function(a,b){var c=this.value.ma(a,b);return c===this.value?this:new Kc(this.b,this.name,c)};function Lc(a,b){C.call(this,a);this.d=b}r(Lc,C);Lc.prototype.$=function(a){a.append("$");a.append(this.d.toString())};Lc.prototype.ma=function(a,b){var c=b[this.d];if(!c)throw Error("Parameter missing: "+this.d);return c};
function Mc(a,b,c){return b===a.e||b===a.b||c==a.e||c==a.b?a.e:b===a.f||b===a.d?c:c===a.f||c===a.d?b:new rc(a,b,c)}function E(a,b,c){return b===a.b?c:c===a.b?b:new Bc(a,b,c)}function F(a,b,c){return b===a.b?new qc(a,c):c===a.b?b:new Cc(a,b,c)}function Nc(a,b,c){return b===a.b||c===a.b?a.b:b===a.d?c:c===a.d?b:new Dc(a,b,c)}function Oc(a,b,c){return b===a.b?a.b:c===a.d?b:new Ec(a,b,c)};var Pc={};function Qc(){}m=Qc.prototype;m.Ea=function(a){for(var b=0;b<a.length;b++)a[b].I(this)};m.gc=function(){throw Error("E_CSS_EMPTY_NOT_ALLOWED");};m.hc=function(){throw Error("E_CSS_SLASH_NOT_ALLOWED");};m.pb=function(){throw Error("E_CSS_STR_NOT_ALLOWED");};m.Ka=function(){throw Error("E_CSS_IDENT_NOT_ALLOWED");};m.Xa=function(){throw Error("E_CSS_NUMERIC_NOT_ALLOWED");};m.Wa=function(){throw Error("E_CSS_NUM_NOT_ALLOWED");};m.Va=function(a){return this.Wa(a)};
m.Mb=function(){throw Error("E_CSS_COLOR_NOT_ALLOWED");};m.Ya=function(){throw Error("E_CSS_URL_NOT_ALLOWED");};m.xa=function(){throw Error("E_CSS_LIST_NOT_ALLOWED");};m.Ia=function(){throw Error("E_CSS_COMMA_NOT_ALLOWED");};m.Ja=function(){throw Error("E_CSS_FUNC_NOT_ALLOWED");};m.ob=function(){throw Error("E_CSS_EXPR_NOT_ALLOWED");};function Rc(){}r(Rc,Qc);m=Rc.prototype;
m.Ea=function(a){for(var b=null,c=0;c<a.length;c++){var d=a[c],e=d.I(this);if(b)b[c]=e;else if(d!==e){b=Array(a.length);for(d=0;d<c;d++)b[d]=a[d];b[c]=e}}return b||a};m.pb=function(a){return a};m.Ka=function(a){return a};m.hc=function(a){return a};m.Xa=function(a){return a};m.Wa=function(a){return a};m.Va=function(a){return a};m.Mb=function(a){return a};m.Ya=function(a){return a};m.xa=function(a){var b=this.Ea(a.b);return b===a.b?a:new Sc(b)};m.Ia=function(a){var b=this.Ea(a.b);return b===a.b?a:new Tc(b)};
m.Ja=function(a){var b=this.Ea(a.b);return b===a.b?a:new Uc(a.name,b)};m.ob=function(a){return a};function Vc(){}m=Vc.prototype;m.toString=function(){var a=new za;this.ga(a,!0);return a.toString()};m.stringValue=function(){var a=new za;this.ga(a,!1);return a.toString()};m.ba=function(){throw Error("F_ABSTRACT");};m.ga=function(a){a.append("[error]")};m.qc=function(){return!1};m.Gc=function(){return!1};m.rc=function(){return!1};m.Ec=function(){return!1};
function Wc(){if(G)throw Error("E_INVALID_CALL");}r(Wc,Vc);Wc.prototype.ba=function(a){return new Xb(a,"")};Wc.prototype.ga=function(){};Wc.prototype.I=function(a){return a.gc(this)};var G=new Wc;function Xc(){if(Yc)throw Error("E_INVALID_CALL");}r(Xc,Vc);Xc.prototype.ba=function(a){return new Xb(a,"/")};Xc.prototype.ga=function(a){a.append("/")};Xc.prototype.I=function(a){return a.hc(this)};var Yc=new Xc;function Zc(a){this.b=a}r(Zc,Vc);Zc.prototype.ba=function(a){return new Xb(a,this.b)};
Zc.prototype.ga=function(a,b){b?(a.append('"'),a.append(Da(this.b)),a.append('"')):a.append(this.b)};Zc.prototype.I=function(a){return a.pb(this)};function $c(a){this.name=a;if(Pc[a])throw Error("E_INVALID_CALL");Pc[a]=this}r($c,Vc);$c.prototype.ba=function(a){return new Xb(a,this.name)};$c.prototype.ga=function(a,b){b?a.append(Ba(this.name)):a.append(this.name)};$c.prototype.I=function(a){return a.Ka(this)};$c.prototype.Ec=function(){return!0};
function I(a){var b=Pc[a];b||(b=new $c(a));return b}function ad(a,b){this.B=a;this.d=b}r(ad,Vc);ad.prototype.ba=function(a,b){return 0==this.B?a.b:b&&"%"==this.d?100==this.B?b:new Dc(a,b,new Xb(a,this.B/100)):new Yb(a,this.B,this.d)};ad.prototype.ga=function(a){a.append(this.B.toString());a.append(this.d)};ad.prototype.I=function(a){return a.Xa(this)};ad.prototype.Gc=function(){return!0};function bd(a){this.B=a}r(bd,Vc);bd.prototype.ba=function(a){return 0==this.B?a.b:1==this.B?a.d:new Xb(a,this.B)};
bd.prototype.ga=function(a){a.append(this.B.toString())};bd.prototype.I=function(a){return a.Wa(this)};bd.prototype.rc=function(){return!0};function cd(a){this.B=a}r(cd,bd);cd.prototype.I=function(a){return a.Va(this)};function dd(a){this.b=a}r(dd,Vc);dd.prototype.ga=function(a){a.append("#");var b=this.b.toString(16);a.append("000000".substr(b.length));a.append(b)};dd.prototype.I=function(a){return a.Mb(this)};function ed(a){this.url=a}r(ed,Vc);
ed.prototype.ga=function(a){a.append('url("');a.append(Da(this.url));a.append('")')};ed.prototype.I=function(a){return a.Ya(this)};function fd(a,b,c,d){var e=b.length;b[0].ga(a,d);for(var f=1;f<e;f++)a.append(c),b[f].ga(a,d)}function Sc(a){this.b=a}r(Sc,Vc);Sc.prototype.ga=function(a,b){fd(a,this.b," ",b)};Sc.prototype.I=function(a){return a.xa(this)};function Tc(a){this.b=a}r(Tc,Vc);Tc.prototype.ga=function(a,b){fd(a,this.b,",",b)};Tc.prototype.I=function(a){return a.Ia(this)};
function Uc(a,b){this.name=a;this.b=b}r(Uc,Vc);Uc.prototype.ga=function(a,b){a.append(Ba(this.name));a.append("(");fd(a,this.b,",",b);a.append(")")};Uc.prototype.I=function(a){return a.Ja(this)};function J(a){this.e=a}r(J,Vc);J.prototype.ba=function(){return this.e};J.prototype.ga=function(a){a.append("-epubx-expr(");this.e.$(a,0);a.append(")")};J.prototype.I=function(a){return a.ob(this)};J.prototype.qc=function(){return!0};
function gd(a,b){if(a){if(a.Gc())return fc(b,a.d)*a.B;if(a.rc())return a.B}return 0}
var hd=I("absolute"),id=I("all"),jd=I("auto"),kd=I("avoid"),ld=I("block"),md=I("both"),nd=I("exclusive"),od=I("false"),pd=I("footnote"),qd=I("hidden"),rd=I("inherit"),sd=I("inline"),td=I("left"),ud=I("list-item"),vd=I("none"),wd=I("normal"),xd=I("oeb-page-foot"),zd=I("oeb-page-head"),Ad=I("relative"),Bd=I("right"),Cd=I("scale"),Dd=I("static"),Ed=I("table"),Fd=I("table-row"),Gd=I("transparent"),Hd=I("vertical-rl"),Id=I("true"),Jd=new ad(100,"%"),Kd=new ad(100,"vw"),Ld=new ad(100,"vh"),Md={"font-size":1,
color:2};function Nd(a,b){return(Md[a]||Number.MAX_VALUE)-(Md[b]||Number.MAX_VALUE)};function Od(a,b,c,d){this.R=a;this.Q=b;this.P=c;this.K=d}function Pd(a,b){this.x=a;this.y=b}function Qd(){this.bottom=this.right=this.top=this.left=0}function Rd(a,b,c,d){this.b=a;this.d=b;this.f=c;this.e=d}function Sd(a,b,c,d){this.Q=a;this.K=b;this.R=c;this.P=d;this.right=this.left=null}function Td(a,b){return a.b.y-b.b.y||a.b.x-b.b.x}function Ud(a){this.b=a}function Vd(a,b,c){a=a.b;for(var d=a.length,e=a[d-1],f=0;f<d;f++){var g=a[f];b.push(e.y<g.y?new Rd(e,g,1,c):new Rd(g,e,-1,c));e=g}}
function Wd(a,b,c){for(var d=[],e=0;e<a.b.length;e++){var f=a.b[e];d.push(new Pd(f.x+b,f.y+c))}return new Ud(d)}function Xd(a,b,c,d){for(var e=[],f=0;20>f;f++){var g=2*f*Math.PI/20;e.push(new Pd(a+c*Math.sin(g),b+d*Math.cos(g)))}return new Ud(e)}function Yd(a,b,c,d){return new Ud([new Pd(a,b),new Pd(c,b),new Pd(c,d),new Pd(a,d)])}function Zd(a,b,c,d){this.x=a;this.e=b;this.b=c;this.d=d}
function $d(a,b){var c=a.b.x+(a.d.x-a.b.x)*(b-a.b.y)/(a.d.y-a.b.y);if(isNaN(c))throw Error("Bad intersection");return c}function ae(a,b,c,d){var e,f;b.d.y<c&&w("Error: inconsistent segment (1)");b.b.y<=c?(c=$d(b,c),e=b.f):(c=b.b.x,e=0);b.d.y>=d?(d=$d(b,d),f=b.f):(d=b.d.x,f=0);c<d?(a.push(new Zd(c,e,b.e,-1)),a.push(new Zd(d,f,b.e,1))):(a.push(new Zd(d,f,b.e,-1)),a.push(new Zd(c,e,b.e,1)))}
function be(a,b,c){c=b+c;for(var d=Array(c),e=Array(c),f=0;f<=c;f++)d[f]=0,e[f]=0;for(var g=[],h=!1,k=a.length,l=0;l<k;l++){var n=a[l];d[n.b]+=n.e;e[n.b]+=n.d;for(var p=!1,f=0;f<b;f++)if(d[f]&&!e[f]){p=!0;break}if(p)for(f=b;f<=c;f++)if(d[f]||e[f]){p=!1;break}h!=p&&(g.push(n.x),h=p)}return g}function ce(a,b){return b?Math.ceil(a/b)*b:a}function de(a,b){return b?Math.floor(a/b)*b:a}function ee(a){return new Pd(a.y,-a.x)}function fe(a){return new Od(a.Q,-a.P,a.K,-a.R)}
function ge(a){return new Ud(Na(a.b,ee))}
function he(a,b,c,d,e){e&&(a=fe(a),b=Na(b,ge),c=Na(c,ge));e=b.length;var f=c?c.length:0,g=[],h=[],k,l,n;for(k=0;k<e;k++)Vd(b[k],h,k);for(k=0;k<f;k++)Vd(c[k],h,k+e);b=h.length;h.sort(Td);for(c=0;h[c].e>=e;)c++;c=h[c].b.y;c>a.Q&&g.push(new Sd(a.Q,c,a.P,a.P));k=0;for(var p=[];k<b&&(n=h[k]).b.y<c;)n.d.y>c&&p.push(n),k++;for(;k<b||0<p.length;){var q=a.K,u=ce(Math.ceil(c+8),d);for(l=0;l<p.length&&q>u;l++)n=p[l],n.b.x==n.d.x?n.d.y<q&&(q=Math.max(de(n.d.y,d),u)):n.b.x!=n.d.x&&(q=u);q>a.K&&(q=a.K);for(;k<
b&&(n=h[k]).b.y<q;)if(n.d.y<c)k++;else if(n.b.y<u){if(n.b.y!=n.d.y||n.b.y!=c)p.push(n),q=u;k++}else{l=de(n.b.y,d);l<q&&(q=l);break}u=[];for(l=0;l<p.length;l++)ae(u,p[l],c,q);u.sort(function(a,b){return a.x-b.x||a.d-b.d});u=be(u,e,f);if(0==u.length)g.push(new Sd(c,q,a.P,a.P));else{var v=0,H=a.R;for(l=0;l<u.length;l+=2){var V=Math.max(a.R,u[l]),K=Math.min(a.P,u[l+1])-V;K>v&&(v=K,H=V)}0==v?g.push(new Sd(c,q,a.P,a.P)):g.push(new Sd(c,q,Math.max(H,a.R),Math.min(H+v,a.P)))}if(q==a.K)break;c=q;for(l=p.length-
1;0<=l;l--)p[l].d.y<=q&&p.splice(l,1)}ie(a,g);return g}function ie(a,b){for(var c=b.length-1,d=new Sd(a.K,a.K,a.R,a.P);0<=c;){var e=d,d=b[c];d.R==e.R&&d.P==e.P&&(e.Q=d.Q,b.splice(c,1),d=e);c--}}function je(a,b){for(var c=0,d=a.length;c<d;){var e=Math.floor((c+d)/2);b>=a[e].K?c=e+1:d=e}return c};function ke(a){return String.fromCharCode(a>>>24&255,a>>>16&255,a>>>8&255,a&255)}
function le(a){var b=new za;b.append(a);var c=55-a.length&63;for(b.append("\u0080");0<c;)c--,b.append("\x00");b.append("\x00\x00\x00\x00");b.append(ke(8*a.length));a=b.toString();for(var b=[1732584193,4023233417,2562383102,271733878,3285377520],c=[],d,e=0;e<a.length;e+=64){for(d=0;16>d;d++){var f=a.substr(e+4*d,4);c[d]=(f.charCodeAt(0)&255)<<24|(f.charCodeAt(1)&255)<<16|(f.charCodeAt(2)&255)<<8|f.charCodeAt(3)&255}for(;80>d;d++)f=c[d-3]^c[d-8]^c[d-14]^c[d-16],c[d]=f<<1|f>>>31;var f=b[0],g=b[1],h=
b[2],k=b[3],l=b[4],n;for(d=0;80>d;d++)n=20>d?(g&h|~g&k)+1518500249:40>d?(g^h^k)+1859775393:60>d?(g&h|g&k|h&k)+2400959708:(g^h^k)+3395469782,n+=(f<<5|f>>>27)+l+c[d],l=k,k=h,h=g<<30|g>>>2,g=f,f=n;b[0]=b[0]+f|0;b[1]=b[1]+g|0;b[2]=b[2]+h|0;b[3]=b[3]+k|0;b[4]=b[4]+l|0}return b}function me(a){a=le(a);for(var b=[],c=0;c<a.length;c++){var d=a[c];b.push(d>>>24&255,d>>>16&255,d>>>8&255,d&255)}return b}
function ne(a){a=le(a);for(var b=new za,c=0;c<a.length;c++)b.append(ke(a[c]));a=b.toString();b=new za;for(c=0;c<a.length;c++)b.append((a.charCodeAt(c)|256).toString(16).substr(1));return b.toString()};var oe=null,pe=null;function L(a){if(!oe)throw Error("E_TASK_NO_CONTEXT");oe.name||(oe.name=a);var b=oe;a=new qe(b,b.top,a);b.top=a;a.b=re;return a}function M(a){return new se(a)}function te(a,b,c){a=L(a);a.g=c;try{b(a)}catch(d){ue(a.d,d,a)}return N(a)}function ve(a){var b=we,c;oe?c=oe.d:(c=pe)||(c=new xe(new ye));b(c,a,void 0)}function ze(a,b){var c=b.frameTrace;c?w(a+":\n"+c):w(a+":\n"+b.toString())}var re=1;function ye(){}ye.prototype.currentTime=function(){return(new Date).valueOf()};
function Ae(a,b){return setTimeout(a,b)}ye.prototype.log=function(a){window.console&&window.console.log&&window.console.log(a)};function xe(a){this.e=a;this.f=1;this.h=0;this.d=new ha;this.b=this.j=null;this.g=!1;this.Y=0;pe||(pe=this)}
function Be(a){if(!a.g){var b=a.d.b[1].b,c=a.e.currentTime();if(null!=a.b){if(c+a.f>a.j)return;clearTimeout(a.b)}b-=c;b<=a.f&&(b=a.f);a.j=c+b;a.b=Ae(function(){a.b=null;null!=a.b&&(clearTimeout(a.b),a.b=null);a.g=!0;try{var b=a.e.currentTime();for(a.h=b+25;a.d.length();){var c=a.d.b[1];if(c.b>b)break;var f=a.d,g=f.b.pop(),h=f.b.length;if(1<h){for(var k=1;;){var l=2*k;if(l>=h)break;if(0<Ce(f.b[l],g))l+1<h&&0<Ce(f.b[l+1],f.b[l])&&l++;else if(l+1<h&&0<Ce(f.b[l+1],g))l++;else break;f.b[k]=f.b[l];k=l}f.b[k]=
g}var k=c,n=k.d;k.d=null;n&&n.e==k&&(n.e=null,l=oe,oe=n,O(n.top,k.e),oe=l);b=a.e.currentTime();if(b>=a.h)break}}catch(p){}a.g=!1;a.d.length()&&Be(a)},b)}}xe.prototype.za=function(a,b){var c=this.e.currentTime();a.Y=this.Y++;a.b=c+(b||0);a:{for(var c=this.d,d=c.b.length;1<d;){var e=Math.floor(d/2),f=c.b[e];if(0<Ce(f,a)){c.b[d]=a;break a}c.b[d]=f;d=e}c.b[1]=a}Be(this)};
function we(a,b,c){var d=new De(a,c||"");d.top=new qe(d,null,"bootstrap");d.top.b=re;d.top.then(function(){function a(){d.h=!1;for(var b=0;b<d.g.length;b++){var c=d.g[b];try{c()}catch(e){}}}try{b().then(function(b){d.f=b;a()})}catch(c){ue(d,c),a()}});c=oe;oe=d;a.za(Ee(d.top,"bootstrap"));oe=c;return d}function Fe(a){this.d=a;this.Y=this.b=0;this.e=null}function Ce(a,b){return b.b-a.b||b.Y-a.Y}Fe.prototype.za=function(a,b){this.e=a;this.d.d.za(this,b)};
function De(a,b){this.d=a;this.name=b;this.g=[];this.b=null;this.h=!0;this.e=this.top=this.j=this.f=null}function Ge(a,b){a.g.push(b)}function He(a){var b=L("Task.join");if(a.h){var c=Ee(b,a);Ge(a,function(){c.za(a.f)})}else O(b,a.f);return N(b)}
function ue(a,b,c){var d=b.frameTrace;if(!d){for(var d=b.stack?b.stack+"\n\t---- async ---\n":"",e=a.top;e;e=e.parent)d+="\t",d+=e.name,d+="\n";b.frameTrace=d}if(c){for(d=a.top;d&&d!=c;)d=d.parent;d==c&&(a.top=d)}for(a.b=b;a.top&&!a.top.g;)a.top=a.top.parent;a.top?(b=a.b,a.b=null,a.top.g(a.top,b)):a.b&&ze("Unhandled exception in task "+a.name,a.b)}function se(a){this.value=a}m=se.prototype;m.then=function(a){a(this.value)};m.Ic=function(a){return a(this.value)};m.xc=function(a){return new se(a)};
m.ea=function(a){O(a,this.value)};m.ha=function(){return!1};m.wb=function(){return this.value};function Ie(a){this.b=a}m=Ie.prototype;m.then=function(a){this.b.then(a)};m.Ic=function(a){if(this.ha()){var b=new qe(this.b.d,this.b.parent,"AsyncResult.thenAsync");b.b=re;this.b.parent=b;this.b.then(function(c){a(c).then(function(a){O(b,a)})});return N(b)}return a(this.b.e)};m.xc=function(a){return this.ha()?this.Ic(function(){return new se(a)}):new se(a)};
m.ea=function(a){this.ha()?this.then(function(b){O(a,b)}):O(a,this.b.e)};m.ha=function(){return this.b.b==re};m.wb=function(){if(this.ha())throw Error("Result is pending");return this.b.e};function qe(a,b,c){this.d=a;this.parent=b;this.name=c;this.e=null;this.b=0;this.g=this.f=null}function Je(a){if(!oe)throw Error("F_TASK_NO_CONTEXT");if(a!==oe.top)throw Error("F_TASK_NOT_TOP_FRAME");}function N(a){return new Ie(a)}
function O(a,b){Je(a);oe.b||(a.e=b);a.b=2;var c=a.parent;oe.top=c;if(a.f){try{a.f(b)}catch(d){ue(a.d,d,c)}a.b=3}}qe.prototype.then=function(a){switch(this.b){case re:if(this.f)throw Error("F_TASK_FRAME_ALREADY_HAS_CALLBACK");this.f=a;break;case 2:var b=this.d,c=this.parent;try{a(this.e),this.b=3}catch(d){this.b=3,ue(b,d,c)}break;case 3:throw Error("F_TASK_DEAD_FRAME");default:throw Error("F_TASK_UNEXPECTED_FRAME_STATE "+this.b);}};
function Ke(){var a=L("Frame.timeSlice"),b=a.d.d;b.e.currentTime()>=b.h?(w("-- time slice --"),Ee(a).za(!0)):O(a,!0);return N(a)}function Le(a){function b(d){try{for(;d;){var e=a();if(e.ha()){e.then(b);return}e.then(function(a){d=a})}O(c,!0)}catch(f){ue(c.d,f,c)}}var c=L("Frame.loop");b(!0);return N(c)}function Me(a){var b=oe;if(!b)throw Error("E_TASK_NO_CONTEXT");return Le(function(){var c;do c=new Ne(b,b.top),b.top=c,c.b=re,a(c),c=N(c);while(!c.ha()&&c.wb());return c})}
function Ee(a,b){Je(a);if(a.d.e)throw Error("E_TASK_ALREADY_SUSPENDED");var c=new Fe(a.d);a.d.e=c;oe=null;a.d.j=b||null;return c}function Ne(a,b){qe.call(this,a,b,"loop")}r(Ne,qe);function Oe(a){O(a,!0)}function P(a){O(a,!1)};function Pe(a,b,c,d,e){var f=L("ajax"),g=new XMLHttpRequest,h=Ee(f,g),k={status:0,url:a,responseText:null,responseXML:null,Db:null};g.open(c||"GET",a,!0);b&&(g.responseType="blob");g.onreadystatechange=function(){if(4===g.readyState){k.status=g.status;if(200==k.status||0==k.status)if(!b&&g.responseXML)k.responseXML=g.responseXML;else{var c=g.response;b||"string"!=typeof c?c?"string"==typeof c?k.Db=Qe([c]):k.Db=c:w("Unexpected empty success response for "+a):k.responseText=c}h.za(k)}};d?(g.setRequestHeader("Content-Type",
e||"text/plain; charset=UTF-8"),g.send(d)):g.send(null);return N(f)}function Qe(a){var b=window.WebKitBlobBuilder||window.MSBlobBuilder;if(b){for(var b=new b,c=0;c<a.length;c++)b.append(a[c]);return b.getBlob("application/octet-stream")}return new Blob(a,{type:"application/octet-stream"})}function Re(a){var b=L("readBlob"),c=new FileReader,d=Ee(b,c);c.addEventListener("load",function(){d.za(c.result)},!1);c.readAsArrayBuffer(a);return N(b)}function Se(a,b){this.M=a;this.H=b;this.g={};this.e={}}
Se.prototype.load=function(a){a=aa(a);var b=this.g[a];return"undefined"!=typeof b?M(b):Te(this.yb(a))};function Ue(a,b){var c=L("fetch");Pe(b,a.H).then(function(d){a.M(d,a).then(function(d){delete a.e[b];a.g[b]=d;O(c,d)})});return N(c)}Se.prototype.yb=function(a){a=aa(a);if(this.g[a])return null;var b=this.e[a];if(!b){var c=this,b=new Ve(function(){return Ue(c,a)},"Fetch "+a);c.e[a]=b;We(b)}return b};function Xe(a){a=a.responseText;return M(a?JSON.parse(a):null)};function Ye(a){var b=parseInt(a,16);if(isNaN(b))throw Error("E_CSS_COLOR");if(6==a.length)return new dd(b);if(3==a.length)return new dd(b&15|(b&15)<<4|(b&240)<<4|(b&240)<<8|(b&3840)<<8|(b&3840)<<12);throw Error("E_CSS_COLOR");}function Ze(a){this.e=a;this.Ba="Author"}m=Ze.prototype;m.eb=function(){return null};m.N=function(){return this.e};m.J=function(){};m.Ua=function(a){this.Ba=a};m.Ha=function(){};m.Vb=function(){};m.Cb=function(){};m.hb=function(){};m.$b=function(){};m.xb=function(){};m.Fa=function(){};
m.Ub=function(){};m.Sb=function(){};m.Xb=function(){};m.bc=function(){};m.Ma=function(){};m.Hb=function(){};m.kb=function(){};m.Lb=function(){};m.Fb=function(){};m.Kb=function(){};m.Na=function(){};m.Gb=function(){};m.Jb=function(){};m.Ib=function(){};m.mb=function(){};m.lb=function(){};m.ia=function(){};m.Da=function(){};m.Ga=function(){};function $e(a){switch(a.Ba){case "UA":return 0;case "User":return 100663296;default:return 83886080}}
function af(a){switch(a.Ba){case "UA":return 0;case "User":return 16777216;default:return 33554432}}function bf(){Ze.call(this,null);this.d=[];this.b=null}r(bf,Ze);function cf(a,b){a.d.push(a.b);a.b=b}m=bf.prototype;m.eb=function(){return null};m.N=function(){return this.b.N()};m.J=function(a,b){this.b.J(a,b)};m.Ua=function(a){Ze.prototype.Ua.call(this,a);0<this.d.length&&(this.b=this.d[0],this.d=[]);this.b.Ua(a)};m.Ha=function(a,b){this.b.Ha(a,b)};m.Vb=function(a){this.b.Vb(a)};
m.Cb=function(a,b){this.b.Cb(a,b)};m.hb=function(a,b){this.b.hb(a,b)};m.$b=function(a){this.b.$b(a)};m.xb=function(a,b,c,d){this.b.xb(a,b,c,d)};m.Fa=function(){this.b.Fa()};m.Ub=function(){this.b.Ub()};m.Sb=function(){this.b.Sb()};m.Xb=function(){this.b.Xb()};m.bc=function(){this.b.bc()};m.Ma=function(){this.b.Ma()};m.Hb=function(){this.b.Hb()};m.kb=function(a){this.b.kb(a)};m.Lb=function(){this.b.Lb()};m.Fb=function(){this.b.Fb()};m.Kb=function(){this.b.Kb()};m.Na=function(a){this.b.Na(a)};
m.Gb=function(a){this.b.Gb(a)};m.Jb=function(){this.b.Jb()};m.Ib=function(a,b,c){this.b.Ib(a,b,c)};m.mb=function(a,b,c){this.b.mb(a,b,c)};m.lb=function(a,b,c){this.b.lb(a,b,c)};m.ia=function(){this.b.ia()};m.Da=function(a,b,c){this.b.Da(a,b,c)};m.Ga=function(){this.b.Ga()};function df(a,b,c){Ze.call(this,a);this.M=c;this.H=0;this.W=b}r(df,Ze);df.prototype.eb=function(){return this.W.eb()};df.prototype.J=function(a){w(a)};df.prototype.ia=function(){this.H++};
df.prototype.Ga=function(){if(0==--this.H&&!this.M){var a=this.W;a.b=a.d.pop()}};function ef(a,b,c){df.call(this,a,b,c)}r(ef,df);function ff(a,b){a.J(b,a.eb())}function gf(a,b){ff(a,b);cf(a.W,new df(a.e,a.W,!1))}m=ef.prototype;m.Ma=function(){gf(this,"E_CSS_UNEXPECTED_SELECTOR")};m.Hb=function(){gf(this,"E_CSS_UNEXPECTED_FONT_FACE")};m.kb=function(){gf(this,"E_CSS_UNEXPECTED_FOOTNOTE")};m.Lb=function(){gf(this,"E_CSS_UNEXPECTED_VIEWPORT")};m.Fb=function(){gf(this,"E_CSS_UNEXPECTED_DEFINE")};
m.Kb=function(){gf(this,"E_CSS_UNEXPECTED_REGION")};m.Na=function(){gf(this,"E_CSS_UNEXPECTED_WHEN")};m.Gb=function(){gf(this,"E_CSS_UNEXPECTED_FLOW")};m.Jb=function(){gf(this,"E_CSS_UNEXPECTED_PAGE_TEMPLATE")};m.Ib=function(){gf(this,"E_CSS_UNEXPECTED_PAGE_MASTER")};m.mb=function(){gf(this,"E_CSS_UNEXPECTED_PARTITION")};m.lb=function(){gf(this,"E_CSS_UNEXPECTED_PARTITION_GROUP")};m.Da=function(){this.J("E_CSS_UNEXPECTED_PROPERTY",this.eb())};
var hf=[],jf=[],Q=[],kf=[],lf=[],mf=[],nf=[],R=[],of=[],pf=[],qf=[],S=[];hf[1]=28;hf[36]=29;hf[7]=29;hf[9]=29;hf[14]=29;hf[18]=29;hf[20]=30;hf[13]=27;hf[0]=200;jf[1]=46;jf[0]=200;lf[1]=2;lf[36]=4;lf[7]=6;lf[9]=8;lf[14]=10;lf[18]=14;Q[37]=11;Q[23]=12;Q[35]=56;Q[1]=1;Q[36]=3;Q[7]=5;Q[9]=7;Q[14]=9;Q[12]=13;Q[18]=55;Q[50]=42;Q[16]=41;kf[1]=2;kf[36]=4;kf[7]=6;kf[9]=8;kf[18]=14;kf[50]=42;kf[14]=10;kf[12]=13;mf[1]=15;mf[7]=16;mf[4]=17;mf[5]=18;mf[3]=19;mf[2]=20;mf[8]=21;mf[16]=22;mf[19]=23;mf[6]=24;
mf[11]=25;mf[17]=26;mf[13]=48;mf[31]=47;mf[23]=54;mf[0]=44;nf[1]=31;nf[4]=32;nf[5]=32;nf[3]=33;nf[2]=34;nf[10]=40;nf[6]=38;nf[31]=36;nf[24]=36;nf[32]=35;R[1]=45;R[16]=37;R[37]=37;R[38]=37;R[47]=37;R[48]=37;R[39]=37;R[49]=37;R[26]=37;R[25]=37;R[23]=37;R[24]=37;R[19]=37;R[21]=37;R[36]=37;R[18]=37;R[22]=37;R[11]=39;R[12]=43;R[17]=49;of[0]=200;of[12]=50;of[13]=51;of[14]=50;of[15]=51;of[10]=50;of[11]=51;of[17]=53;pf[0]=200;pf[12]=50;pf[13]=52;pf[14]=50;pf[15]=51;pf[10]=50;pf[11]=51;pf[17]=53;qf[0]=200;
qf[12]=50;qf[13]=51;qf[14]=50;qf[15]=51;qf[10]=50;qf[11]=51;S[11]=0;S[16]=0;S[22]=1;S[18]=1;S[26]=2;S[25]=2;S[38]=3;S[37]=3;S[48]=3;S[47]=3;S[39]=3;S[49]=3;S[41]=3;S[23]=4;S[24]=4;S[36]=5;S[19]=5;S[21]=5;S[0]=6;S[52]=2;function rf(a,b,c,d){this.b=a;this.w=b;this.h=c;this.X=d;this.u=[];this.H={};this.d=this.A=null;this.k=!1;this.f=2;this.T=null;this.l=!1;this.j=this.C=null;this.g=[];this.e=[];this.M=!1}
function sf(a,b){for(var c=[],d=a.u;;){c.push(d[b++]);if(b==d.length)break;if(","!=d[b++])throw Error("Unexpected state");}return c}
function tf(a,b,c){var d=a.u,e=d.length,f;do f=d[--e];while("undefined"!=typeof f&&"string"!=typeof f);var g=d.length-(e+1);1<g&&d.splice(e+1,g,new Sc(d.slice(e+1,d.length)));if(","==b)return null;e++;do f=d[--e];while("undefined"!=typeof f&&("string"!=typeof f||","==f));g=d.length-(e+1);if("("==f){if(")"!=b)return a.h.J("E_CSS_MISMATCHED_C_PAR",c),a.b=pf,null;a=new Uc(d[e-1],sf(a,e+1));d.splice(e-1,g+2,a);return null}return";"!=b||0<=e?(a.h.J("E_CSS_UNEXPECTED_VAL_END",c),a.b=pf,null):1<g?new Tc(sf(a,
e+1)):d[0]}function uf(a,b,c){a.b=a.d?pf:of;a.h.J(b,c)}
function vf(a,b,c){for(var d=a.u,e=a.h,f=d.pop(),g;;){var h=d.pop();if(11==b){for(g=[f];16==h;)g.unshift(d.pop()),h=d.pop();if("string"==typeof h){if("{"==h){for(;2<=g.length;)a=g.shift(),c=g.shift(),a=new uc(e.N(),a,c),g.unshift(a);d.push(new J(g[0]));return!0}if("("==h){b=d.pop();f=d.pop();f=new Ic(e.N(),Ub(f,b),g);b=0;continue}}if(10==h){b=0;continue}}else if("string"==typeof h){d.push(h);break}if(0>h)if(-31==h)f=new pc(e.N(),f);else if(-24==h)f=new qc(e.N(),f);else return uf(a,"F_UNEXPECTED_STATE",
c),!1;else{if(S[b]>S[h]){d.push(h);break}g=d.pop();switch(h){case 26:f=new rc(e.N(),g,f);break;case 52:f=new sc(e.N(),g,f);break;case 25:f=new tc(e.N(),g,f);break;case 38:f=new vc(e.N(),g,f);break;case 37:f=new xc(e.N(),g,f);break;case 48:f=new wc(e.N(),g,f);break;case 47:f=new yc(e.N(),g,f);break;case 39:case 49:f=new zc(e.N(),g,f);break;case 41:f=new Ac(e.N(),g,f);break;case 23:f=new Bc(e.N(),g,f);break;case 24:f=new Cc(e.N(),g,f);break;case 36:f=new Dc(e.N(),g,f);break;case 19:f=new Ec(e.N(),g,
f);break;case 21:f=new Fc(e.N(),g,f);break;case 18:if(1<d.length)switch(d[d.length-1]){case 22:d.pop();f=new Jc(e.N(),d.pop(),g,f);break;case 10:if(g.Fc())f=new Kc(e.N(),g,f);else return uf(a,"E_CSS_MEDIA_TEST",c),!1}else return uf(a,"E_CSS_EXPR_COND",c),!1;break;case 22:if(18!=b)return uf(a,"E_CSS_EXPR_COND",c),!1;case 10:return d.push(g),d.push(h),d.push(f),!1;default:return uf(a,"F_UNEXPECTED_STATE",c),!1}}}d.push(f);return!1}
function wf(a){for(var b=[];;){var c=y(a.w);switch(c.type){case 1:b.push(c.text);break;case 23:b.push("+");break;case 4:case 5:b.push(c.B);break;default:return b}A(a.w)}}
function xf(a,b){var c=a.h.N();if(!c)return null;var d=c.f;if(b)for(var e=b.split(/\s+/),f=0;f<e.length;f++)switch(e[f]){case "vertical":d=Mc(c,d,new pc(c,new Gc(c,"pref-horizontal")));break;case "horizontal":d=Mc(c,d,new Gc(c,"pref-horizontal"));break;case "day":d=Mc(c,d,new pc(c,new Gc(c,"pref-night-mode")));break;case "night":d=Mc(c,d,new Gc(c,"pref-night-mode"));break;default:d=c.e}return d===c.f?null:new J(d)}
function yf(a){switch(a.e[a.e.length-1]){case "[selector]":case "font-face":case "-epubx-flow":case "-epubx-viewport":case "-epubx-define":case "-adapt-footnote-area":return!0}return!1}
function zf(a,b,c,d){for(var e=a.h,f=a.w,g=a.u,h,k,l,n;0<b;--b)switch(h=y(f),a.b[h.type]){case 28:if(18!=z(f,1).type){yf(a)?(e.J("E_CSS_COLON_EXPECTED",z(f,1)),a.b=pf):(a.b=lf,e.Ma());continue}k=z(f,2);if(!(k.b||1!=k.type&&6!=k.type)){if(0<=f.b)throw Error("F_CSSTOK_BAD_CALL mark");f.b=f.d}a.d=h.text;a.k=!1;A(f);A(f);a.b=mf;g.splice(0,g.length);continue;case 46:if(18!=z(f,1).type){a.b=pf;e.J("E_CSS_COLON_EXPECTED",z(f,1));continue}a.d=h.text;a.k=!1;A(f);A(f);a.b=mf;g.splice(0,g.length);continue;case 29:a.b=
lf;e.Ma();continue;case 1:if(!h.b){a.b=qf;e.J("E_CSS_SPACE_EXPECTED",h);continue}e.Fa();case 2:if(34==z(f,1).type)if(A(f),A(f),l=a.H[h.text],null!=l)switch(h=y(f),h.type){case 1:e.Ha(l,h.text);a.b=Q;A(f);break;case 36:e.Ha(l,null);a.b=Q;A(f);break;default:a.b=of,e.J("E_CSS_NAMESPACE",h)}else a.b=of,e.J("E_CSS_UNDECLARED_PREFIX",h);else e.Ha(a.A,h.text),a.b=Q,A(f);continue;case 3:if(!h.b){a.b=qf;e.J("E_CSS_SPACE_EXPECTED",h);continue}e.Fa();case 4:if(34==z(f,1).type)switch(A(f),A(f),h=y(f),h.type){case 1:e.Ha(null,
h.text);a.b=Q;A(f);break;case 36:e.Ha(null,null);a.b=Q;A(f);break;default:a.b=of,e.J("E_CSS_NAMESPACE",h)}else e.Ha(a.A,null),a.b=Q,A(f);continue;case 5:h.b&&e.Fa();case 6:e.$b(h.text);a.b=Q;A(f);continue;case 7:h.b&&e.Fa();case 8:e.Vb(h.text);a.b=Q;A(f);continue;case 55:h.b&&e.Fa();case 14:A(f);h=y(f);switch(h.type){case 1:e.Cb(h.text,null);A(f);a.b=Q;continue;case 6:if(k=h.text,A(f),l=wf(a),h=y(f),11==h.type){e.Cb(k,l);A(f);a.b=Q;continue}}e.J("E_CSS_PSEUDOCLASS_SYNTAX",h);a.b=of;continue;case 42:A(f);
h=y(f);switch(h.type){case 1:e.hb(h.text,null);a.b=Q;A(f);continue;case 6:if(k=h.text,A(f),l=wf(a),h=y(f),11==h.type){e.hb(k,l);a.b=Q;A(f);continue}}e.J("E_CSS_PSEUDOELEM_SYNTAX",h);a.b=of;continue;case 9:h.b&&e.Fa();case 10:A(f);h=y(f);if(1==h.type)k=h.text,A(f);else if(36==h.type)k=null,A(f);else if(34==h.type)k="";else{a.b=qf;e.J("E_CSS_ATTR",h);A(f);continue}h=y(f);if(34==h.type){l=k?a.H[k]:k;if(null==l){a.b=qf;e.J("E_CSS_UNDECLARED_PREFIX",h);A(f);continue}A(f);h=y(f);if(1!=h.type){a.b=qf;e.J("E_CSS_ATTR_NAME_EXPECTED",
h);continue}k=h.text;A(f);h=y(f)}else l="";switch(h.type){case 39:case 45:case 44:case 46:case 50:n=h.type;A(f);h=y(f);break;case 15:e.xb(l,k,0,null);a.b=Q;A(f);continue;default:a.b=qf;e.J("E_CSS_ATTR_OP_EXPECTED",h);continue}switch(h.type){case 1:case 2:e.xb(l,k,n,h.text);A(f);h=y(f);break;default:a.b=qf;e.J("E_CSS_ATTR_VAL_EXPECTED",h);continue}if(15!=h.type){a.b=qf;e.J("E_CSS_ATTR",h);continue}a.b=Q;A(f);continue;case 11:e.Ub();a.b=kf;A(f);continue;case 12:e.Sb();a.b=kf;A(f);continue;case 56:e.Xb();
a.b=kf;A(f);continue;case 13:a.M?(a.e.push("-epubx-region"),a.M=!1):a.e.push("[selector]");e.ia();a.b=hf;A(f);continue;case 41:e.bc();a.b=lf;A(f);continue;case 15:g.push(I(h.text));A(f);continue;case 16:try{g.push(Ye(h.text))}catch(p){e.J("E_CSS_COLOR",h),a.b=of}A(f);continue;case 17:g.push(new bd(h.B));A(f);continue;case 18:g.push(new cd(h.B));A(f);continue;case 19:g.push(new ad(h.B,h.text));A(f);continue;case 20:g.push(new Zc(h.text));A(f);continue;case 21:g.push(new ed(ca(h.text,a.X)));A(f);continue;
case 22:tf(a,",",h);g.push(",");A(f);continue;case 23:g.push(Yc);A(f);continue;case 24:k=h.text.toLowerCase();"-epubx-expr"==k?(a.b=nf,a.f=0,g.push("{")):(g.push(k),g.push("("));A(f);continue;case 25:tf(a,")",h);A(f);continue;case 47:A(f);h=y(f);k=z(f,1);if(1==h.type&&"important"==h.text.toLowerCase()&&(17==k.type||0==k.type||13==k.type)){A(f);a.k=!0;continue}uf(a,"E_CSS_SYNTAX",h);continue;case 54:k=z(f,1);switch(k.type){case 4:case 3:case 5:if(!k.b){A(f);continue}}uf(a,"E_CSS_UNEXPECTED_PLUS",h);
continue;case 26:A(f);case 48:f.b=-1;(k=tf(a,";",h))&&a.d&&e.Da(a.d,k,a.k);a.b=d?jf:hf;continue;case 44:A(f);f.b=-1;k=tf(a,";",h);if(c)return a.T=k,!0;a.d&&k&&e.Da(a.d,k,a.k);if(d)return!0;uf(a,"E_CSS_SYNTAX",h);continue;case 31:k=z(f,1);9==k.type?(10!=z(f,2).type||z(f,2).b?(g.push(new Gc(e.N(),Ub(h.text,k.text))),a.b=R):(g.push(h.text,k.text,"("),A(f)),A(f)):(2==a.f||3==a.f?"not"==h.text.toLowerCase()?(A(f),g.push(new Hc(e.N(),!0,k.text))):("only"==h.text.toLowerCase()&&(A(f),h=k),g.push(new Hc(e.N(),
!1,h.text))):g.push(new Gc(e.N(),h.text)),a.b=R);A(f);continue;case 38:g.push(null,h.text,"(");A(f);continue;case 32:g.push(new Xb(e.N(),h.B));A(f);a.b=R;continue;case 33:k=h.text;"%"==k&&(k=a.d&&a.d.match(/height|^(top|bottom)$/)?"vh":"vw");g.push(new Yb(e.N(),h.B,k));A(f);a.b=R;continue;case 34:g.push(new Xb(e.N(),h.text));A(f);a.b=R;continue;case 35:A(f);h=y(f);5!=h.type||h.b?uf(a,"E_CSS_SYNTAX",h):(g.push(new Lc(e.N(),h.B)),A(f),a.b=R);continue;case 36:g.push(-h.type);A(f);continue;case 37:a.b=
nf;vf(a,h.type,h);g.push(h.type);A(f);continue;case 45:"and"==h.text.toLowerCase()?(a.b=nf,vf(a,52,h),g.push(52),A(f)):uf(a,"E_CSS_SYNTAX",h);continue;case 39:vf(a,h.type,h)&&(a.d?a.b=mf:uf(a,"E_CSS_UNBALANCED_PAR",h));A(f);continue;case 43:vf(a,11,h)&&(a.d||3==a.f?uf(a,"E_CSS_UNEXPECTED_BRC",h):(1==a.f?e.Na(g.pop()):(h=g.pop(),e.Na(h)),a.e.push("media"),e.ia(),a.b=hf));A(f);continue;case 49:vf(a,11,h)&&(a.d||3!=a.f?uf(a,"E_CSS_UNEXPECTED_SEMICOL",h):(a.j=g.pop(),a.l=!0,a.b=hf));A(f);continue;case 40:g.push(h.type);
A(f);continue;case 27:a.b=hf;A(f);e.Ga();a.e.length&&a.e.pop();continue;case 30:k=h.text.toLowerCase();switch(k){case "import":A(f);h=y(f);if(2==h.type||8==h.type){a.C=h.text;A(f);h=y(f);if(17==h.type||0==h.type)return a.l=!0,A(f),!1;a.d=null;a.f=3;a.b=nf;g.push("{");continue}e.J("E_CSS_IMPORT_SYNTAX",h);a.b=of;continue;case "namespace":A(f);h=y(f);switch(h.type){case 1:k=h.text;A(f);h=y(f);if((2==h.type||8==h.type)&&17==z(f,1).type){a.H[k]=h.text;A(f);A(f);continue}break;case 2:case 8:if(17==z(f,
1).type){a.A=h.text;A(f);A(f);continue}}e.J("E_CSS_NAMESPACE_SYNTAX",h);a.b=of;continue;case "charset":A(f);h=y(f);if(2==h.type&&17==z(f,1).type){k=h.text.toLowerCase();"utf-8"!=k&&"utf-16"!=k&&e.J("E_CSS_UNEXPECTED_CHARSET "+k,h);A(f);A(f);continue}e.J("E_CSS_CHARSET_SYNTAX",h);a.b=of;continue;case "font-face":case "-epubx-page-template":case "-epubx-define":case "-epubx-viewport":if(12==z(f,1).type){A(f);A(f);switch(k){case "font-face":e.Hb();break;case "-epubx-page-template":e.Jb();break;case "-epubx-define":e.Fb();
break;case "-epubx-viewport":e.Lb()}a.e.push(k);e.ia();continue}break;case "-adapt-footnote-area":A(f);h=y(f);switch(h.type){case 12:A(f);e.kb(null);a.e.push(k);e.ia();continue;case 50:if(A(f),h=y(f),1==h.type&&12==z(f,1).type){k=h.text;A(f);A(f);e.kb(k);a.e.push("-adapt-footnote-area");e.ia();continue}}break;case "-epubx-region":A(f);e.Kb();a.M=!0;a.b=lf;continue;case "-epubx-when":A(f);a.d=null;a.f=1;a.b=nf;g.push("{");continue;case "media":A(f);a.d=null;a.f=2;a.b=nf;g.push("{");continue;case "-epubx-flow":if(1==
z(f,1).type&&12==z(f,2).type){e.Gb(z(f,1).text);A(f);A(f);A(f);a.e.push(k);e.ia();continue}break;case "-epubx-page-master":case "-epubx-partition":case "-epubx-partition-group":A(f);h=y(f);n=l=null;var q=[];1==h.type&&(l=h.text,A(f),h=y(f));18==h.type&&1==z(f,1).type&&(n=z(f,1).text,A(f),A(f),h=y(f));for(;6==h.type&&"class"==h.text.toLowerCase()&&1==z(f,1).type&&11==z(f,2).type;)q.push(z(f,1).text),A(f),A(f),A(f),h=y(f);if(12==h.type){A(f);switch(k){case "-epubx-page-master":e.Ib(l,n,q);break;case "-epubx-partition":e.mb(l,
n,q);break;case "-epubx-partition-group":e.lb(l,n,q)}a.e.push(k);e.ia();continue}break;case "":e.J("E_CSS_UNEXPECTED_AT"+k,h);a.b=qf;continue;default:e.J("E_CSS_AT_UNKNOWN "+k,h);a.b=of;continue}e.J("E_CSS_AT_SYNTAX "+k,h);a.b=of;continue;case 50:if(c||d)return!0;a.g.push(h.type+1);A(f);continue;case 52:if(c||d)return!0;if(0==a.g.length){a.b=hf;continue}case 51:0<a.g.length&&a.g[a.g.length-1]==h.type&&a.g.pop();0==a.g.length&&13==h.type&&(a.b=hf);A(f);continue;case 53:if(c||d)return!0;0==a.g.length&&
(a.b=hf);A(f);continue;case 200:return!0;default:if(c||d)return!0;if(a.b===mf&&0<=f.b){h=f;if(0>h.b)throw Error("F_CSSTOK_BAD_CALL reset");h.d=h.b;h.b=-1;a.b=lf;e.Ma();continue}if(a.b!==of&&a.b!==qf&&a.b!==pf){51==h.type?e.J(h.text,h):e.J("E_CSS_SYNTAX",h);a.b=yf(a)?pf:qf;continue}A(f)}return!1}function Af(a){Ze.call(this,null);this.e=a}r(Af,Ze);Af.prototype.J=function(a){throw Error(a);};Af.prototype.N=function(){return this.e};
function Bf(a,b,c,d){var e=L("parseStylesheet"),f=new rf(hf,a,b,c),g=xf(f,d);g&&(b.Na(g),b.ia());Le(function(){for(;!zf(f,100,!1,!1);){if(f.l){var a=ca(f.C,c);f.j&&(b.Na(f.j),b.ia());var d=L("parseStylesheet.import");Cf(a,b,null).then(function(){f.j&&b.Ga();f.l=!1;f.C=null;f.j=null;O(d,!0)});return N(d)}a=Ke();if(a.ha)return a}return M(!1)}).then(function(){g&&b.Ga();O(e,!0)});return N(e)}
function Cf(a,b,c){return te("parseStylesheetFromURL",function(d){Pe(a).then(function(e){e.responseText?(e=new Lb(e.responseText),Bf(e,b,a,c).ea(d)):O(d,!0)})},function(b,c){ze("Exception while parsing: "+a,c);O(b,!0)})}function Df(a,b){var c=new rf(mf,b,new Af(a),"");zf(c,Number.POSITIVE_INFINITY,!0,!1);return c.T}var Ef={"z-index":!0,"column-count":!0,"flow-linger":!0,opacity:!0,page:!0,"flow-priority":!0,utilization:!0};
function Ff(a,b,c){if(b.qc())a:{b=b.e;a=b.evaluate(a);switch(typeof a){case "number":c=Ef[c]?a==Math.round(a)?new cd(a):new bd(a):new ad(a,"px");break a;case "string":c=a?Df(b.b,new Lb(a)):G;break a;case "boolean":c=a?Id:od;break a;case "undefined":c=G;break a}throw Error("E_UNEXPECTED");}else c=b;return c};function Gf(){this.b={}}r(Gf,Qc);Gf.prototype.Ka=function(a){this.b[a.name]=!0;return a};Gf.prototype.xa=function(a){this.Ea(a.b);return a};function Hf(a){this.value=a}r(Hf,Qc);Hf.prototype.Va=function(a){this.value=a.B;return a};function If(a,b){if(a){var c=new Hf(b);try{return a.I(c),c.value}catch(d){w("toInt: "+d)}}return b}function Jf(){this.d=!1;this.b=[];this.name=null}r(Jf,Qc);Jf.prototype.Xa=function(a){this.d&&this.b.push(a);return null};
Jf.prototype.Wa=function(a){this.d&&0==a.B&&this.b.push(new ad(0,"px"));return null};Jf.prototype.xa=function(a){this.Ea(a.b);return null};Jf.prototype.Ja=function(a){this.d||(this.d=!0,this.Ea(a.b),this.d=!1,this.name=a.name.toLowerCase());return null};
function Kf(a,b,c,d,e,f){if(a){var g=new Jf;try{a.I(g);var h;a:{if(0<g.b.length){a=[];for(var k=0;k<g.b.length;k++){var l=g.b[k];if("%"==l.d){var n=0==k%2?d:e;3==k&&"circle"==g.name&&(n=Math.sqrt((d*d+e*e)/2));a.push(l.B*n/100)}else a.push(l.B*fc(f,l.d))}switch(g.name){case "polygon":if(0==a.length%2){f=[];for(g=0;g<a.length;g+=2)f.push({x:b+a[g],y:c+a[g+1]});h=new Ud(f);break a}break;case "rectangle":if(4==a.length){h=Yd(b+a[0],c+a[1],b+a[0]+a[2],c+a[1]+a[3]);break a}break;case "ellipse":if(4==a.length){h=
Xd(b+a[0],c+a[1],a[2],a[3]);break a}break;case "circle":if(3==a.length){h=Xd(b+a[0],c+a[1],a[2],a[2]);break a}}}h=null}return h}catch(p){w("toShape: "+p)}}return Yd(b,c,b+d,c+e)}function Lf(a){this.d=a;this.b={};this.name=null}r(Lf,Qc);Lf.prototype.Ka=function(a){this.name=a.toString();this.b[this.name]=this.d?0:(this.b[this.name]||0)+1;return a};Lf.prototype.Va=function(a){this.name&&(this.b[this.name]+=a.B-(this.d?0:1));return a};Lf.prototype.xa=function(a){this.Ea(a.b);return a};
function Mf(a,b){var c=new Lf(b);try{a.I(c)}catch(d){w("toCounters: "+d)}return c.b}function Nf(){this.url=null;this.b=!1}r(Nf,Qc);Nf.prototype.Ya=function(a){this.url||(this.url=a.url);return a};var Of={opentype:!0,truetype:!0,woff:!0};Nf.prototype.Ja=function(a){if("format"==a.name.toLowerCase())for(var b=0;b<a.b.length;b++)if(Of[a.b[b].stringValue()]){this.b=!0;break}return a};Nf.prototype.xa=function(a){2==a.b.length&&(this.b=!1,a.b[1].I(this),this.b&&a.b[0].I(this));return a};
Nf.prototype.Ia=function(a){this.Ea(a.b);return a};function Ve(a,b){this.yb=a;this.name=b;this.d=!1;this.e=this.b=this.f=null}function We(a){a.b||(a.b=we(oe.d,function(){var b=L("Fetcher.run");a.yb().then(function(c){var d=a.e;a.d=!0;a.f=c;a.b=null;a.e=null;if(d)for(var e=0;e<d.length;e++)try{d[e](c)}catch(f){w("Error: "+f)}O(b,c)});return N(b)},a.name))}function Pf(a,b){a.d?b(a.f):a.e.push(b)}function Te(a){if(a.d)return M(a.f);We(a);return He(a.b)}
function Qf(a){if(0==a.length)return M(!0);if(1==a.length)return Te(a[0]).xc(!0);var b=L("waitForFetches"),c=0;Le(function(){for(;c<a.length;){var b=a[c++];if(!b.d)return Te(b).xc(!0)}return M(!1)}).then(function(){O(b,!0)});return N(b)}
function Rf(a,b){var c=null,d=null;"img"==a.localName&&(c=a.getAttribute("width"),d=a.getAttribute("height"));var e=new Ve(function(){function e(b){"img"==a.localName&&(c||a.removeAttribute("width"),d||a.removeAttribute("height"));h.za(b?b.type:"timeout")}var g=L("loadImage"),h=Ee(g,a);a.addEventListener("load",e,!1);a.addEventListener("error",e,!1);a.addEventListener("abort",e,!1);"http://www.w3.org/2000/svg"==a.namespaceURI?(a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",b),setTimeout(e,
300)):a.src=b;return N(g)},"loadElement "+b);We(e);return e};function Sf(a){this.f=this.e=null;this.b=0;this.d=a}function Tf(a,b){this.b=-1;this.d=a;this.e=b}function Uf(){this.b=[];this.d=[];this.match=[];this.e=[];this.f=[];this.g=!0}function Vf(a,b,c){for(var d=0;d<b.length;d++)a.d[b[d]].b=c;b.splice(0,b.length)}
Uf.prototype.clone=function(){for(var a=new Uf,b=0;b<this.b.length;b++){var c=this.b[b],d=new Sf(c.d);d.b=c.b;a.b.push(d)}for(b=0;b<this.d.length;b++)c=this.d[b],d=new Tf(c.d,c.e),d.b=c.b,a.d.push(d);a.match.push.apply(a.match,this.match);a.e.push.apply(a.e,this.e);a.f.push.apply(a.f,this.f);return a};function Wf(a,b,c,d){var e=a.b.length,f=new Sf(Xf);f.b=0<=d?c?2*d+1:2*d+2:c?-1:-2;a.b.push(f);Vf(a,b,e);c=new Tf(e,!0);e=new Tf(e,!1);b.push(a.d.length);a.d.push(e);b.push(a.d.length);a.d.push(c)}
function Yf(a){return 1==a.b.length&&0==a.b[0].b&&a.b[0].d instanceof U}
function Zf(a,b,c){if(0!=b.b.length){var d=a.b.length;if(4==c&&1==d&&Yf(b)&&Yf(a)){c=a.b[0].d;b=b.b[0].d;var d={},e={},f;for(f in c.d)d[f]=c.d[f];for(f in b.d)d[f]=b.d[f];for(var g in c.e)e[g]=c.e[g];for(g in b.e)e[g]=b.e[g];a.b[0].d=new U(c.b|b.b,d,e)}else{for(f=0;f<b.b.length;f++)a.b.push(b.b[f]);4==c?(a.g=!0,Vf(a,a.e,d)):Vf(a,a.match,d);g=a.d.length;for(f=0;f<b.d.length;f++)e=b.d[f],e.d+=d,0<=e.b&&(e.b+=d),a.d.push(e);for(f=0;f<b.match.length;f++)a.match.push(b.match[f]+g);3==c&&Vf(a,a.match,d);
if(2==c||3==c)for(f=0;f<b.e.length;f++)a.match.push(b.e[f]+g);else if(a.g){for(f=0;f<b.e.length;f++)a.e.push(b.e[f]+g);a.g=b.g}else for(f=0;f<b.e.length;f++)a.f.push(b.e[f]+g);for(f=0;f<b.f.length;f++)a.f.push(b.f[f]+g);b.b=null;b.d=null}}}var W={};function $f(){}r($f,Qc);$f.prototype.f=function(a,b){var c=a[b].I(this);return c?[c]:null};function U(a,b,c){this.b=a;this.d=b;this.e=c}r(U,$f);m=U.prototype;m.gc=function(a){return this.b&1?a:null};m.hc=function(a){return this.b&2048?a:null};
m.pb=function(a){return this.b&2?a:null};m.Ka=function(a){var b=this.d[a.name.toLowerCase()];return b?b:this.b&4?a:null};m.Xa=function(a){return 0!=a.B||this.b&512?0>a.B&&!(this.b&256)?null:this.e[a.d]?a:null:"%"==a.d&&this.b&1024?a:null};m.Wa=function(a){return 0==a.B?this.b&512?a:null:0>=a.B&&!(this.b&256)?null:this.b&16?a:null};m.Va=function(a){return 0==a.B?this.b&512?a:null:0>=a.B&&!(this.b&256)?null:this.b&48?a:(a=this.d[""+a.B])?a:null};m.Mb=function(a){return this.b&64?a:null};
m.Ya=function(a){return this.b&128?a:null};m.xa=function(){return null};m.Ia=function(){return null};m.Ja=function(){return null};m.ob=function(){return null};var Xf=new U(0,W,W);
function ag(a){this.b=new Sf(null);var b=this.e=new Sf(null),c=a.b.length;a.b.push(this.b);a.b.push(b);Vf(a,a.match,c);Vf(a,a.e,c+1);Vf(a,a.f,c+1);for(b=0;b<a.d.length;b++){var d=a.d[b];d.e?a.b[d.d].e=a.b[d.b]:a.b[d.d].f=a.b[d.b]}for(b=0;b<c;b++)if(null==a.b[b].f||null==a.b[b].e)throw Error("Invalid validator state");this.d=a.b[0]}r(ag,$f);
function bg(a,b,c,d){for(var e=c?[]:b,f=a.d,g=d,h=null,k=null;f!==a.b&&f!==a.e;)if(g>=b.length)f=f.f;else{var l=b[g],n=l;if(0!=f.b)n=!0,-1==f.b?(h?h.push(k):h=[k],k=[]):-2==f.b?0<h.length?k=h.pop():k=null:0<f.b&&0==f.b%2?k[Math.floor((f.b-1)/2)]="taken":n=null==k[Math.floor((f.b-1)/2)],f=n?f.e:f.f;else{if(0==g&&!c&&f.d instanceof cg&&a instanceof dg){if(n=(new Sc(b)).I(f.d)){g=b.length;f=f.e;continue}}else n=l.I(f.d);if(n){if(n!==l&&b===e)for(e=[],l=0;l<g;l++)e[l]=b[l];b!==e&&(e[g-d]=n);g++;f=f.e}else f=
f.f}}return f===a.b&&(c?0<e.length:g==b.length)?e:null}m=ag.prototype;m.ta=function(a){for(var b=null,c=this.d;c!==this.b&&c!==this.e;)a?0!=c.b?c=c.e:(b=a.I(c.d))?(a=null,c=c.e):c=c.f:c=c.f;return c===this.b?b:null};m.gc=function(a){return this.ta(a)};m.hc=function(a){return this.ta(a)};m.pb=function(a){return this.ta(a)};m.Ka=function(a){return this.ta(a)};m.Xa=function(a){return this.ta(a)};m.Wa=function(a){return this.ta(a)};m.Va=function(a){return this.ta(a)};m.Mb=function(a){return this.ta(a)};
m.Ya=function(a){return this.ta(a)};m.xa=function(){return null};m.Ia=function(){return null};m.Ja=function(a){return this.ta(a)};m.ob=function(){return null};function dg(a){ag.call(this,a)}r(dg,ag);dg.prototype.xa=function(a){var b=bg(this,a.b,!1,0);return b===a.b?a:b?new Sc(b):null};dg.prototype.f=function(a,b){return bg(this,a,!0,b)};function cg(a){ag.call(this,a)}r(cg,ag);cg.prototype.xa=function(a){return this.ta(a)};
cg.prototype.Ia=function(a){var b=bg(this,a.b,!1,0);return b===a.b?a:b?new Tc(b):null};function eg(a,b){ag.call(this,b);this.name=a}r(eg,ag);eg.prototype.ta=function(){return null};eg.prototype.Ja=function(a){if(a.name.toLowerCase()!=this.name)return null;var b=bg(this,a.b,!1,0);return b===a.b?a:b?new Uc(a.name,b):null};function fg(){}fg.prototype.b=function(a,b){return b};fg.prototype.e=function(){};
function gg(a,b,c){this.name=b;this.d=a.e[this.name];c&&this.d instanceof cg&&(this.d=this.d.d.d)}r(gg,fg);gg.prototype.b=function(a,b,c){if(c.d[this.name])return b;if(a=this.d.f(a,b)){var d=a.length;this.e(1<d?new Sc(a):a[0],c);return b+d}return b};gg.prototype.e=function(a,b){b.d[this.name]=a};function hg(a,b){gg.call(this,a,b[0],!1);this.f=b}r(hg,gg);hg.prototype.e=function(a,b){for(var c=0;c<this.f.length;c++)b.d[this.f[c]]=a};function ig(a,b){this.d=a;this.uc=b}r(ig,fg);
ig.prototype.b=function(a,b,c){var d=b;if(this.uc)if(a[b]==Yc){if(++b==a.length)return d}else return d;var e=this.d[0].b(a,b,c);if(e==b)return d;b=e;for(d=1;d<this.d.length&&b<a.length;d++){e=this.d[d].b(a,b,c);if(e==b)break;b=e}return b};function jg(){this.e=this.sa=null;this.b=!1;this.d={};this.f=null}m=jg.prototype;m.Hc=function(a){return new gg(this.f,a,!1)};m.clone=function(){var a=new this.constructor;a.sa=this.sa;a.e=this.e;a.f=this.f;return a};m.kc=function(a,b){this.sa=a;this.e=b};
m.Pa=function(){this.b=!0;return 0};function kg(a,b){a.Pa([b]);return null}m.gc=function(a){return kg(this,a)};m.pb=function(a){return kg(this,a)};m.Ka=function(a){return kg(this,a)};m.Xa=function(a){return kg(this,a)};m.Wa=function(a){return kg(this,a)};m.Va=function(a){return kg(this,a)};m.Mb=function(a){return kg(this,a)};m.Ya=function(a){return kg(this,a)};m.xa=function(a){this.Pa(a.b);return null};m.Ia=function(){this.b=!0;return null};m.Ja=function(a){return kg(this,a)};
m.ob=function(){this.b=!0;return null};function lg(){jg.call(this)}r(lg,jg);lg.prototype.Pa=function(a){for(var b=0,c=0;b<a.length;){var d=this.sa[c].b(a,b,this);if(d>b)b=d,c=0;else if(++c==this.sa.length){this.b=!0;break}}return b};function mg(){jg.call(this)}r(mg,jg);mg.prototype.Pa=function(a){if(a.length>this.sa.length||0==a.length)return this.b=!0,0;for(var b=0;b<this.sa.length;b++){for(var c=b;c>=a.length;)c=1==c?0:c-2;if(this.sa[b].b(a,c,this)!=c+1)return this.b=!0,0}return a.length};
function ng(){jg.call(this)}r(ng,jg);ng.prototype.Pa=function(a){for(var b=a.length,c=0;c<a.length;c++)if(a[c]===Yc){b=c;break}if(b>this.sa.length||0==a.length)return this.b=!0,0;for(c=0;c<this.sa.length;c++){for(var d=c;d>=b;)d=1==d?0:d-2;var e;if(b+1<a.length)for(e=b+c+1;e>=a.length;)e-=e==b+2?1:2;else e=d;if(2!=this.sa[c].b([a[d],a[e]],0,this))return this.b=!0,0}return a.length};function og(){jg.call(this)}r(og,lg);og.prototype.Hc=function(a){return new gg(this.f,a,!0)};
og.prototype.Ia=function(a){for(var b={},c=0;c<a.b.length;c++){this.d={};a.b[c].I(this);for(var d=b,e=this.d,f=0;f<this.e.length;f++){var g=this.e[f],h=e[g]||this.f.h[g],k=d[g];k||(k=[],d[g]=k);k.push(h)}this.d["background-color"]&&c!=a.b.length-1&&(this.b=!0);if(this.b)return null}this.d={};for(var l in b)this.d[l]="background-color"==l?b[l].pop():new Tc(b[l]);return null};function pg(){jg.call(this)}r(pg,lg);
pg.prototype.kc=function(a,b){lg.prototype.kc.call(this,a,b);this.e.push("font-family","line-height","font-size")};
pg.prototype.Pa=function(a){var b=lg.prototype.Pa.call(this,a);if(b+2>a.length)return this.b=!0,b;this.b=!1;var c=this.f.e;if(!a[b].I(c["font-size"]))return this.b=!0,b;this.d["font-size"]=a[b++];if(a[b]===Yc){b++;if(b+2>a.length||!a[b].I(c["line-height"]))return this.b=!0,b;this.d["line-height"]=a[b++]}var d=b==a.length-1?a[b]:new Sc(a.slice(b,a.length));if(!d.I(c["font-family"]))return this.b=!0,b;this.d["font-family"]=d;return a.length};
pg.prototype.Ia=function(a){a.b[0].I(this);if(this.b)return null;for(var b=[this.d["font-family"]],c=1;c<a.b.length;c++)b.push(a.b[c]);a=new Tc(b);a.I(this.f.e["font-family"])?this.d["font-family"]=a:this.b=!0;return null};pg.prototype.Ka=function(a){if(a=this.f.d[a.name])for(var b in a)this.d[b]=a[b];else this.b=!0;return null};var qg={SIMPLE:lg,INSETS:mg,INSETS_SLASH:ng,COMMA:og,FONT:pg};function rg(){this.e={};this.k={};this.h={};this.b={};this.d={};this.f={};this.j=[];this.g=[]}
function sg(a,b){var c;if(3==b.type)c=new ad(b.B,b.text);else if(7==b.type)c=Ye(b.text);else if(1==b.type)c=I(b.text);else throw Error("unexpected replacement");if(Yf(a)){var d=a.b[0].d.d,e;for(e in d)d[e]=c;return a}throw Error("unexpected replacement");}function tg(a,b,c){for(var d=new Uf,e=0;e<b;e++)Zf(d,a.clone(),1);if(c==Number.POSITIVE_INFINITY)Zf(d,a,3);else for(e=b;e<c;e++)Zf(d,a.clone(),2);return d}
function ug(a){var b=new Uf,c=b.b.length;b.b.push(new Sf(a));a=new Tf(c,!0);var d=new Tf(c,!1);Vf(b,b.match,c);b.g?(b.e.push(b.d.length),b.g=!1):b.f.push(b.d.length);b.d.push(d);b.match.push(b.d.length);b.d.push(a);return b}function vg(a,b){var c;switch(a){case "COMMA":c=new cg(b);break;case "SPACE":c=new dg(b);break;default:c=new eg(a.toLowerCase(),b)}return ug(c)}
function wg(a){a.b.HASHCOLOR=ug(new U(64,W,W));a.b.POS_INT=ug(new U(32,W,W));a.b.POS_NUM=ug(new U(16,W,W));a.b.POS_PERCENTAGE=ug(new U(8,W,{"%":G}));a.b.NEGATIVE=ug(new U(256,W,W));a.b.ZERO=ug(new U(512,W,W));a.b.ZERO_PERCENTAGE=ug(new U(1024,W,W));a.b.POS_LENGTH=ug(new U(8,W,{em:G,ex:G,ch:G,rem:G,vh:G,vw:G,vmin:G,vmax:G,cm:G,mm:G,"in":G,px:G,pt:G,pc:G}));a.b.POS_ANGLE=ug(new U(8,W,{deg:G,grad:G,rad:G,turn:G}));a.b.POS_TIME=ug(new U(8,W,{s:G,ms:G}));a.b.FREQUENCY=ug(new U(8,W,{Hz:G,kHz:G}));a.b.RESOLUTION=
ug(new U(8,W,{dpi:G,dpcm:G,dppx:G}));a.b.URI=ug(new U(128,W,W));a.b.IDENT=ug(new U(4,W,W));a.b.STRING=ug(new U(2,W,W));var b={"font-family":I("sans-serif")};a.d.caption=b;a.d.icon=b;a.d.menu=b;a.d["message-box"]=b;a.d["small-caption"]=b;a.d["status-bar"]=b}function xg(a){return!!a.match(/^[A-Z_0-9]+$/)}
function yg(a,b,c){var d=y(b);if(0==d.type)return null;var e={"":!0};if(14==d.type){do{A(b);d=y(b);if(1!=d.type)throw Error("Prefix name expected");e[d.text]=!0;A(b);d=y(b)}while(16==d.type);if(15!=d.type)throw Error("']' expected");A(b);d=y(b)}if(1!=d.type)throw Error("Property name expected");if(2==c?"SHORTHANDS"==d.text:"DEFAULTS"==d.text)return A(b),null;d=d.text;A(b);if(2!=c){if(39!=y(b).type)throw Error("'=' expected");xg(d)||(a.k[d]=e)}else if(18!=y(b).type)throw Error("':' expected");return d}
function zg(a,b){for(;;){var c=yg(a,b,1);if(!c)break;for(var d=[],e=[],f="",g,h=!0,k=function(){if(0==d.length)throw Error("No values");var a;if(1==d.length)a=d[0];else{var b=f,c=d;a=new Uf;if("||"==b){for(b=0;b<c.length;b++){var e=new Uf,g=e;if(g.b.length)throw Error("invalid call");var h=new Sf(Xf);h.b=2*b+1;g.b.push(h);var h=new Tf(0,!0),k=new Tf(0,!1);g.e.push(g.d.length);g.d.push(k);g.match.push(g.d.length);g.d.push(h);Zf(e,c[b],1);Wf(e,e.match,!1,b);Zf(a,e,0==b?1:4)}c=new Uf;if(c.b.length)throw Error("invalid call");
Wf(c,c.match,!0,-1);Zf(c,a,3);a=[c.match,c.e,c.f];for(b=0;b<a.length;b++)Wf(c,a[b],!1,-1);a=c}else{switch(b){case " ":e=1;break;case "|":case "||":e=4;break;default:throw Error("unexpected op");}for(b=0;b<c.length;b++)Zf(a,c[b],0==b?1:e)}}return a},l=function(a){if(h)throw Error("'"+a+"': unexpected");if(f&&f!=a)throw Error("mixed operators: '"+a+"' and '"+f+"'");f=a;h=!0},n=null;!n;)switch(A(b),g=y(b),g.type){case 1:h||l(" ");if(xg(g.text)){var p=a.b[g.text];if(!p)throw Error("'"+g.text+"' unexpected");
d.push(p.clone())}else p={},p[g.text]=I(g.text),d.push(ug(new U(0,p,W)));h=!1;break;case 5:p={};p[""+g.B]=new cd(g.B);d.push(ug(new U(0,p,W)));h=!1;break;case 34:l("|");break;case 25:l("||");break;case 14:h||l(" ");e.push({yc:d,tc:f,Tb:"["});f="";d=[];h=!0;break;case 6:h||l(" ");e.push({yc:d,tc:f,Tb:"(",Sa:g.text});f="";d=[];h=!0;break;case 15:g=k();p=e.pop();if("["!=p.Tb)throw Error("']' unexpected");d=p.yc;d.push(g);f=p.tc;h=!1;break;case 11:g=k();p=e.pop();if("("!=p.Tb)throw Error("')' unexpected");
d=p.yc;d.push(vg(p.Sa,g));f=p.tc;h=!1;break;case 18:if(h)throw Error("':' unexpected");A(b);d.push(sg(d.pop(),y(b)));break;case 22:if(h)throw Error("'?' unexpected");d.push(tg(d.pop(),0,1));break;case 36:if(h)throw Error("'*' unexpected");d.push(tg(d.pop(),0,Number.POSITIVE_INFINITY));break;case 23:if(h)throw Error("'+' unexpected");d.push(tg(d.pop(),1,Number.POSITIVE_INFINITY));break;case 12:A(b);g=y(b);if(5!=g.type)throw Error("<int> expected");var q=p=g.B;A(b);g=y(b);if(16==g.type){A(b);g=y(b);
if(5!=g.type)throw Error("<int> expected");q=g.B;A(b);g=y(b)}if(13!=g.type)throw Error("'}' expected");d.push(tg(d.pop(),p,q));break;case 17:n=k();if(0<e.length)throw Error("unclosed '"+e.pop().Tb+"'");break;default:throw Error("unexpected token");}A(b);xg(c)?a.b[c]=n:a.e[c]=1!=n.b.length||0!=n.b[0].b?new dg(n):n.b[0].d}}
function Ag(a,b){for(var c={},d=0;d<b.length;d++)for(var e=b[d],f=a.f[e],e=f?f.e:[e],f=0;f<e.length;f++){var g=e[f],h=a.h[g];h?c[g]=h:w("Unknown property in makePropSet: "+g)}return c}
function Bg(a,b,c,d,e){var f="",g=b;b=b.toLowerCase();var h=b.match(/^-([a-z]+)-([-a-z0-9]+)$/);h&&(f=h[1],b=h[2]);if((h=a.k[b])&&h[f])if(f=a.e[b])(a=c===rd||c.qc()?c:c.I(f))?e.La(b,a,d):e.Ab(g,c);else if(b=a.f[b].clone(),c===rd)for(c=0;c<b.e.length;c++)e.La(b.e[c],rd,d);else{c.I(b);if(b.b)d=!1;else{for(a=0;a<b.e.length;a++)f=b.e[a],e.La(f,b.d[f]||b.f.h[f],d);d=!0}d||e.Ab(g,c)}else e.fc(g,c)}
var Cg=new Ve(function(){var a=L("loadValidatorSet.load"),b=ca("validation.txt",ba),c=Pe(b),d=new rg;wg(d);c.then(function(c){try{if(c.responseText){var f=new Lb(c.responseText);for(zg(d,f);;){var g=yg(d,f,2);if(!g)break;for(c=[];;){A(f);var h=y(f);if(17==h.type){A(f);break}switch(h.type){case 1:c.push(I(h.text));break;case 4:c.push(new bd(h.B));break;case 5:c.push(new cd(h.B));break;case 3:c.push(new ad(h.B,h.text));break;default:throw Error("unexpected token");}}d.h[g]=1<c.length?new Sc(c):c[0]}for(;;){var k=
yg(d,f,3);if(!k)break;var l=z(f,1),n;1==l.type&&qg[l.text]?(n=new qg[l.text],A(f)):n=new lg;n.f=d;g=!1;h=[];c=!1;for(var p=[],q=[];!g;)switch(A(f),l=y(f),l.type){case 1:if(d.e[l.text])h.push(n.Hc(l.text)),q.push(l.text);else if(d.f[l.text]instanceof mg){var u=d.f[l.text];h.push(new hg(u.f,u.e));q.push.apply(q,u.e)}else throw Error("'"+l.text+"' is neither a simple property nor an inset shorthand");break;case 19:if(0<h.length||c)throw Error("unexpected slash");c=!0;break;case 14:p.push({uc:c,sa:h});
h=[];c=!1;break;case 15:var v=new ig(h,c),H=p.pop(),h=H.sa;c=H.uc;h.push(v);break;case 17:g=!0;A(f);break;default:throw Error("unexpected token");}n.kc(h,q);d.f[k]=n}d.g=Ag(d,["background"]);d.j=Ag(d,"margin border padding columns column-gap column-rule column-fill".split(" "))}else w("Error: missing "+b)}catch(V){w("Error: "+V)}O(a,d)});return N(a)},"validatorFetcher");for(var Dg={azimuth:!0,"border-collapse":!0,"border-spacing":!0,"caption-side":!0,color:!0,cursor:!0,direction:!0,elevation:!0,"empty-cells":!0,"font-size":!0,"font-family":!0,"font-style":!0,"font-variant":!0,"font-weight":!0,"letter-spacing":!0,"line-height":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,orphans:!0,"pitch-range":!0,quotes:!0,richness:!0,"speak-header":!0,"speak-numeral":!0,"speak-punctuation":!0,"speech-rate":!0,stress:!0,"text-align":!0,"text-indent":!0,
"text-transform":!0,visibility:!0,"voice-family":!0,volume:!0,"white-space":!0,widows:!0,"word-spacing":!0,"writing-mode":!0},Eg={"http://www.idpf.org/2007/ops":!0,"http://www.w3.org/1999/xhtml":!0,"http://www.w3.org/2000/svg":!0},Fg="margin-% padding-% border-%-width border-%-style border-%-color %".split(" "),Gg=["left","right","top","bottom"],Hg={width:!0,height:!0},Ig=0;Ig<Fg.length;Ig++)for(var Jg=0;Jg<Gg.length;Jg++){var Kg=Fg[Ig].replace("%",Gg[Jg]);Hg[Kg]=!0}
function Lg(a){for(var b={},c=0;c<Fg.length;c++)for(var d in a){var e=Fg[c].replace("%",d),f=Fg[c].replace("%",a[d]);b[e]=f;b[f]=e}return b}var Mg=Lg({before:"right",after:"left",start:"top",end:"bottom"}),Ng=Lg({before:"top",after:"bottom",start:"left",end:"right"});function X(a,b){this.value=a;this.b=b}m=X.prototype;m.Cc=function(){return this};m.oc=function(a){a=this.value.I(a);return a===this.value?this:new X(a,this.b)};m.Dc=function(a){return 0==a?this:new X(this.value,this.b+a)};
m.evaluate=function(a,b){return Ff(a,this.value,b)};m.Ac=function(){return!0};function Pg(a,b,c){X.call(this,a,b);this.D=c}r(Pg,X);Pg.prototype.Cc=function(){return new X(this.value,this.b)};Pg.prototype.oc=function(a){a=this.value.I(a);return a===this.value?this:new Pg(a,this.b,this.D)};Pg.prototype.Dc=function(a){return 0==a?this:new Pg(this.value,this.b+a,this.D)};Pg.prototype.Ac=function(a){return!!this.D.evaluate(a)};function Qg(a,b,c){return(null==b||c.b>b.b)&&c.Ac(a)?c.Cc():b}var Rg={"region-id":!0};
function Sg(a){return"_"!=a.charAt(0)&&!Rg[a]}function Tg(a,b,c){c?a[b]=c:delete a[b]}function Ug(a,b){var c=a[b];c||(c={},a[b]=c);return c}function Vg(a,b){var c=a[b];c||(c=[],a[b]=c);return c}function Wg(a,b,c,d,e,f){if(e){var g=Ug(b,"_pseudos");b=g[e];b||(b={},g[e]=b)}f&&(e=Ug(b,"_regions"),b=e[f],b||(b={},e[f]=b));for(var h in c)"_"!=h.charAt(0)&&(Rg[h]?(f=c[h],e=Vg(b,h),Array.prototype.push.apply(e,f)):Tg(b,h,Qg(a,b[h],c[h].Dc(d))))}function Xg(a,b){this.e=a;this.d=b;this.b=""}r(Xg,Rc);
function Yg(a){a=a.e["font-size"].value;var b;a:switch(a.d.toLowerCase()){case "px":case "in":case "pt":case "pc":case "cm":case "mm":case "q":b=!0;break a;default:b=!1}if(!b)throw Error("Unexpected state");return a.B*cc[a.d]}Xg.prototype.Xa=function(a){if("em"==a.d||"ex"==a.d)return new ad(fc(this.d,a.d)/fc(this.d,"em")*a.B*Yg(this),"px");if("%"==a.d){if("font-size"===this.b)return new ad(a.B/100*Yg(this),"px");var b=this.b.match(/height|^(top|bottom)$/)?"vh":"vw";return new ad(a.B,b)}return a};
Xg.prototype.ob=function(a){return"font-size"==this.b?Ff(this.d,a,this.b).I(this):a};function Zg(){}Zg.prototype.apply=function(){};Zg.prototype.g=function(a){return new $g([this,a])};Zg.prototype.clone=function(){return this};function ah(a){this.b=a}r(ah,Zg);ah.prototype.apply=function(a){a.b[a.b.length-1].push(this.b.b())};function $g(a){this.b=a}r($g,Zg);$g.prototype.apply=function(a){for(var b=0;b<this.b.length;b++)this.b[b].apply(a)};$g.prototype.g=function(a){this.b.push(a);return this};
$g.prototype.clone=function(){return new $g([].concat(this.b))};function bh(a,b,c,d){this.style=a;this.e=b;this.b=c;this.d=d}r(bh,Zg);bh.prototype.apply=function(a){Wg(a.u,a.A,this.style,this.e,this.b,this.d)};function ch(){this.b=null}r(ch,Zg);ch.prototype.apply=function(a){this.b.apply(a)};ch.prototype.d=function(){return 0};ch.prototype.e=function(){return!1};function dh(a){this.b=null;this.f=a}r(dh,ch);dh.prototype.apply=function(a){0<=a.l.indexOf(this.f)&&this.b.apply(a)};dh.prototype.d=function(){return 10};
dh.prototype.e=function(a){this.b&&eh(a.oa,this.f,this.b);return!0};function fh(a){this.b=null;this.id=a}r(fh,ch);fh.prototype.apply=function(a){a.M!=this.id&&a.X!=this.id||this.b.apply(a)};fh.prototype.d=function(){return 11};fh.prototype.e=function(a){this.b&&eh(a.e,this.id,this.b);return!0};function gh(a){this.b=null;this.localName=a}r(gh,ch);gh.prototype.apply=function(a){a.e==this.localName&&this.b.apply(a)};gh.prototype.d=function(){return 8};
gh.prototype.e=function(a){this.b&&eh(a.nb,this.localName,this.b);return!0};function hh(a,b){this.b=null;this.f=a;this.localName=b}r(hh,ch);hh.prototype.apply=function(a){a.e==this.localName&&a.h==this.f&&this.b.apply(a)};hh.prototype.d=function(){return 8};hh.prototype.e=function(a){if(this.b){var b=a.b[this.f];b||(b="ns"+a.g++ +":",a.b[this.f]=b);eh(a.f,b+this.localName,this.b)}return!0};function ih(a){this.b=null;this.f=a}r(ih,ch);
ih.prototype.apply=function(a){var b=a.d;if(b&&"a"==a.e){var c=b.getAttribute("href");c&&c.match(/^#/)&&(b=b.ownerDocument.getElementById(c.substring(1)))&&(b=b.getAttributeNS("http://www.idpf.org/2007/ops","type"))&&b.match(this.f)&&this.b.apply(a)}};function jh(a){this.b=null;this.f=a}r(jh,ch);jh.prototype.apply=function(a){a.h==this.f&&this.b.apply(a)};function kh(a,b){this.b=null;this.f=a;this.name=b}r(kh,ch);kh.prototype.apply=function(a){a.d&&a.d.hasAttributeNS(this.f,this.name)&&this.b.apply(a)};
function lh(a,b,c){this.b=null;this.f=a;this.name=b;this.value=c}r(lh,ch);lh.prototype.apply=function(a){a.d&&a.d.getAttributeNS(this.f,this.name)==this.value&&this.b.apply(a)};lh.prototype.d=function(){return"type"==this.name&&"http://www.idpf.org/2007/ops"==this.f?9:0};lh.prototype.e=function(a){return"type"==this.name&&"http://www.idpf.org/2007/ops"==this.f?(this.b&&eh(a.d,this.value,this.b),!0):!1};function mh(a,b){this.b=null;this.f=a;this.name=b}r(mh,ch);
mh.prototype.apply=function(a){if(a.d){var b=a.d.getAttributeNS(this.f,this.name);b&&Eg[b]&&this.b.apply(a)}};mh.prototype.d=function(){return 0};mh.prototype.e=function(){return!1};function nh(a,b,c){this.b=null;this.f=a;this.name=b;this.h=c}r(nh,ch);nh.prototype.apply=function(a){if(a.d){var b=a.d.getAttributeNS(this.f,this.name);b&&b.match(this.h)&&this.b.apply(a)}};function oh(a){this.b=null;this.f=a}r(oh,ch);oh.prototype.apply=function(a){a.lang.match(this.f)&&this.b.apply(a)};
function ph(){this.b=null}r(ph,ch);ph.prototype.apply=function(a){a.la&&this.b.apply(a)};ph.prototype.d=function(){return 6};function qh(a){this.b=null;this.D=a}r(qh,ch);qh.prototype.apply=function(a){a.g[this.D]&&this.b.apply(a)};qh.prototype.d=function(){return 5};function rh(a){this.D=a}rh.prototype.b=function(){return this};rh.prototype.push=function(a,b){0==b&&sh(a,this.D);return!1};rh.prototype.pop=function(a,b){return 0==b?(a.g[this.D]--,!0):!1};function th(a){this.D=a}th.prototype.b=function(){return this};
th.prototype.push=function(a,b){0==b?sh(a,this.D):1==b&&a.g[this.D]--;return!1};th.prototype.pop=function(a,b){if(0==b)return a.g[this.D]--,!0;1==b&&sh(a,this.D);return!1};function uh(a){this.D=a;this.d=!1}uh.prototype.b=function(){return new uh(this.D)};uh.prototype.push=function(a){return this.d?(a.g[this.D]--,!0):!1};uh.prototype.pop=function(a,b){if(this.d)return a.g[this.D]--,!0;0==b&&(this.d=!0,sh(a,this.D));return!1};function vh(a){this.D=a;this.d=!1}vh.prototype.b=function(){return new vh(this.D)};
vh.prototype.push=function(a,b){this.d&&(-1==b?sh(a,this.D):0==b&&a.g[this.D]--);return!1};vh.prototype.pop=function(a,b){if(this.d){if(-1==b)return a.g[this.D]--,!0;0==b&&sh(a,this.D)}else 0==b&&(this.d=!0,sh(a,this.D));return!1};function wh(a,b){this.e=a;this.d=b}wh.prototype.b=function(){return this};wh.prototype.push=function(){return!1};wh.prototype.pop=function(a,b){return 0==b?(xh(a,this.e,this.d),!0):!1};function yh(a){this.lang=a}yh.prototype.b=function(){return this};yh.prototype.push=function(){return!1};
yh.prototype.pop=function(a,b){return 0==b?(a.lang=this.lang,!0):!1};function zh(a){this.d=a}zh.prototype.b=function(){return this};zh.prototype.push=function(){return!1};zh.prototype.pop=function(a,b){return 0==b?(a.C=this.d,!0):!1};function Ah(a,b){this.b=a;this.d=b}r(Ah,Rc);
Ah.prototype.Ka=function(a){var b=this.b,c=b.C,d=Math.floor(c.length/2)-1;switch(a.name){case "open-quote":a=c[2*Math.min(d,b.j)];b.j++;break;case "close-quote":return 0<b.j&&b.j--,c[2*Math.min(d,b.j)+1];case "no-open-quote":return b.j++,new Zc("");case "no-close-quote":return 0<b.j&&b.j--,new Zc("")}return a};
var Bh={roman:[4999,1E3,"M",900,"CM",500,"D",400,"CD",100,"C",90,"XC",50,"L",40,"XL",10,"X",9,"IX",5,"V",4,"IV",1,"I"],armenian:[9999,9E3,"\u0584",8E3,"\u0583",7E3,"\u0582",6E3,"\u0581",5E3,"\u0580",4E3,"\u057f",3E3,"\u057e",2E3,"\u057d",1E3,"\u057c",900,"\u057b",800,"\u057a",700,"\u0579",600,"\u0578",500,"\u0577",400,"\u0576",300,"\u0575",200,"\u0574",100,"\u0573",90,"\u0572",80,"\u0571",70,"\u0570",60,"\u056f",50,"\u056e",40,"\u056d",30,"\u056c",20,"\u056b",10,"\u056a",9,"\u0569",8,"\u0568",7,"\u0567",
6,"\u0566",5,"\u0565",4,"\u0564",3,"\u0563",2,"\u0562",1,"\u0561"],georgian:[19999,1E4,"\u10f5",9E3,"\u10f0",8E3,"\u10ef",7E3,"\u10f4",6E3,"\u10ee",5E3,"\u10ed",4E3,"\u10ec",3E3,"\u10eb",2E3,"\u10ea",1E3,"\u10e9",900,"\u10e8",800,"\u10e7",700,"\u10e6",600,"\u10e5",500,"\u10e4",400,"\u10f3",300,"\u10e2",200,"\u10e1",100,"\u10e0",90,"\u10df",80,"\u10de",70,"\u10dd",60,"\u10f2",50,"\u10dc",40,"\u10db",30,"\u10da",20,"\u10d9",10,"\u10d8",9,"\u10d7",8,"\u10f1",7,"\u10d6",6,"\u10d5",5,"\u10d4",4,"\u10d3",
3,"\u10d2",2,"\u10d1",1,"\u10d0"],hebrew:[999,400,"\u05ea",300,"\u05e9",200,"\u05e8",100,"\u05e7",90,"\u05e6",80,"\u05e4",70,"\u05e2",60,"\u05e1",50,"\u05e0",40,"\u05de",30,"\u05dc",20,"\u05db",19,"\u05d9\u05d8",18,"\u05d9\u05d7",17,"\u05d9\u05d6",16,"\u05d8\u05d6",15,"\u05d8\u05d5",10,"\u05d9",9,"\u05d8",8,"\u05d7",7,"\u05d6",6,"\u05d5",5,"\u05d4",4,"\u05d3",3,"\u05d2",2,"\u05d1",1,"\u05d0"]},Ch={latin:"a-z",alpha:"a-z",greek:"\u03b1-\u03c1\u03c3-\u03c9",russian:"\u0430-\u0438\u043a-\u0449\u044d-\u044f"},
Dh={square:"\u25a0",disc:"\u2022",circle:"\u25e6",none:""},Eh={$c:!1,bb:"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",Bb:"\u5341\u767e\u5343",Qc:"\u8ca0"};
function Fh(a){if(9999<a||-9999>a)return""+a;if(0==a)return Eh.bb.charAt(0);var b=new za;0>a&&(b.append(Eh.Qc),a=-a);if(10>a)b.append(Eh.bb.charAt(a));else if(Eh.bd&&19>=a)b.append(Eh.Bb.charAt(0)),0!=a&&b.append(Eh.Bb.charAt(a-10));else{var c=Math.floor(a/1E3);c&&(b.append(Eh.bb.charAt(c)),b.append(Eh.Bb.charAt(2)));if(c=Math.floor(a/100)%10)b.append(Eh.bb.charAt(c)),b.append(Eh.Bb.charAt(1));if(c=Math.floor(a/10)%10)b.append(Eh.bb.charAt(c)),b.append(Eh.Bb.charAt(0));(a%=10)&&b.append(Eh.bb.charAt(a))}return b.toString()}
function Gh(a,b){var c=!1,d=!1,e;null!=(e=b.match(/^upper-(.*)/))?(c=!0,b=e[1]):null!=(e=b.match(/^lower-(.*)/))&&(d=!0,b=e[1]);e="";if(Bh[b])a:{e=Bh[b];var f=a;if(f>e[0]||0>=f||f!=Math.round(f))e="";else{for(var g="",h=1;h<e.length;h+=2){var k=e[h],l=Math.floor(f/k);if(20<l){e="";break a}for(f-=l*k;0<l;)g+=e[h+1],l--}e=g}}else if(Ch[b])if(e=a,0>=e||e!=Math.round(e))e="";else{g=Ch[b];f=[];for(h=0;h<g.length;)if("-"==g.substr(h+1,1))for(l=g.charCodeAt(h),k=g.charCodeAt(h+2),h+=3;l<=k;l++)f.push(String.fromCharCode(l));
else f.push(g.substr(h++,1));g="";do e--,h=e%f.length,g=f[h]+g,e=(e-h)/f.length;while(0<e);e=g}else null!=Dh[b]?e=Dh[b]:"decimal-leading-zero"==b?(e=a+"",1==e.length&&(e="0"+e)):"cjk-ideographic"==b||"trad-chinese-informal"==b?e=Fh(a):e=a+"";return c?e.toUpperCase():d?e.toLowerCase():e}
Ah.prototype.Ja=function(a){switch(a.name){case "attr":if(1==a.b.length)return new Zc(this.d.getAttribute(a.b[0].stringValue())||"");break;case "counter":if(2>=a.b.length){var b=a.b;a=b[0].toString();b=1<b.length?b[1].stringValue():"decimal";a=this.b.f[a];return new Zc(Gh(a&&a.length&&a[a.length-1]||0,b))}break;case "counters":if(3>=a.b.length){var b=a.b,c=b[0].toString();a=b[1].stringValue();var b=2<b.length?b[2].stringValue():"decimal",c=this.b.f[c],d=new za;if(c)for(var e=0;e<c.length;e++)0<e&&
d.append(a),d.append(Gh(c[e],b));return new Zc(d.toString())}}w("E_CSS_CONTENT_PROP: "+a.toString());return new Zc("")};var Hh=1/1048576;function Ih(a,b){for(var c in a)b[c]=a[c].clone()}function Jh(){this.g=0;this.b={};this.nb={};this.f={};this.d={};this.oa={};this.e={};this.Y=0}Jh.prototype.clone=function(){var a=new Jh;a.g=this.g;for(var b in this.b)a.b[b]=this.b[b];Ih(this.nb,a.nb);Ih(this.f,a.f);Ih(this.d,a.d);Ih(this.oa,a.oa);Ih(this.e,a.e);a.Y=this.Y;return a};
function eh(a,b,c){var d=a[b];d&&(c=d.g(c));a[b]=c}function Kh(a,b){this.k=a;this.u=b;this.b=[[],[]];this.g={};this.l=this.A=this.d=null;this.T=this.X=this.M=this.h=this.e="";this.H=null;this.la=!0;this.f={};this.w=[{}];this.C=[new Zc("\u201c"),new Zc("\u201d"),new Zc("\u2018"),new Zc("\u2019")];this.j=0;this.lang="";this.Aa=[]}function sh(a,b){a.g[b]=(a.g[b]||0)+1}function Lh(a,b,c){(b=b[c])&&b.apply(a)}var Mh=[];
function Nh(a,b,c){a.f[b]?a.f[b].push(c):a.f[b]=[c];c=a.w[a.w.length-1];c||(c={},a.w[a.w.length-1]=c);c[b]=!0}
function Oh(a,b){var c=sd,d=b.display;d&&(c=d.evaluate(a.u));var e=null,d=null,f=b["counter-reset"];f&&(f=f.evaluate(a.u))&&(e=Mf(f,!0));(f=b["counter-increment"])&&(f=f.evaluate(a.u))&&(d=Mf(f,!1));"ol"!=a.e&&"ul"!=a.e||"http://www.w3.org/1999/xhtml"!=a.h||(e||(e={}),e["ua-list-item"]=0);c===ud&&(d||(d={}),d["ua-list-item"]=1);if(e)for(var g in e)Nh(a,g,e[g]);if(d)for(var h in d)a.f[h]||Nh(a,h,0),g=a.f[h],g[g.length-1]+=d[h];c===ud&&(c=a.f["ua-list-item"],b["ua-list-item-count"]=new X(new bd(c[c.length-
1]),0));a.w.push(null)}function Ph(a){var b=a.w.pop();if(b)for(var c in b)(b=a.f[c])&&(1==b.length?delete a.f[c]:b.pop())}function xh(a,b,c){Oh(a,b);b.content&&(b.content=b.content.oc(new Ah(a,c)));Ph(a)}var Qh="before transclusion-before footnote-call footnote-marker inner first-letter first-line  transclusion-after after".split(" ");
function Rh(a,b,c){a.Aa.push(b);a.d=b;a.A=c;a.h=b.namespaceURI;a.e=b.localName;var d=a.k.b[a.h];a.T=d?d+a.e:"";a.M=b.getAttribute("id");a.X=b.getAttributeNS("http://www.w3.org/XML/1998/namespace","id");(d=b.getAttribute("class"))?a.l=d.split(/\s+/):a.l=Mh;(d=b.getAttributeNS("http://www.idpf.org/2007/ops","type"))?a.H=d.split(/\s+/):a.H=Mh;"style"==a.e&&"http://www.gribuser.ru/xml/fictionbook/2.0"==a.h&&(a.l=[b.getAttribute("name")||""]);(d=b.getAttributeNS("http://www.w3.org/XML/1998/namespace",
"lang"))||"http://www.w3.org/1999/xhtml"!=a.h||(d=b.getAttribute("lang"));d&&(a.b[a.b.length-1].push(new yh(a.lang)),a.lang=d.toLowerCase());Sh(a);d=c.quotes;c=null;d&&(d=d.evaluate(a.u))&&(c=new zh(a.C),d===vd?a.C=[new Zc(""),new Zc("")]:d instanceof Sc&&(a.C=d.b));Oh(a,a.A);if(d=a.A._pseudos)for(var e=!0,f=0;f<Qh.length;f++){var g=Qh[f];g||(e=!1);(g=d[g])&&(e?xh(a,g,b):a.b[a.b.length-2].push(new wh(g,b)))}c&&a.b[a.b.length-2].push(c)}
function Sh(a){var b;for(b=0;b<a.l.length;b++)Lh(a,a.k.oa,a.l[b]);for(b=0;b<a.H.length;b++)Lh(a,a.k.d,a.H[b]);Lh(a,a.k.e,a.M);Lh(a,a.k.nb,a.e);""!=a.e&&Lh(a,a.k.nb,"*");Lh(a,a.k.f,a.T);a.d=null;a.b.push([]);for(var c=1;-1<=c;--c){var d=a.b[a.b.length-c-2];for(b=0;b<d.length;)d[b].push(a,c)?d.splice(b,1):b++}a.la=!0}Kh.prototype.pop=function(){for(var a=1;-1<=a;--a)for(var b=this.b[this.b.length-a-2],c=0;c<b.length;)b[c].pop(this,a)?b.splice(c,1):c++;this.b.pop();this.la=!1};var Th=null;
function Uh(a,b,c,d,e,f,g){df.call(this,a,b,g);this.b=null;this.f=0;this.l=null;this.u=0;this.g=null;this.k=!1;this.D=c;this.j=d?d.j:Th?Th.clone():new Jh;this.A=e;this.C=f;this.h=0}r(Uh,ef);function Vh(a,b){var c=a.b;if(0<c.length){c.sort(function(a,b){return b.d()-a.d()});for(var d=null,e=c.length-1;0<=e;e--)d=c[e],d.b=b,b=d;if(d.e(a.j))return}eh(a.j.nb,"*",b)}m=Uh.prototype;m.Ha=function(a,b){if(b||a)this.f+=1,b&&a?this.b.push(new hh(a,b)):b?this.b.push(new gh(b)):this.b.push(new jh(a))};
m.Vb=function(a){this.g?(w("::"+this.g+" followed by ."+a),this.b.push(new qh(""))):(this.f+=256,this.b.push(new dh(a)))};
m.Cb=function(a,b){if(this.g)w("::"+this.g+" followed by :"+a),this.b.push(new qh(""));else{switch(a.toLowerCase()){case "first-child":this.b.push(new ph);break;case "link":this.b.push(new gh("a"));this.b.push(new kh("","href"));break;case "-adapt-href-epub-type":case "href-epub-type":if(b&&1==b.length&&"string"==typeof b[0]){var c=new RegExp("(^|s)"+ea(b[0])+"($|s)");this.b.push(new ih(c))}else this.b.push(new qh(""));break;case "-adapt-footnote-content":case "footnote-content":this.k=!0;break;case "visited":case "active":case "hover":case "focus":this.b.push(new qh(""));
break;case "lang":b&&1==b.length&&"string"==typeof b[0]?this.b.push(new oh(new RegExp("^"+ea(b[0].toLowerCase())+"($|-)"))):this.b.push(new qh(""));break;case "before":case "after":case "first-line":case "first-letter":this.hb(a,b);return;default:this.b.push(new qh(""))}this.f+=256}};
m.hb=function(a,b){switch(a){case "before":case "after":case "first-line":case "first-letter":case "footnote-call":case "footnote-marker":case "inner":this.g?(w("Double pseudoelement ::"+this.g+"::"+a),this.b.push(new qh(""))):this.g=a;break;case "first-n-lines":if(b&&1==b.length&&"number"==typeof b[0]){var c=Math.round(b[0]);if(0<c&&c==b[0]){this.g?(w("Double pseudoelement ::"+this.g+"::"+a),this.b.push(new qh(""))):this.g="first-"+c+"-lines";break}}default:w("Unrecognized pseudoelement: ::"+a),
this.b.push(new qh(""))}this.f+=1};m.$b=function(a){this.f+=65536;this.b.push(new fh(a))};m.xb=function(a,b,c,d){this.f+=256;d=d||"";switch(c){case 0:this.b.push(new kh(a,b));break;case 39:this.b.push(new lh(a,b,d));break;case 45:this.b.push(new nh(a,b,new RegExp("(^|s)"+ea(d)+"($|s)")));break;case 44:this.b.push(new nh(a,b,new RegExp("^"+ea(d)+"($|-)")));break;case 50:"supported"==d?this.b.push(new mh(a,b)):w("Unsupported :: attr selector op: "+d);break;default:w("Unsupported attr selector: "+c)}};
m.Fa=function(){var a="d"+this.u++;Vh(this,new ah(new rh(a)));this.b=[new qh(a)]};m.Ub=function(){var a="c"+this.u++;Vh(this,new ah(new th(a)));this.b=[new qh(a)]};m.Sb=function(){var a="a"+this.u++;Vh(this,new ah(new uh(a)));this.b=[new qh(a)]};m.Xb=function(){var a="f"+this.u++;Vh(this,new ah(new vh(a)));this.b=[new qh(a)]};m.bc=function(){Wh(this);this.g=null;this.k=!1;this.f=0;this.b=[]};
m.Ma=function(){var a;0!=this.h?(gf(this,"E_CSS_UNEXPECTED_SELECTOR"),a=!0):a=!1;a||(this.h=1,this.l={},this.g=null,this.f=0,this.k=!1,this.b=[])};m.J=function(a,b){ef.prototype.J.call(this,a,b);1==this.h&&(this.h=0)};m.Ua=function(a){ef.prototype.Ua.call(this,a);this.h=0};m.ia=function(){Wh(this);ef.prototype.ia.call(this);1==this.h&&(this.h=0)};m.Ga=function(){ef.prototype.Ga.call(this)};
function Wh(a){if(a.b){var b=a.A;a.k&&(b=b?"xxx-bogus-xxx":"footnote");var c=a.l,d=a.f,e;e=a.j;e=e.Y+=Hh;Vh(a,new bh(c,d+e,a.g,b));a.b=null;a.g=null;a.k=!1;a.f=0}}m.Da=function(a,b,c){Bg(this.C,a,b,c,this)};m.Ab=function(a,b){ff(this,"E_INVALID_PROPERTY_VALUE "+a+": "+b.toString())};m.fc=function(a,b){ff(this,"E_INVALID_PROPERTY "+a+": "+b.toString())};
m.La=function(a,b,c){"display"!=a||b!==zd&&b!==xd||(this.La("flow-options",new Sc([nd,Dd]),c),this.La("flow-into",b,c),b=ld);c=c?$e(this):af(this);Tg(this.l,a,this.D?new Pg(b,c,this.D):new X(b,c))};function Xh(a,b){df.call(this,a,b,!1)}r(Xh,ef);Xh.prototype.Da=function(a,b){if(this.e.g[a])this.J("E_CSS_NAME_REDEFINED "+a,this.eb());else{var c=a.match(/height|^(top|bottom)$/)?"vh":"vw",c=new Yb(this.e,100,c),c=b.ba(this.e,c);this.e.g[a]=c}};
function Yh(a,b,c,d,e){df.call(this,a,b,!1);this.b=d;this.D=c;this.d=e}r(Yh,ef);Yh.prototype.Da=function(a,b,c){c?w("E_IMPORTANT_NOT_ALLOWED"):Bg(this.d,a,b,c,this)};Yh.prototype.Ab=function(a,b){w("E_INVALID_PROPERTY_VALUE "+a+": "+b.toString())};Yh.prototype.fc=function(a,b){w("E_INVALID_PROPERTY "+a+": "+b.toString())};Yh.prototype.La=function(a,b,c){c=c?$e(this):af(this);c+=this.Y;this.Y+=Hh;Tg(this.b,a,this.D?new Pg(b,c,this.D):new X(b,c))};
function Zh(a,b){Af.call(this,a);this.b={};this.d=b;this.Y=0}r(Zh,Af);Zh.prototype.Da=function(a,b,c){Bg(this.d,a,b,c,this)};Zh.prototype.Ab=function(a,b){w("E_INVALID_PROPERTY_VALUE "+a+": "+b.toString())};Zh.prototype.fc=function(a,b){w("E_INVALID_PROPERTY "+a+": "+b.toString())};Zh.prototype.La=function(a,b,c){c=(c?67108864:50331648)+this.Y;this.Y+=Hh;Tg(this.b,a,new X(b,c))};
var $h=new Ve(function(){var a=L("uaStylesheetBase");Te(Cg).then(function(b){var c=ca("user-agent-base.css",ba);b=new Uh(null,null,null,null,null,b,!0);b.Ua("UA");Th=b.j;Cf(c,b,null).ea(a)});return N(a)},"uaStylesheetBaseFetcher");function ai(a,b,c){return(a=a["writing-mode"])&&(b=a.evaluate(b,"writing-mode"))&&b!==rd?b===Hd:c}
function bi(a,b,c,d){var e={},f;for(f in a)Sg(f)&&(e[f]=a[f]);a=a._regions;if((c||d)&&a)for(d&&(d=["footnote"],c=c?c.concat(d):d),d=0;d<c.length;d++){f=a[c[d]];for(var g in f)Sg(g)&&(e[g]=Qg(b,e[g],f[g]))}return e};var ci={"font-style":wd,"font-variant":wd,"font-weight":wd},di="OTTO"+(new Date).valueOf(),ei=1;function fi(a){a=this.Ta=a;var b=new za,c;for(c in ci)b.append(" "),b.append(a[c].toString());this.d=b.toString();if(c=this.Ta.src){a=new Nf;try{c.I(a)}catch(d){w("toFontSrcURL: "+d)}c=a.url}else c=null;this.src=c;this.e=[];this.f=[];this.b=(c=this.Ta["font-family"])?c.stringValue():null}
function gi(a,b,c){var d=new za;d.append("@font-face {\n  font-family: ");d.append(a.b);d.append(";\n  ");for(var e in ci)d.append(e),d.append(": "),a.Ta[e].ga(d,!0),d.append(";\n  ");c?(d.append('src: url("'),b=(window.URL||window.webkitURL).createObjectURL(c),d.append(b),a.e.push(b),a.f.push(c)):(d.append('src: url("'),d.append(Da(b)));d.append('");\n}\n');return d.toString()}function hi(a){this.d=a;this.b={}}function ii(a,b){this.d=a;this.b=b;this.e={};this.f=0}
function ji(a,b,c){b=b.b;var d=c.b[b];if(d)return d;d="Fnt_"+ ++a.f;return c.b[b]=d}
function ki(a,b,c,d){var e=L("initFont"),f=b.src,g={},h;for(h in ci)g[h]=b.Ta[h];d=ji(a,b,d);g["font-family"]=I(d);var k=new fi(g),l=a.b.ownerDocument.createElement("span");l.textContent="M";var n=(new Date).valueOf()+1E3;b=a.d.ownerDocument.createElement("style");h=di+ei++;b.textContent=gi(k,"",Qe([h]));a.d.appendChild(b);a.b.appendChild(l);l.style.visibility="hidden";l.style.fontFamily=d;for(var p in ci)t(l,p,g[p].toString());a=l.getBoundingClientRect();var q=a.right-a.left,u=a.bottom-a.top;b.textContent=
gi(k,f,c);w("Starting to load font: "+f);var v=!1;Le(function(){var a=l.getBoundingClientRect(),b=a.bottom-a.top;if(q!=a.right-a.left||u!=b)return v=!0,M(!1);(new Date).valueOf()>n?a=M(!1):(a=L("Frame.sleep"),Ee(a).za(!0,10),a=N(a));return a}).then(function(){v?w("Loaded font: "+f):w("Failed to load font: "+f);O(e,k)});return N(e)}
function li(a,b,c){var d=b.src,e=a.e[d];e?Pf(e,function(a){if(a.d==b.d){var e=b.b,h=c.b[e];a=a.b;if(h){if(h!=a)throw Error("E_FONT_FAMILY_INCONSISTENT "+b.b);}else c.b[e]=a;w("Found already-loaded font: "+d)}else w("E_FONT_FACE_INCOMPATIBLE "+b.src)}):(e=new Ve(function(){var e=L("loadFont"),g=c.d?c.d(d):null;g?Pe(d,!0).then(function(d){d.Db?g(d.Db).then(function(d){ki(a,b,d,c).ea(e)}):O(e,null)}):ki(a,b,null,c).ea(e);return N(e)},"loadFont "+d),a.e[d]=e,We(e));return e};function mi(a,b,c){this.h=a;this.url=b;this.document=c;this.lang=null;this.e=-1;this.root=c.documentElement;a=null;if("http://www.w3.org/1999/xhtml"==this.root.namespaceURI){for(b=this.root.firstChild;b;b=b.nextSibling)if(1==b.nodeType&&(c=b,"http://www.w3.org/1999/xhtml"==c.namespaceURI))switch(c.localName){case "head":a=c}this.lang=this.root.getAttribute("lang")}else if("http://www.gribuser.ru/xml/fictionbook/2.0"==this.root.namespaceURI){a=this.root;for(b=this.root.firstChild;b;b=b.nextSibling);
b=ni(ni(ni(ni(new oi([this.document]),"FictionBook"),"description"),"title-info"),"lang").textContent();0<b.length&&(this.lang=b[0])}else if("http://example.com/sse"==this.root.namespaceURI)for(c=this.root.firstElementChild;c;c=c.nextElementSibling)"meta"===c.localName&&(a=c);this.g=a;this.d=this.root;this.f=1;this.d.setAttribute("data-adapt-eloff","0")}
function pi(a,b){var c=b.getAttribute("data-adapt-eloff");if(c)return parseInt(c,10);for(var c=a.f,d=a.d;d!=b;){var e=d.firstChild;if(!e)for(;!(e=d.nextSibling);)if(d=d.parentNode,null==d)throw Error("Internal error");d=e;1==e.nodeType?(e.setAttribute("data-adapt-eloff",c.toString()),++c):c+=e.textContent.length}a.f=c;a.d=b;return c-1}
function qi(a,b,c,d){var e=0,f=null;if(1==b.nodeType){if(!d)return pi(a,b)}else{e=c;f=b.previousSibling;if(!f)return b=b.parentNode,e+=1,pi(a,b)+e;b=f}for(;;){for(;b.lastChild;)b=b.lastChild;if(1==b.nodeType)break;e+=b.textContent.length;f=b.previousSibling;if(!f){b=b.parentNode;break}b=f}e+=1;return pi(a,b)+e}function ri(a){0>a.e&&(a.e=qi(a,a.root,0,!0));return a.e}
function si(a,b){for(var c,d=a.root;;){c=pi(a,d);if(c>=b)return d;var e=d.children;if(!e)break;var f=Ia(e.length,function(c){return pi(a,e[c])>b});if(0==f)break;if(f<e.length&&pi(a,e[f])<=b)throw Error("Consistency check failed!");d=e[f-1]}c=c+1;for(var f=d,g=f.firstChild||f.nextSibling,h=null;;){if(g){if(1==g.nodeType)break;h=f=g;c+=g.textContent.length;if(c>b)break}else if(f=f.parentNode,!f)break;g=f.nextSibling}return h||d}
function ti(a,b){var c=b.getAttribute("id");c&&!a.b[c]&&(a.b[c]=b);(c=b.getAttributeNS("http://www.w3.org/XML/1998/namespace","id"))&&!a.b[c]&&(a.b[c]=b);for(c=b.firstElementChild;c;c=c.nextElementSibling)ti(a,c)}function ui(a,b){var c=b.match(/([^#]*)\#(.+)$/);if(!c||c[1]&&c[1]!=a.url)return null;var c=c[2],d=a.document.getElementById(c);d||(a.b||(a.b={},ti(a,a.document.documentElement)),d=a.b[c]);return d}
function vi(a,b){var c=a.responseXML;if(!c){var d=new DOMParser;(c=d.parseFromString(a.responseText||"<not-found/>","text/xml"))||d.parseFromString("<error/>","text/xml");a.responseText&&w("XML served with non-XML media type: "+a.url)}c=new mi(b,a.url,c);return M(c)}function wi(a){this.Sa=a}function xi(){var a=yi;return new wi(function(b){return a.Sa(b)&&1==b.nodeType&&"http://www.idpf.org/2008/embedding"==b.getAttribute("Algorithm")})}
function zi(){var a=xi(),b=yi;return new wi(function(c){if(!b.Sa(c))return!1;c=new oi([c]);c=ni(c,"EncryptionMethod");a&&(c=Ai(c,a));return 0<c.b.length})}var yi=new wi(function(){return!0});function oi(a){this.b=a}function Bi(a){return a.b}function Ai(a,b){for(var c=[],d=0;d<a.b.length;d++){var e=a.b[d];b.Sa(e)&&c.push(e)}return new oi(c)}function Ci(a,b){function c(a){d.push(a)}for(var d=[],e=0;e<a.b.length;e++)b(a.b[e],c);return new oi(d)}
function Di(a,b){for(var c=[],d=0;d<a.b.length;d++)c.push(b(a.b[d]));return c}function Ei(a,b){for(var c=[],d=0;d<a.b.length;d++){var e=b(a.b[d]);null!=e&&c.push(e)}return c}function ni(a,b){return Ci(a,function(a,d){for(var e=a.firstChild;e;e=e.nextSibling)e.localName==b&&d(e)})}function Fi(a){return Ci(a,function(a,c){for(var d=a.firstChild;d;d=d.nextSibling)1==d.nodeType&&c(d)})}function Gi(a,b){return Ei(a,function(a){return 1==a.nodeType?a.getAttribute(b):null})}
oi.prototype.textContent=function(){return Di(this,function(a){return a.textContent})};var Hi={transform:!0,"transform-origin":!0,position:!0};function Ii(a,b,c){this.target=a;this.name=b;this.value=c}var Ji={show:function(a){a.style.visibility="visible"},hide:function(a){a.style.visibility="hidden"},play:function(a){a.currentTime=0;a.play()},pause:function(a){a.pause()},resume:function(a){a.play()},mute:function(a){a.muted=!0},unmute:function(a){a.muted=!1}};function Ki(a,b){var c=Ji[b];return c?function(){for(var b=0;b<a.length;b++)try{c(a[b])}catch(e){}}:null}
function Li(a){this.b={};this.na=a;this.e=[];var b=this;this.k=function(a){var d=a.currentTarget,e=d.getAttribute("href")||d.getAttributeNS("http://www.w3.org/1999/xlink","href");if(e&&(a.preventDefault(),a={type:"hyperlink",target:null,currentTarget:null,Wc:d,href:e},d=b.b[a.type]))for(a.target=b,a.currentTarget=b,e=0;e<d.length;e++)d[e](a)};this.f={};this.h=this.g=!1;this.G=0;this.j=null;this.offset=-1;this.d=[]}r(Li,Pa);function Mi(a,b,c){var d=a.f[c];d?d.push(b):a.f[c]=[b]}
function Ni(a,b){if(1==a.nodeType)return!1;var c=a.textContent;switch(b){case 0:return!!c.match(/^\s*$/);case 1:return!!c.match(/^[ \t\f]*$/);case 2:return 0==c.length}throw Error("Unexpected whitespace: "+b);}function Oi(a,b,c,d,e,f,g,h){this.f=a;this.h=b;this.b=c;this.g=d;this.k=e;this.d=f;this.Uc=g;this.j=h;this.e=-1}function Pi(a,b){return a.d?!b.d||a.g>b.g?!0:a.j:!1}function Qi(a,b){return a.top-b.top}function Ri(a,b){return b.right-a.right}
function Si(a,b,c,d,e,f,g){this.W=a;this.dc=d;this.wc=null;this.root=b;this.S=c;this.type=f;e&&(e.wc=this);this.b=g}function Ti(a,b){this.Sc=a;this.count=b}function Ui(a,b,c){this.O=a;this.parent=b;this.U=c;this.V=0;this.F=!1;this.ra=0;this.Z=b?b.Z:null;this.ca=this.fa=null;this.C=!1;this.d=!0;this.overflow=!1;this.g=b?b.g:0;this.u=this.h=null;this.w=b?b.w:0;this.j=b?b.j:!1;this.b=this.A=this.l=null;this.k=b?b.k:{};this.f=b?b.f:!1;this.e=b?b.e:null}
function Vi(a){a.d=!0;a.g=a.parent?a.parent.g:0;a.b=null;a.V=0;a.F=!1;a.h=null;a.u=null;a.l=null;a.A=null;a.fa=null;a.j=a.parent?a.parent.j:!1;a.f=a.parent?a.parent.f:!1;a.fa=null}function Wi(a){var b=new Ui(a.O,a.parent,a.U);b.V=a.V;b.F=a.F;b.fa=a.fa;b.ra=a.ra;b.Z=a.Z;b.ca=a.ca;b.d=a.d;b.g=a.g;b.h=a.h;b.u=a.u;b.j=a.j;b.w=a.w;b.l=a.l;b.A=a.A;b.b=a.b;b.e=a.e;b.f=a.f;b.overflow=a.overflow;return b}Ui.prototype.modify=function(){return this.C?Wi(this):this};
function Xi(a){var b=a;do{if(b.C)break;b.C=!0;b=b.parent}while(b);return a}Ui.prototype.clone=function(){for(var a=Wi(this),b=a,c;null!=(c=b.parent);)c=Wi(c),b=b.parent=c;return a};function Yi(a){return{ka:a.O,ra:a.ra,Z:a.Z,fa:a.fa,ca:a.ca?Yi(a.ca):null}}function Zi(a){this.va=a;this.b=this.d=null}Zi.prototype.clone=function(){var a=new Zi(this.va);if(this.d){a.d=[];for(var b=0;b<this.d.length;++b)a.d[b]=this.d[b]}if(this.b)for(a.b=[],b=0;b<this.b.length;++b)a.b[b]=this.b[b];return a};
function $i(a,b){this.d=a;this.b=b}$i.prototype.clone=function(){return new $i(this.d.clone(),this.b)};function aj(){this.b=[]}aj.prototype.clone=function(){for(var a=new aj,b=this.b,c=a.b,d=0;d<b.length;d++)c[d]=b[d].clone();return a};function bj(){this.d=0;this.b={};this.e=0}bj.prototype.clone=function(){var a=new bj;a.d=this.d;a.f=this.f;a.e=this.e;a.g=this.g;for(var b in this.b)a.b[b]=this.b[b].clone();return a};
function cj(a){this.b=a;this.C=this.A=this.height=this.width=this.H=this.k=this.la=this.j=this.Za=this.X=this.$a=this.T=this.marginBottom=this.marginTop=this.marginRight=this.marginLeft=this.top=this.left=0;this.sb=this.w=null;this.Oa=this.tb=this.ab=this.ub=this.e=0;this.d=!1}function dj(a){return a.marginTop+a.X+a.k}function ej(a){return a.marginBottom+a.Za+a.H}function fj(a){return a.marginLeft+a.T+a.j}function gj(a){return a.marginRight+a.$a+a.la}
function hj(a,b){a.b=b.b;a.left=b.left;a.top=b.top;a.marginLeft=b.marginLeft;a.marginRight=b.marginRight;a.marginTop=b.marginTop;a.marginBottom=b.marginBottom;a.T=b.T;a.$a=b.$a;a.X=b.X;a.Za=b.Za;a.j=b.j;a.la=b.la;a.k=b.k;a.H=b.H;a.width=b.width;a.height=b.height;a.A=b.A;a.C=b.C;a.sb=b.sb;a.w=b.w;a.e=b.e;a.ub=b.ub;a.ab=b.ab;a.d=b.d}function ij(a,b,c){a.top=b;a.height=c;t(a.b,"top",b+"px");t(a.b,"height",c+"px")}function jj(a,b,c){a.left=b;a.width=c;t(a.b,"left",b+"px");t(a.b,"width",c+"px")}
function kj(a){this.b=a}r(kj,Qc);kj.prototype.pb=function(a){this.b.appendChild(this.b.ownerDocument.createTextNode(a.b));return null};kj.prototype.Ya=function(a){var b=this.b.ownerDocument.createElementNS("http://www.w3.org/1999/xhtml","img");b.setAttribute("src",a.url);this.b.appendChild(b);return null};kj.prototype.xa=function(a){this.Ea(a.b);return null};function lj(a){return null!=a&&a!==wd&&a!==vd&&a!==rd};function mj(a,b,c){this.e=a;this.d=b;this.b=c}function nj(){this.b=[]}function oj(a){return 0==a.b.length?0:a.b[a.b.length-1].b}function pj(a,b){if(0==a.b.length)a.b.push(new mj(b,b,b));else{var c=a.b[a.b.length-1],d=c.b+b-c.d;c.d==c.e?(c.d=b,c.e=b,c.b=d):a.b.push(new mj(b,b,d))}}function qj(a,b){0==a.b.length?a.b.push(new mj(b,0,0)):a.b[a.b.length-1].d=b}function rj(a,b){var c=Ia(a.b.length,function(c){return b<=a.b[c].d}),c=a.b[c];return c.b-Math.max(0,c.e-b)}
function sj(a,b){var c=Ia(a.b.length,function(c){return b<=a.b[c].b}),c=a.b[c];return c.e-(c.b-b)}
function tj(a,b,c,d,e,f){this.S=a;this.root=a.root;this.la=c;this.g=d;this.h=f;this.d=this.root;this.u={};this.w={};this.C=[];this.l=this.k=null;this.A=new Kh(b,d);this.e=new nj;this.va=!0;this.H=[];this.X=e;this.T=this.M=!1;this.b=a=pi(a,this.root);pj(this.e,a);b=uj(this,this.root);Rh(this.A,this.root,b);vj(this,b,!1);this.j=!0;switch(this.root.namespaceURI){case "http://www.w3.org/1999/xhtml":case "http://www.gribuser.ru/xml/fictionbook/2.0":this.j=!1}this.H.push(!0);this.w={};this.w["e"+a]=b;this.b++;
wj(this,-1)}function xj(a,b,c,d){return(b=b[d])&&b.evaluate(a.g)!==c[d]}function yj(a,b,c){for(var d in c){var e=b[d];e?(a.u[d]=e,delete b[d]):(e=c[d])&&(a.u[d]=new X(e,33554432))}}var zj=["column-count","column-width"];function vj(a,b,c){!c&&b["writing-mode"]&&(a.u["writing-mode"]=b["writing-mode"]);a.M||!xj(a,b,a.h.g,"background-color")&&!xj(a,b,a.h.g,"background-image")||(yj(a,b,a.h.g),a.M=!0);if(!a.T)for(c=0;c<zj.length;c++)if(xj(a,b,a.h.j,zj[c])){yj(a,b,a.h.j);a.T=!0;break}}
function uj(a,b){if(b.style instanceof CSSStyleDeclaration){var c=b.getAttribute("style");if(c){var d=a.S.url,e=new Zh(a.la,a.h),c=new Lb(c);try{zf(new rf(jf,c,e,d),Number.POSITIVE_INFINITY,!1,!0)}catch(f){w("Style attribute parse error: "+f)}return e.b}}return{}}
function wj(a,b){if(!(b>=a.b)){var c=a.g,d=pi(a.S,a.root);if(b<d){var e=a.f(a.root,!1),f=e["flow-into"],f=f?f.evaluate(c,"flow-into").toString():"body";Aj(a,f,e,a.root,d)}d=si(a.S,b);e=qi(a.S,d,0,!1);if(!(e>=a.b))for(;;){if(1!=d.nodeType)e+=d.textContent.length;else{var g=d;if(e!=pi(a.S,g))throw Error("Inconsistent offset");var h=a.f(g,!1);if(f=h["flow-into"])f=f.evaluate(c,"flow-into").toString(),Aj(a,f,h,g,e);e++}if(e>=a.b)break;f=d.firstChild;if(null==f)for(;!(f=d.nextSibling);)if(d=d.parentNode,
d===a.root)return;d=f}}}function Aj(a,b,c,d,e){var f=0,g=Number.POSITIVE_INFINITY,h=!1,k=!1,l=!1,n=c["flow-options"];if(n){var p;a:{if(h=n.evaluate(a.g,"flow-options")){k=new Gf;try{h.I(k);p=k.b;break a}catch(q){w("toSet: "+q)}}p={}}h=!!p.exclusive;k=!!p["static"];l=!!p.last}(p=c["flow-linger"])&&(g=If(p.evaluate(a.g,"flow-linger"),Number.POSITIVE_INFINITY));(c=c["flow-priority"])&&(f=If(c.evaluate(a.g,"flow-priority"),0));d=new Oi(b,d,e,f,g,h,k,l);a.C.push(d);a.l==b&&(a.l=null);a.k&&Bj(a.k,d)}
function Cj(a,b,c){var d=-1;if(b<=a.b&&(d=rj(a.e,b),d+=c,d<oj(a.e)))return sj(a.e,d);if(null==a.d)return Number.POSITIVE_INFINITY;for(var e=a.g;;){var f=a.d.firstChild;if(null==f)for(;;){if(1==a.d.nodeType){var f=a.A,g=a.d;if(f.Aa.pop()!==g)throw Error("Invalid call to popElement");f.pop();Ph(f);a.va=a.H.pop()}if(f=a.d.nextSibling)break;a.d=a.d.parentNode;if(a.d===a.root)return a.d=null,b<a.b&&(0>d&&(d=rj(a.e,b),d+=c),d<=oj(a.e))?sj(a.e,d):Number.POSITIVE_INFINITY}a.d=f;if(1!=a.d.nodeType)a.b+=a.d.textContent.length,
a.va?pj(a.e,a.b):qj(a.e,a.b);else{g=a.d;f=uj(a,g);a.H.push(a.va);Rh(a.A,g,f);a.j||"body"!=g.localName||g.parentNode!=a.root||(vj(a,f,!0),a.j=!0);var h=f["flow-into"];h&&(h=h.evaluate(e,"flow-into").toString(),Aj(a,h,f,g,a.b),a.va=!!a.X[h]);a.va&&(g=f.display)&&g.evaluate(e,"display")===vd&&(a.va=!1);if(pi(a.S,a.d)!=a.b)throw Error("Inconsistent offset");a.w["e"+a.b]=f;a.b++;a.va?pj(a.e,a.b):qj(a.e,a.b);if(b<a.b&&(0>d&&(d=rj(a.e,b),d+=c),d<=oj(a.e)))return sj(a.e,d)}}}
tj.prototype.f=function(a,b){var c=pi(this.S,a),d="e"+c;b&&(c=qi(this.S,a,0,!0));this.b<=c&&Cj(this,c,0);return this.w[d]};function Dj(a,b){return a?b?"avoid"==a||"avoid"==b?"avoid":a:a:b}var Ej={img:!0,svg:!0,audio:!0,video:!0};
function Fj(a,b,c){var d=a.b;if(!d)return NaN;if(1==d.nodeType){if(a.F){var e=d.getBoundingClientRect();if(e.right>=e.left&&e.bottom>=e.top)return c?e.left:e.bottom}return NaN}var e=NaN,f=d.ownerDocument.createRange(),g=d.textContent.length;if(!g)return NaN;a.F&&(b+=g);b>=g&&(b=g-1);f.setStart(d,b);f.setEnd(d,b+1);a=Gj(f);if(b=c){b=document.body;if(null==Ta){var h=b.ownerDocument,f=h.createElement("div");f.style.position="absolute";f.style.top="0px";f.style.left="0px";f.style.width="100px";f.style.height=
"100px";f.style.overflow="hidden";f.style.lineHeight="16px";f.style.fontSize="16px";t(f,"writing-mode","vertical-rl");b.appendChild(f);g=h.createTextNode("a a a a a a a a a a a a a a a a");f.appendChild(g);h=h.createRange();h.setStart(g,0);h.setEnd(g,1);Ta=50>h.getBoundingClientRect().left;b.removeChild(f)}b=Ta}if(b){b=d.ownerDocument.createRange();b.setStart(d,0);b.setEnd(d,d.textContent.length);d=Gj(b);b=[];for(f=0;f<a.length;f++){g=a[f];for(h=0;h<d.length;h++){var k=d[h];if(g.top>=k.top&&g.bottom<=
k.bottom&&1>Math.abs(g.right-k.right)){b.push({top:g.top,left:k.left,bottom:k.bottom,right:k.right});break}}h==d.length&&(w("Could not fix character box"),b.push(g))}a=b}for(b=d=0;b<a.length;b++)f=a[b],g=c?f.bottom-f.top:f.right-f.left,f.right>f.left&&f.bottom>f.top&&(isNaN(e)||g>d)&&(e=c?f.left:f.bottom,d=g);return e}function Hj(a,b){this.b=a;this.f=b}Hj.prototype.e=function(a,b){return b<this.f?null:Ij(a,this,0<b)};Hj.prototype.d=function(){return this.f};
function Jj(a,b,c,d){this.b=a;this.g=b;this.h=c;this.f=d}Jj.prototype.e=function(a,b){var c;b<this.d()?c=null:(a.e=this.f,c=this.b);return c};Jj.prototype.d=function(){return("avoid"==this.g?1:0)+(this.h?3:0)+(this.b.parent?this.b.parent.g:0)};function Kj(a,b,c){this.U=a;this.d=b;this.b=c}
function Lj(a){for(var b=1;b<a.length;b++){var c=a[b-1],d=a[b];c===d?w("validateCheckPoints: duplicate entry"):c.U>=d.U?w("validateCheckPoints: incorrect boxOffset"):c.O==d.O&&(d.F?c.F&&w("validateCheckPoints: duplicate after points"):c.F?w("validateCheckPoints: inconsistent after point"):d.U-c.U!=d.V-c.V&&w("validateCheckPoints: boxOffset inconsistent with offsetInNode"))}}
function Mj(a,b,c){cj.call(this,a);this.ic=a.lastChild;this.h=b;this.Nb=c;this.Jc=a.ownerDocument;this.Ob=!1;this.Aa=this.Qa=this.ya=0;this.Pb=this.rb=this.l=this.f=null;this.jc=!1;this.M=this.g=this.u=null;this.zc=!0;this.Rb=this.Qb=0}r(Mj,cj);Mj.prototype.clone=function(){var a=new Mj(this.b,this.h,this.Nb);hj(a,this);a.ic=this.ic;a.Ob=this.Ob;a.l=this.l?this.l.clone():null;a.rb=this.rb.concat();return a};function Nj(a,b){return a.d?b<a.Aa:b>a.Aa}
function Oj(a,b,c){var d=new Ui(b.ka,c,0);d.ra=b.ra;d.Z=b.Z;d.fa=b.fa;d.ca=b.ca?Oj(a,b.ca,Xi(c)):null;return d}function Pj(a,b){var c=L("openAllViews"),d=b.da;Qj(a.h,a.b,a.Ob);var e=d.length-1,f=null;Le(function(){for(;0<=e;){f=Oj(a,d[e],f);if(0==e&&(f.V=b.V,f.F=b.F,f.F))break;var c=Rj(a.h,f,0==e&&0==f.V);e--;if(c.ha())return c}return M(!1)}).then(function(){O(c,f)});return N(c)}var Tj=/^[^A-Za-z0-9_\u009E\u009F\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02AF\u037B-\u037D\u0386\u0388-\u0482\u048A-\u0527]*([A-Za-z0-9_\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02AF\u037B-\u037D\u0386\u0388-\u0482\u048A-\u0527][^A-Za-z0-9_\u009E\u009F\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02AF\u037B-\u037D\u0386\u0388-\u0482\u048A-\u0527]*)?/;
function Uj(a,b){if(b.e&&b.d&&!b.F&&0==b.e.count&&1!=b.b.nodeType){var c=b.b.textContent.match(Tj);return Vj(a.h,b,c[0].length)}return M(b)}function Wj(a,b,c){var d=L("buildViewToNextBlockEdge");Me(function(d){b.b&&c.push(Xi(b));Uj(a,b).then(function(f){f!==b&&(b=f,c.push(Xi(b)));Xj(a.h,b).then(function(c){(b=c)?b.h&&!a.d?Yj(a,b).then(function(a){b=a;!b||b.overflow?P(d):Oe(d)}):b.d?Oe(d):P(d):P(d)})})}).then(function(){O(d,b)});return N(d)}
function Zj(a,b){if(!b.b)return M(b);var c=b.O,d=L("buildDeepElementView");Me(function(d){Uj(a,b).then(function(f){if(f!==b){for(var g=f;g&&g.O!=c;)g=g.parent;if(null==g){b=f;P(d);return}}Xj(a.h,f).then(function(a){(b=a)&&b.O!=c?Oe(d):P(d)})})}).then(function(){O(d,b)});return N(d)}function ak(a,b,c,d,e){var f=a.Jc.createElement("div");a.d?(t(f,"height",d+"px"),t(f,"width",e+"px")):(t(f,"width",d+"px"),t(f,"height",e+"px"));t(f,"float",c);t(f,"clear",c);a.b.insertBefore(f,b);return f}
function bk(a){for(var b=a.b.firstChild;b;){var c=b.nextSibling;if(1==b.nodeType){var d=b.style.cssFloat;if("left"==d||"right"==d)a.b.removeChild(b);else break}b=c}}function ck(a){for(var b=a.b.firstChild,c=a.Pb,d=a.d?a.f.Q:a.f.R,e=a.d?a.f.K:a.f.P,f=0;f<c.length;f++){var g=c[f],h=g.K-g.Q;g.left=ak(a,b,"left",g.R-d,h);g.right=ak(a,b,"right",e-g.P,h)}}
function dk(a,b,c,d,e){var f;if(b&&b.F&&!b.d&&(f=Fj(b,0,a.d),!isNaN(f)))return f;b=c[d];for(e-=b.U;;){f=Fj(b,e,a.d);if(!isNaN(f))return f;if(0<e)e--;else{d--;if(0>d)return a.ya;b=c[d];1!=b.b.nodeType&&(e=b.b.textContent.length)}}}function ek(a){return"number"==typeof a?a:(a=a.match(/^(-?[0-9]*(\.[0-9]*)?)px$/))?parseFloat(a[0]):0}
function fk(a,b){var c=a.Nb.b.getComputedStyle(b,null),d=new Qd;c&&(d.left=ek(c.marginLeft),d.top=ek(c.marginTop),d.right=ek(c.marginRight),d.bottom=ek(c.marginBottom));return d}
function gk(a,b,c){if(a=a.Nb.b.getComputedStyle(b,null))c.marginLeft=ek(a.marginLeft),c.T=ek(a.borderLeftWidth),c.j=ek(a.paddingLeft),c.marginTop=ek(a.marginTop),c.X=ek(a.borderTopWidth),c.k=ek(a.paddingTop),c.marginRight=ek(a.marginRight),c.$a=ek(a.borderRightWidth),c.la=ek(a.paddingRight),c.marginBottom=ek(a.marginBottom),c.Za=ek(a.borderBottomWidth),c.H=ek(a.paddingBottom)}function hk(a,b,c){b=new Kj(b,c,c);a.g?a.g.push(b):a.g=[b]}
function ik(a,b,c,d){if(a.g&&a.g[a.g.length-1].b)return hk(a,b,c),M(!0);d+=40*(a.d?-1:1);var e=a.l,f=!e;if(f){var g=a.b.ownerDocument.createElement("div");t(g,"position","absolute");var h=a.h.clone(),e=new Mj(g,h,a.Nb);a.l=e;e.d=jk(a.h,a.d,g);e.Ob=!0;a.d?(e.left=0,t(e.b,"width","2em")):(e.top=a.Qa,t(e.b,"height","2em"))}a.b.appendChild(e.b);gk(a,e.b,e);g=(a.d?-1:1)*(d-a.ya);a.d?e.height=a.f.K-a.f.Q-dj(e)-ej(e):e.width=a.f.P-a.f.R-fj(e)-gj(e);d=(a.d?-1:1)*(a.Qa-d)-(a.d?fj(e)-gj(e):dj(e)+ej(e));if(f&&
18>d)return a.b.removeChild(e.b),a.l=null,hk(a,b,c),M(!0);if(!a.d&&e.top<g)return a.b.removeChild(e.b),hk(a,b,c),M(!0);var k=L("layoutFootnoteInner");a.d?jj(e,0,d):ij(e,g,d);e.A=a.A+a.left+fj(a);e.C=a.C+a.top+dj(a);e.w=a.w;var l=new Zi(c);f?(kk(e),f=M(!0)):0==e.w.length?(lk(e),f=M(!0)):f=mk(e);f.then(function(){nk(e,l).then(function(d){a.d?(a.Aa=a.Qa+(e.e+fj(e)+gj(e)),jj(e,0,e.e)):(a.Aa=a.Qa-(e.e+dj(e)+ej(e)),ij(e,a.Aa-a.ya,e.e));var f;!a.d&&0<e.w.length?f=mk(e):f=M(d);f.then(function(d){d=new Kj(b,
c,d?d.va:null);a.g?a.g.push(d):a.g=[d];O(k,!0)})})});return N(k)}
function ok(a,b){var c=L("layoutFootnote"),d=b.b;d.setAttribute("style","");t(d,"display","inline-block");d.textContent="M";var e=d.getBoundingClientRect(),f=a.d?e.left:e.bottom;d.textContent="";pk(a.h,b,"footnote-call",d);d.textContent||d.parentNode.removeChild(d);d={da:[{ka:b.O,ra:0,Z:b.Z,fa:null,ca:null}],V:0,F:!1};e=b.U;b=b.modify();b.F=!0;ik(a,e,d,f).then(function(){a.l&&a.l.b.parentNode&&a.b.removeChild(a.l.b);Nj(a,f)&&0!=a.u.length&&(b.overflow=!0);O(c,b)});return N(c)}
function qk(a,b){var c=L("layoutFloat"),d=b.b,e=b.h;t(d,"float","none");t(d,"position","absolute");t(d,"left","auto");t(d,"right","auto");t(d,"top","auto");Zj(a,b).then(function(f){for(var g=d.getBoundingClientRect(),h=fk(a,d),g=new Od(g.left-h.left,g.top-h.top,g.right+h.right,g.bottom+h.bottom),h=a.d?a.f.Q:a.f.R,k=a.d?a.f.K:a.f.P,l=b.parent;l&&l.d;)l=l.parent;if(l){var n=l.b.ownerDocument.createElement("div");n.style.left="0px";n.style.top="0px";a.d?(n.style.bottom="0px",n.style.width="1px"):(n.style.right=
"0px",n.style.height="1px");l.b.appendChild(n);var p=n.getBoundingClientRect(),h=Math.max(a.d?p.top:p.left,h),k=Math.min(a.d?p.bottom:p.right,k);l.b.removeChild(n);l=a.d?g.K-g.Q:g.P-g.R;"left"==e?k=Math.max(k,h+l):h=Math.min(h,k-l)}k=new Od(h,(a.d?-1:1)*a.f.Q,k,(a.d?-1:1)*a.f.K);h=g;a.d&&(h=fe(g));a:for(var l=a.Pb,n=h,p=n.Q,q=n.P-n.R,u=n.K-n.Q,v=je(l,p);;){var H=p+u;if(H>k.K)break a;for(var V=k.R,K=k.P,B=v;B<l.length&&l[B].Q<H;B++){var wa=l[B];wa.R>V&&(V=wa.R);wa.P<K&&(K=wa.P)}if(V+q<=K||v>=l.length){"left"==
e?(n.R=V,n.P=V+q):(n.R=K-q,n.P=K);n.K+=p-n.Q;n.Q=p;break a}p=l[v].K;v++}a.d&&(g=new Od(-h.K,h.R,-h.Q,h.P));t(d,"left",g.R-a.f.R+a.j+"px");t(d,"top",g.Q-a.f.Q+a.k+"px");g=a.d?g.R:g.K;if(Nj(a,g)&&0!=a.u.length)b=b.modify(),b.overflow=!0,O(c,b);else{bk(a);k=a.d?fe(a.f):a.f;l=a.Pb;n=null;for(n=[new Sd(h.Q,h.K,h.R,h.P)];0<n.length&&n[0].K<=k.Q;)n.shift();if(0!=n.length){n[0].Q<k.Q&&(n[0].Q=k.Q);h=0==l.length?k.Q:l[l.length-1].K;h<k.K&&l.push(new Sd(h,k.K,k.R,k.P));p=je(l,n[0].Q);for(q=0;q<n.length;q++){u=
n[q];if(p==l.length)break;l[p].Q<u.Q&&(h=l[p],p++,l.splice(p,0,new Sd(u.Q,h.K,h.R,h.P)),h.K=u.Q);for(;p<l.length&&(h=l[p++],h.K>u.K&&(l.splice(p,0,new Sd(u.K,h.K,h.R,h.P)),h.K=u.K),u.R!=u.P&&("left"==e?h.R=u.P:h.P=u.R),h.K!=u.K););}ie(k,l)}ck(a);"left"==e?a.Qb=g:a.Rb=g;rk(a,g);O(c,f)}});return N(c)}
function sk(a,b){for(var c=a.b,d="";c&&b&&!d&&(1!=c.nodeType||(d=c.style.textAlign,b));c=c.parentNode);if(!b||"justify"==d){var c=a.b,e=c.ownerDocument,d=e.createElement("span");d.style.visibility="hidden";d.textContent=" ########################";d.setAttribute("data-adapt-spec","1");var f=b&&(a.F||1!=c.nodeType)?c.nextSibling:c;if(c=c.parentNode)c.insertBefore(d,f),b||(e=e.createElement("div"),c.insertBefore(e,f),d.style.lineHeight="80px",e.style.marginTop="-80px",e.style.height="0px",e.setAttribute("data-adapt-spec",
"1"))}}function tk(a,b,c,d){var e=L("processLineStyling");Lj(d);var f=d.concat([]);d.splice(0,d.length);var g=0,h=b.e;0==h.count&&(h=h.Sc);Me(function(d){if(h){var e=uk(a,f),n=h.count-g;if(e.length<=n)P(d);else{var p=vk(a,f,e[n-1]);wk(a,p,!1,!1).then(function(){g+=n;Vj(a.h,p,0).then(function(e){b=e;sk(b,!1);h=b.e;f=[];Wj(a,b,f).then(function(a){c=a;Oe(d)})})})}}else P(d)}).then(function(){Array.prototype.push.apply(d,f);Lj(d);O(e,c)});return N(e)}
function xk(a,b){for(var c=0,d=0,e=b.length-1;0<=e;e--){var f=b[e];if(!f.F||!f.b||1!=f.b.nodeType)break;f=fk(a,f.b);f=a.d?-f.left:f.bottom;0<f?c=Math.max(c,f):d=Math.min(d,f)}return c-d}
function yk(a,b){var c=L("layoutBreakableBlock"),d=[];Wj(a,b,d).then(function(e){var f=d.length-1;if(0>f)O(c,e);else{var f=dk(a,e,d,f,d[f].U),g=Nj(a,f);null==e&&(f+=xk(a,d));rk(a,f);var h;b.e?h=tk(a,b,e,d):h=M(e);h.then(function(b){0<d.length&&(a.u.push(new Hj(d,d[0].g)),g&&(2!=d.length&&0<a.u.length||d[0].O!=d[1].O||!Ej[d[0].O.localName])&&b&&(b=b.modify(),b.overflow=!0));O(c,b)})}});return N(c)}
function vk(a,b,c){Lj(b);for(var d=0,e=b[0].U,f=d,g=b.length-1,h=b[g].U,k;e<h;){k=e+Math.ceil((h-e)/2);for(var f=d,l=g;f<l;){var n=f+Math.ceil((l-f)/2);b[n].U>k?l=n-1:f=n}l=dk(a,null,b,f,k);if(a.d?l<c:l>c){for(h=k-1;b[f].U==k;)f--;g=f}else rk(a,l),e=k,d=f}a=b[f];b=a.b;1!=b.nodeType&&(a.F?a.V=b.length:(e-=a.U,c=b.data,173==c.charCodeAt(e)?(b.replaceData(e,c.length-e,"-"),e++):(d=c.charAt(e),e++,f=c.charAt(e),b.replaceData(e,c.length-e,Fa(d)&&Fa(f)?"-":"")),0<e&&(a=a.modify(),a.V+=e,a.l=null)));return a}
function uk(a,b){for(var c=[],d=b[0].b,e=b[b.length-1].b,f=[],g=d.ownerDocument.createRange(),h=!1,k=null,l=!1,n=!0;n;){var p=!0;do{var q=null;d==e&&(n=!1);1!=d.nodeType?(l||(g.setStartBefore(d),l=!0),k=d):h?h=!1:d.getAttribute("data-adapt-spec")?p=!l:q=d.firstChild;q||(q=d.nextSibling,q||(h=!0,q=d.parentNode));d=q}while(p&&n);if(l){g.setEndAfter(k);l=Gj(g);for(p=0;p<l.length;p++)f.push(l[p]);l=!1}}f.sort(a.d?Ri:Qi);k=d=h=g=e=0;for(n=a.d?-1:1;;){if(k<f.length&&(l=f[k],p=1,0<d&&(p=Math.max(a.d?l.right-
l.left:l.bottom-l.top,1),p=n*(a.d?l.right:l.top)<n*e?n*((a.d?l.left:l.bottom)-e)/p:n*(a.d?l.left:l.bottom)>n*g?n*(g-(a.d?l.right:l.top))/p:1),0==d||.6<=p||.2<=p&&(a.d?l.top:l.left)>=h-1)){h=a.d?l.bottom:l.right;a.d?(e=0==d?l.right:Math.max(e,l.right),g=0==d?l.left:Math.min(g,l.left)):(e=0==d?l.top:Math.min(e,l.top),g=0==d?l.bottom:Math.max(g,l.bottom));d++;k++;continue}0<d&&(c.push(g),d=0);if(k>=f.length)break}c.sort(Ja);a.d&&c.reverse();return c}
function zk(a,b){if(!a.g)return M(!0);for(var c=!1,d=a.g.length-1;0<=d;--d){var e=a.g[d];if(e.U<=b)break;a.g.pop();e.b!==e.d&&(c=!0)}if(!c)return M(!0);var f=L("clearFootnotes"),g=a.e+a.ya,h=a.g;a.l=null;a.g=null;var k=0;Le(function(){for(;k<h.length;){var b=h[k++],b=ik(a,b.U,b.d,g);if(b.ha())return b}return M(!1)}).then(function(){O(f,!0)});return N(f)}
function Ij(a,b,c){var d=b.b,e;if(c)e=c=1;else{for(e=d[0];e.parent&&e.d;)e=e.parent;c=Math.max((e.k.widows||1)-0,1);e=Math.max((e.k.orphans||1)-0,1)}var f=uk(a,d),g=a.Aa,d=Ia(f.length,function(b){return a.d?f[b]<g:f[b]>g}),d=Math.min(f.length-c,d);if(d<e)return null;g=f[d-1];if(b=vk(a,b.b,g))a.e=(a.d?-1:1)*(g-a.ya);return b}
function wk(a,b,c,d){var e=b;c=c||null!=b.b&&1==b.b.nodeType&&!b.F;do{var f=e.b.parentNode;if(!f)break;var g=f,h=e.b;if(g)for(var k=void 0;(k=g.lastChild)!=h;)g.removeChild(k);c&&(f.removeChild(e.b),c=!1);e=e.parent}while(e);d&&sk(b,!0);return zk(a,b.U)}
function Ak(a,b,c){var d=L("findAcceptableBreak"),e=null,f=0,g=0;do for(var f=g,g=Number.MAX_VALUE,h=a.u.length-1;0<=h&&!e;--h){var e=a.u[h].e(a,f),k=a.u[h].d();k>f&&(g=Math.min(g,k))}while(g>f&&!e);var l=!1;if(!e){w("Could not find any page breaks?!!");if(a.zc)return Bk(a,b).then(function(b){b?(b=b.modify(),b.overflow=!1,wk(a,b,l,!0).then(function(){O(d,b)})):O(d,b)}),N(d);e=c;l=!0}wk(a,e,l,!0).then(function(){O(d,e)});return N(d)}
function Ck(a){a=a.toString();return""==a||"auto"==a||!!a.match(/^0+(.0*)?[^0-9]/)}function Dk(a,b,c,d,e){if(!b)return!1;var f=Fj(b,0,a.d),g=Nj(a,f);c&&(f+=xk(a,c));rk(a,f);if(d||!g)b=new Jj(Xi(b),e,g,a.e),a.u.push(b);return g}
function Ek(a,b){if(b.b.parentNode){var c=fk(a,b.b),d=b.b.ownerDocument.createElement("div");a.d?(d.style.bottom="0px",d.style.width="1px",d.style.marginRight=c.right+"px"):(d.style.right="0px",d.style.height="1px",d.style.marginTop=c.top+"px");b.b.parentNode.insertBefore(d,b.b);var e=d.getBoundingClientRect(),e=a.d?e.right:e.top,f=a.d?-1:1,g;switch(b.u){case "left":g=a.Qb;break;case "right":g=a.Rb;break;default:g=f*Math.max(a.Rb*f,a.Qb*f)}e*f>=g*f?b.b.parentNode.removeChild(d):(e=Math.max(1,(g-e)*
f),a.d?d.style.width=e+"px":d.style.height=e+"px",e=d.getBoundingClientRect(),e=a.d?e.left:e.bottom,a.d?(g=e+c.right-g,0<g==0<=c.right&&(g+=c.right),d.style.marginLeft=g+"px"):(g-=e+c.top,0<g==0<=c.top&&(g+=c.top),d.style.marginBottom=g+"px"))}}
function Fk(a,b,c){var d=L("skipEdges"),e=c?"avoid":null,f=null,g=[];Me(function(c){for(;b;){do if(b.b){if(b.d&&1!=b.b.nodeType){if(Ni(b.b,b.w))break;if(!b.F){Dk(a,f,null,!0,e)?(b=(f||b).modify(),b.overflow=!0):(b=b.modify(),b.l=e);P(c);return}}if(!b.F&&(b.u&&Ek(a,b),b.h)){Dk(a,f,null,!0,e)&&(b=(f||b).modify(),b.overflow=!0);P(c);return}if(1==b.b.nodeType){var d=b.b.style;if(b.F){if(f=Xi(b),g.push(f),e=Dj(b.A,e),d&&(!Ck(d.paddingBottom)||!Ck(d.borderBottomWidth))){if(Dk(a,f,null,!0,e)){b=(f||b).modify();
b.overflow=!0;P(c);return}g=[f];f=e=null}}else{if((e=Dj(b.l,e))&&"avoid"!=e&&"auto"!=e){P(c);a.M=e;return}if(Ej[b.b.localName]){Dk(a,f,null,!0,e)&&(b=(f||b).modify(),b.overflow=!0);P(c);return}if(d&&(!Ck(d.paddingTop)||!Ck(d.borderTopWidth))){if(Dk(a,f,null,!0,e)){b=(f||b).modify();b.overflow=!0;P(c);return}f=e=null;g=[]}}}}while(0);d=Xj(a.h,b);if(d.ha()){d.then(function(a){b=a;Oe(c)});return}b=d.wb()}0!=a.u.length&&Dk(a,f,g,!1,e)&&f&&(b=f.modify(),b.overflow=!0);P(c)}).then(function(){O(d,b)});return N(d)}
function Bk(a,b){var c=b,d=L("skipEdges"),e=null;Me(function(d){for(;b;){do if(b.b){if(b.d&&1!=b.b.nodeType){if(Ni(b.b,b.w))break;if(!b.F){P(d);return}}if(!b.F&&b.h){P(d);return}if(1==b.b.nodeType){var g=b.b.style;if(b.F)e=Dj(b.A,e);else{if((e=Dj(b.l,e))&&"avoid"!=e&&"auto"!=e){P(d);a.M=e;return}if(Ej[b.b.localName]){P(d);return}if(g&&(!Ck(g.paddingTop)||!Ck(g.borderTopWidth))){P(d);return}}}}while(0);g=Xj(a.h,b);if(g.ha()){g.then(function(a){b=a;Oe(d)});return}b=g.wb()}c=null;P(d)}).then(function(){O(d,
c)});return N(d)}function Yj(a,b){return"footnote"==b.h?ok(a,b):qk(a,b)}function Gk(a,b,c){var d=L("layoutNext");Fk(a,b,c).then(function(c){b=c;if(!b||a.M||b.overflow)O(d,b);else if(b.h)Yj(a,b).ea(d);else{a:{if(!b.F)switch(b.O.namespaceURI){case "http://www.w3.org/2000/svg":c=!1;break a}c=!0}c?yk(a,b).ea(d):Zj(a,b).ea(d)}});return N(d)}
function lk(a){var b=a.b.ownerDocument.createElement("div");b.style.position="absolute";b.style.top="0px";b.style.bottom="0px";b.style.width="100%";b.style.height="100%";a.b.appendChild(b);var c=b.getBoundingClientRect();a.b.removeChild(b);var b=a.A+a.left+fj(a),d=a.C+a.top+dj(a);a.f=new Od(b,d,b+a.width,d+a.height);a.ya=c?a.d?c.right:c.top:0;a.Qa=c?a.d?c.left:c.bottom:0;a.Qb=a.ya;a.Rb=a.ya;a.Aa=a.Qa;c=a.f;b=a.A+a.left+fj(a);d=a.C+a.top+dj(a);b=a.sb?Wd(a.sb,b,d):Yd(b,d,b+a.width,d+a.height);a.Pb=
he(c,[b],a.w,a.ab,a.d);ck(a);a.g=null}function kk(a){a.rb=[];t(a.b,"width",a.width+"px");t(a.b,"height",a.height+"px");lk(a);a.e=0;a.jc=!1;a.M=null}function rk(a,b){a.e=Math.max((a.d?-1:1)*(b-a.ya),a.e)}function Hk(a,b){var c=b.b;if(!c)return M(!0);var d=L("layoutOverflownFootnotes"),e=0;Le(function(){for(;e<c.length;){var b=c[e++],b=ik(a,0,b,a.ya);if(b.ha())return b}return M(!1)}).then(function(){O(d,!0)});return N(d)}
function nk(a,b){a.rb.push(b);if(a.jc)return M(b);var c=L("layout");Hk(a,b).then(function(){Pj(a,b.va).then(function(b){var e=b,f=!0;a.u=[];Me(function(c){for(;b;){var h=!0;Gk(a,b,f).then(function(k){f=!1;b=k;a.M?P(c):b&&b.overflow?Ak(a,b,e).then(function(a){b=a;P(c)}):h?h=!1:Oe(c)});if(h){h=!1;return}}P(c)}).then(function(){var e=a.l;e&&(a.b.appendChild(e.b),a.d?a.e=this.ya-this.Qa:a.e=e.top+dj(e)+e.e+ej(e));if(b){a.jc=!0;var f=e=b,k=[];do f.e&&f.parent&&f.parent.e!==f.e||k.push(Yi(f)),f=f.parent;
while(f);e=new Zi({da:k,V:e.V,F:e.F});if(a.g){f=[];for(k=0;k<a.g.length;k++){var l=a.g[k].b;l&&f.push(l)}e.b=f.length?f:null}O(c,e)}else O(c,null)})})});return N(c)}function mk(a){for(var b=a.rb;a.b.lastChild!=a.ic;)a.b.removeChild(a.b.lastChild);bk(a);kk(a);var c=L("redoLayout"),d=0,e=null;Me(function(c){if(d<b.length){var g=b[d++];nk(a,g).then(function(a){a?(e=a,P(c)):Oe(c)})}else P(c)}).then(function(){O(c,e)});return N(c)};var Ik=1;function Jk(a,b,c,d,e){this.d={};this.children=[];this.e=null;this.g=0;this.b=a;this.name=b;this.l=c;this.oa=d;this.parent=e;this.h="p"+Ik++;e&&(this.g=e.children.length,e.children.push(this))}Jk.prototype.f=function(){throw Error("E_UNEXPECTED_CALL");};function Kk(a){Jk.call(this,a,null,null,[],null);this.d.width=new X(Kd,0);this.d.height=new X(Ld,0)}r(Kk,Jk);
function Lk(a,b){return new Wb(a,function(a,d){var e=a.match(/^([^.]+)\.([^.]+)$/);if(e){var f=b.j[e[1]];if(f&&(f=this.H[f])){if(d){var e=e[2],g=f.T[e];if(g)f=g;else{switch(e){case "columns":var g=f.d.b,h=new Lc(g,0),k=Mk(f,"column-count"),l=Mk(f,"column-width"),n=Mk(f,"column-gap"),g=F(g,Nc(g,new Ic(g,"min",[h,k]),E(g,l,n)),n)}g&&(f.T[e]=g);f=g}}else f=Mk(f,e[2]);return f}}return null})}
function Nk(a,b,c,d,e,f,g){Jk.call(this,Lk(a,this),b,c,d,e);this.e=this;this.D=f;this.k=g;this.d.width=new X(Kd,0);this.d.height=new X(Ld,0);this.d["wrap-flow"]=new X(jd,0);this.j={}}r(Nk,Jk);Nk.prototype.f=function(a){return new Ok(a,this)};function Pk(a,b,c,d,e){Jk.call(this,a,b,c,d,e);this.e=e.e;b&&(this.e.j[b]=this.h);this.d["wrap-flow"]=new X(jd,0)}r(Pk,Jk);Pk.prototype.f=function(a){return new Qk(a,this)};function Rk(a,b,c,d,e){Jk.call(this,a,b,c,d,e);this.e=e.e;b&&(this.e.j[b]=this.h)}
r(Rk,Jk);Rk.prototype.f=function(a){return new Sk(a,this)};function Y(a,b,c){return b&&b!==jd?b.ba(a,c):null}function Tk(a,b,c){return b&&b!==jd?b.ba(a,c):a.b}function Uk(a,b,c,d){return b&&c!==vd?b.ba(a,d):a.b}function Vk(a,b,c){return b?b===Id?a.f:b===od?a.e:b.ba(a,a.b):c}function Wk(a,b){this.e=a;this.d=b;this.H={};this.style={};this.h=this.j=null;this.children=[];this.w=this.A=this.f=this.g=!1;this.qb=this.l=0;this.k=null;this.X={};this.T={};this.b=!1;a&&a.children.push(this)}
function Xk(a,b,c){b=Mk(a,b);c=Mk(a,c);if(!b||!c)throw Error("E_INTERNAL");return E(a.d.b,b,c)}
function Mk(a,b){var c=a.X[b];if(c)return c;var d=a.style[b];d&&(c=d.ba(a.d.b,a.d.b.b));switch(b){case "margin-left-edge":c=Mk(a,"left");break;case "margin-top-edge":c=Mk(a,"top");break;case "margin-right-edge":c=Xk(a,"border-right-edge","margin-right");break;case "margin-bottom-edge":c=Xk(a,"border-bottom-edge","margin-bottom");break;case "border-left-edge":c=Xk(a,"margin-left-edge","margin-left");break;case "border-top-edge":c=Xk(a,"margin-top-edge","margin-top");break;case "border-right-edge":c=
Xk(a,"padding-right-edge","border-right-width");break;case "border-bottom-edge":c=Xk(a,"padding-bottom-edge","border-bottom-width");break;case "padding-left-edge":c=Xk(a,"border-left-edge","border-left-width");break;case "padding-top-edge":c=Xk(a,"border-top-edge","border-top-width");break;case "padding-right-edge":c=Xk(a,"right-edge","padding-right");break;case "padding-bottom-edge":c=Xk(a,"bottom-edge","padding-bottom");break;case "left-edge":c=Xk(a,"padding-left-edge","padding-left");break;case "top-edge":c=
Xk(a,"padding-top-edge","padding-top");break;case "right-edge":c=Xk(a,"left-edge","width");break;case "bottom-edge":c=Xk(a,"top-edge","height")}if(!c){if("extent"==b)d=a.b?"width":"height";else if("measure"==b)d=a.b?"height":"width";else{var e=a.b?Mg:Ng,d=b,f;for(f in e)d=d.replace(f,e[f])}d!=b&&(c=Mk(a,d))}c&&(a.X[b]=c);return c}
function Yk(a){var b=a.d.b,c=a.style,d=Vk(b,c.enabled,b.f),e=Y(b,c.page,b.b);if(e)var f=new Gc(b,"page-number"),d=Mc(b,d,new zc(b,e,f));(e=Y(b,c["min-page-width"],b.b))&&(d=Mc(b,d,new yc(b,new Gc(b,"page-width"),e)));(e=Y(b,c["min-page-height"],b.b))&&(d=Mc(b,d,new yc(b,new Gc(b,"page-height"),e)));d=a.C(d);c.enabled=new J(d)}Wk.prototype.C=function(a){return a};
function Zk(a){var b=a.d.b,c=a.style,d=a.e?a.e.style.width.ba(b,null):null,e=Y(b,c.left,d),f=Y(b,c["margin-left"],d),g=Uk(b,c["border-left-width"],c["border-left-style"],d),h=Tk(b,c["padding-left"],d),k=Y(b,c.width,d),l=Y(b,c["max-width"],d),n=Tk(b,c["padding-right"],d),p=Uk(b,c["border-right-width"],c["border-right-style"],d),q=Y(b,c["margin-right"],d),u=Y(b,c.right,d),v=E(b,g,h),H=E(b,g,n);e&&u&&k?(v=F(b,d,E(b,k,E(b,E(b,e,v),H))),f?q?u=F(b,v,q):q=F(b,v,E(b,u,f)):(v=F(b,v,u),q?f=F(b,v,q):q=f=Nc(b,
v,new Xb(b,.5)))):(f||(f=b.b),q||(q=b.b),e||u||k||(e=b.b),e||k?e||u?k||u||(k=a.j,a.g=!0):e=b.b:(k=a.j,a.g=!0),v=F(b,d,E(b,E(b,f,v),E(b,q,H))),a.g&&(l||(l=F(b,v,e?e:u)),a.b||!Y(b,c["column-width"],null)&&!Y(b,c["column-count"],null)||(k=l,a.g=!1)),e?k?u||(u=F(b,v,E(b,e,k))):k=F(b,v,E(b,e,u)):e=F(b,v,E(b,u,k)));a=Tk(b,c["snap-width"]||(a.e?a.e.style["snap-width"]:null),d);c.left=new J(e);c["margin-left"]=new J(f);c["border-left-width"]=new J(g);c["padding-left"]=new J(h);c.width=new J(k);c["max-width"]=
new J(l?l:k);c["padding-right"]=new J(n);c["border-right-width"]=new J(p);c["margin-right"]=new J(q);c.right=new J(u);c["snap-width"]=new J(a)}
function $k(a){var b=a.d.b,c=a.style,d=a.e?a.e.style.width.ba(b,null):null,e=a.e?a.e.style.height.ba(b,null):null,f=Y(b,c.top,e),g=Y(b,c["margin-top"],d),h=Uk(b,c["border-top-width"],c["border-top-style"],d),k=Tk(b,c["padding-top"],d),l=Y(b,c.height,e),n=Y(b,c["max-height"],e),p=Tk(b,c["padding-bottom"],d),q=Uk(b,c["border-bottom-width"],c["border-bottom-style"],d),u=Y(b,c["margin-bottom"],d),v=Y(b,c.bottom,e),H=E(b,h,k),V=E(b,q,p);f&&v&&l?(e=F(b,e,E(b,l,E(b,E(b,f,H),V))),g?u?v=F(b,e,g):u=F(b,e,E(b,
v,g)):(e=F(b,e,v),u?g=F(b,e,u):u=g=Nc(b,e,new Xb(b,.5)))):(g||(g=b.b),u||(u=b.b),f||v||l||(f=b.b),f||l?f||v?l||v||(l=a.h,a.f=!0):f=b.b:(l=a.h,a.f=!0),e=F(b,e,E(b,E(b,g,H),E(b,u,V))),a.f&&(n||(n=F(b,e,f?f:v)),a.b&&(Y(b,c["column-width"],null)||Y(b,c["column-count"],null))&&(l=n,a.f=!1)),f?l?v||(v=F(b,e,E(b,f,l))):l=F(b,e,E(b,v,f)):f=F(b,e,E(b,v,l)));a=Tk(b,c["snap-height"]||(a.e?a.e.style["snap-height"]:null),d);c.top=new J(f);c["margin-top"]=new J(g);c["border-top-width"]=new J(h);c["padding-top"]=
new J(k);c.height=new J(l);c["max-height"]=new J(n?n:l);c["padding-bottom"]=new J(p);c["border-bottom-width"]=new J(q);c["margin-bottom"]=new J(u);c.bottom=new J(v);c["snap-height"]=new J(a)}
function al(a){var b=a.d.b,c=a.style;a=Y(b,c[a.b?"height":"width"],null);var d=Y(b,c["column-width"],a),e=Y(b,c["column-count"],null),f;(f=(f=c["column-gap"])&&f!==wd?f.ba(b,null):null)||(f=new Yb(b,1,"em"));d&&!e&&(e=new Ic(b,"floor",[Oc(b,E(b,a,f),E(b,d,f))]),e=new Ic(b,"max",[b.d,e]));e||(e=b.d);d=F(b,Oc(b,E(b,a,f),e),f);c["column-width"]=new J(d);c["column-count"]=new J(e);c["column-gap"]=new J(f)}function bl(a,b,c,d){a=a.style[b].ba(a.d.b,null);return jc(a,c,d,{})}
function cl(a,b){b.H[a.d.h]=a;var c=a.d.b,d=a.style,e=a.e?dl(a.e,b):null,e=bi(a.H,b,e,!1);a.b=ai(e,b,a.e?a.e.b:!1);var f=a.b?Mg:Ng,g;for(g in e){var h=e[g],k=f[g];if(k){var l=e[k];if(l&&l.b>h.b)continue;k=Hg[k]?k:g}else k=g;d[k]=h.value}a.j=new $b(c,function(){return a.l},"autoWidth");a.h=new $b(c,function(){return a.qb},"autoHeight");Zk(a);$k(a);al(a);Yk(a)}function el(a,b,c){(a=a.style[c])&&(a=Ff(b,a,c));return a}function Z(a,b,c){(a=a.style[c])&&(a=Ff(b,a,c));return gd(a,b)}
function dl(a,b){var c;a:{if(c=a.H["region-id"]){for(var d=[],e=0;e<c.length;e++){var f=c[e].evaluate(b,"");f&&f!==G&&d.push(f)}if(d.length){c=d;break a}}c=null}if(c){d=[];for(e=0;e<c.length;e++)d[e]=c[e].toString();return d}return null}function fl(a,b,c,d){(a=el(a,b,d))&&t(c.b,d,a.toString())}
function gl(a,b,c){var d=Z(a,b,"left"),e=Z(a,b,"margin-left"),f=Z(a,b,"padding-left"),g=Z(a,b,"border-left-width");a=Z(a,b,"width");jj(c,d,a);t(c.b,"margin-left",e+"px");t(c.b,"padding-left",f+"px");t(c.b,"border-left-width",g+"px");c.marginLeft=e;c.T=g;c.j=f}
function hl(a,b,c){var d=Z(a,b,"right"),e=Z(a,b,"snap-height"),f=Z(a,b,"margin-right"),g=Z(a,b,"padding-right");b=Z(a,b,"border-right-width");t(c.b,"margin-right",f+"px");t(c.b,"padding-right",g+"px");t(c.b,"border-right-width",b+"px");c.marginRight=f;c.$a=b;a.b&&0<e&&(a=d+gj(c),a=a-Math.floor(a/e)*e,0<a&&(c.tb=e-a,g+=c.tb));c.la=g;c.ub=e}
function il(a,b,c){var d=Z(a,b,"snap-height"),e=Z(a,b,"top"),f=Z(a,b,"margin-top"),g=Z(a,b,"padding-top");b=Z(a,b,"border-top-width");c.top=e;c.marginTop=f;c.X=b;c.ab=d;!a.b&&0<d&&(a=e+dj(c),a=a-Math.floor(a/d)*d,0<a&&(c.Oa=d-a,g+=c.Oa));c.k=g;t(c.b,"top",e+"px");t(c.b,"margin-top",f+"px");t(c.b,"padding-top",g+"px");t(c.b,"border-top-width",b+"px")}
function jl(a,b,c){var d=Z(a,b,"margin-bottom"),e=Z(a,b,"padding-bottom"),f=Z(a,b,"border-bottom-width");a=Z(a,b,"height")-c.Oa;t(c.b,"height",a+"px");t(c.b,"margin-bottom",d+"px");t(c.b,"padding-bottom",e+"px");t(c.b,"border-bottom-width",f+"px");c.height=a-c.Oa;c.marginBottom=d;c.Za=f;c.H=e}function kl(a,b,c){a.b?(il(a,b,c),jl(a,b,c)):(hl(a,b,c),gl(a,b,c))}
function ll(a,b,c){t(c.b,"border-top-width","0px");var d=Z(a,b,"max-height");a.A?ij(c,0,d):(il(a,b,c),d-=c.Oa,c.height=d,t(c.b,"height",d+"px"))}function ml(a,b,c){t(c.b,"border-left-width","0px");var d=Z(a,b,"max-width");a.w?jj(c,0,d):(hl(a,b,c),d-=c.tb,c.width=d,a=Z(a,b,"right"),t(c.b,"right",a+"px"),t(c.b,"width",d+"px"))}
var nl="border-left-style border-right-style border-top-style border-bottom-style border-left-color border-right-color border-top-color border-bottom-color overflow".split(" "),ol="border-top-left-radius border-top-right-radius border-bottom-right-radius border-bottom-left-radius border-image-source border-image-slice border-image-width border-image-outset border-image-repeat background-attachment background-color background-image background-repeat background-position background-clip background-origin background-size opacity z-index".split(" "),
pl=["color","font-family","font-size","font-style","font-weight"],ql=["transform","transform-origin"];Wk.prototype.M=function(a,b){this.e&&this.b==this.e.b||t(b.b,"writing-mode",this.b?"vertical-rl":"horizontal-tb");(this.b?this.g:this.f)?this.b?ml(this,a,b):ll(this,a,b):(this.b?hl(this,a,b):il(this,a,b),this.b?gl(this,a,b):jl(this,a,b));(this.b?this.f:this.g)?this.b?ll(this,a,b):ml(this,a,b):kl(this,a,b);for(var c=0;c<nl.length;c++)fl(this,a,b,nl[c])};
function rl(a,b,c){for(var d=0;d<pl.length;d++)fl(a,b,c,pl[d])}
function sl(a,b,c,d,e,f){a.b?a.l=c.e+c.tb:a.qb=c.e+c.Oa;var g=(a.b||!e)&&a.f,h=(!a.b||!e)&&a.g,k=null;if(h||g)h&&t(c.b,"width","auto"),g&&t(c.b,"height","auto"),k=(e?e.b:c.b).getBoundingClientRect(),h&&(a.l=Math.ceil(k.right-k.left-c.j-c.T-c.la-c.$a),a.b&&(a.l+=c.tb)),g&&(c.qb=k.bottom-k.top-c.k-c.X-c.H-c.Za,a.b||(a.qb+=c.Oa));(a.b?a.f:a.g)&&kl(a,b,c);if(a.b?a.g:a.f){if(a.b?a.w:a.A)a.b?hl(a,b,c):il(a,b,c);a.b?gl(a,b,c):jl(a,b,c)}if(1<f&&(g=Z(a,b,"column-rule-width"),h=el(a,b,"column-rule-style"),
k=el(a,b,"column-rule-color"),0<g&&h&&h!=vd&&k!=Gd)){var l=Z(a,b,"column-gap"),n=a.b?c.height:c.width,p=a.b?"border-top":"border-left";for(e=1;e<f;e++){var q=(n+l)*e/f-l/2+c.j-g/2,u=c.height+c.k+c.H,v=c.b.ownerDocument.createElement("div");t(v,"position","absolute");t(v,a.b?"left":"top","0px");t(v,a.b?"top":"left",q+"px");t(v,a.b?"height":"width","0px");t(v,a.b?"width":"height",u+"px");t(v,p,g+"px "+h.toString()+(k?" "+k.toString():""));c.b.insertBefore(v,c.b.firstChild)}}for(e=0;e<ol.length;e++)fl(a,
b,c,ol[e]);for(e=0;e<ql.length;e++)f=c,g=ql[e],h=d.e,(k=el(a,b,g))&&h.push(new Ii(f.b,g,k))}
Wk.prototype.u=function(a,b){var c=this.H,d=this.d.d,e;for(e in d)Sg(e)&&Tg(c,e,d[e]);if("background-host"==this.d.l)for(e in b)if(e.match(/^background-/)||"writing-mode"==e)c[e]=b[e];if("layout-host"==this.d.l)for(e in b)e.match(/^background-/)||"writing-mode"==e||(c[e]=b[e]);d=this.d.oa;a.d=null;a.A=c;a.h="";a.e="";a.M="";a.X="";a.l=d;a.T="";a.H=Mh;Sh(a);cl(this,a.u);for(c=0;c<this.d.children.length;c++)this.d.children[c].f(this).u(a,b);a.pop()};
function tl(a,b){a.g&&(a.w=bl(a,"right",a.j,b)||bl(a,"margin-right",a.j,b)||bl(a,"border-right-width",a.j,b)||bl(a,"padding-right",a.j,b));a.f&&(a.A=bl(a,"top",a.h,b)||bl(a,"margin-top",a.h,b)||bl(a,"border-top-width",a.h,b)||bl(a,"padding-top",a.h,b));for(var c=0;c<a.children.length;c++)tl(a.children[c],b)}function ul(a){Wk.call(this,null,a)}r(ul,Wk);ul.prototype.u=function(a,b){Wk.prototype.u.call(this,a,b);this.children.sort(function(a,b){return b.d.k-a.d.k||a.d.g-b.d.g})};
function Ok(a,b){Wk.call(this,a,b);this.k=this}r(Ok,Wk);Ok.prototype.C=function(a){var b=this.d.e;b.D&&(a=Mc(b.b,a,b.D));return a};function Qk(a,b){Wk.call(this,a,b);this.k=a.k}r(Qk,Wk);function Sk(a,b){Wk.call(this,a,b);this.k=a.k}r(Sk,Wk);function vl(a,b,c,d){var e=null;c instanceof $c&&(e=[c]);c instanceof Tc&&(e=c.b);if(e)for(a=a.d.b,c=0;c<e.length;c++)if(e[c]instanceof $c){var f=Ub(e[c].name,"enabled"),f=new Gc(a,f);d&&(f=new pc(a,f));b=Mc(a,b,f)}return b}
Sk.prototype.C=function(a){var b=this.d.b,c=this.style,d=Vk(b,c.required,b.e)!==b.e;if(d||this.f){var e;e=(e=c["flow-from"])?e.ba(b,b.b):new Xb(b,"body");e=new Ic(b,"has-content",[e]);a=Mc(b,a,e)}a=vl(this,a,c["required-partitions"],!1);a=vl(this,a,c["conflicting-partitions"],!0);d&&(c=(c=this.k.style.enabled)?c.ba(b,null):b.f,c=Mc(b,c,a),this.k.style.enabled=new J(c));return a};Sk.prototype.M=function(a,b,c){t(b.b,"overflow","hidden");Wk.prototype.M.call(this,a,b,c)};
function wl(a,b,c,d){df.call(this,a,b,!1);this.target=c;this.b=d}r(wl,ef);wl.prototype.Da=function(a,b,c){Bg(this.b,a,b,c,this)};wl.prototype.fc=function(a,b){ff(this,"E_INVALID_PROPERTY "+a+": "+b.toString())};wl.prototype.Ab=function(a,b){ff(this,"E_INVALID_PROPERTY_VALUE "+a+": "+b.toString())};wl.prototype.La=function(a,b,c){this.target.d[a]=new X(b,c?50331648:67108864)};function xl(a,b,c,d){wl.call(this,a,b,c,d)}r(xl,wl);
function yl(a,b,c,d){wl.call(this,a,b,c,d);c.d.width=new X(Jd,0);c.d.height=new X(Jd,0)}r(yl,wl);yl.prototype.mb=function(a,b,c){a=new Rk(this.e,a,b,c,this.target);cf(this.W,new xl(this.e,this.W,a,this.b))};yl.prototype.lb=function(a,b,c){a=new Pk(this.e,a,b,c,this.target);a=new yl(this.e,this.W,a,this.b);cf(this.W,a)};function zl(a,b,c,d){wl.call(this,a,b,c,d)}r(zl,wl);zl.prototype.mb=function(a,b,c){a=new Rk(this.e,a,b,c,this.target);cf(this.W,new xl(this.e,this.W,a,this.b))};
zl.prototype.lb=function(a,b,c){a=new Pk(this.e,a,b,c,this.target);a=new yl(this.e,this.W,a,this.b);cf(this.W,a)};var Al={"text-indent":"0px","margin-top":"0px","padding-top":"0px","border-top-width":"0px","border-top-style":"none","border-top-color":"transparent"},Bl={"text-indent":"0px","margin-right":"0px","padding-right":"0px","border-right-width":"0px","border-right-style":"none","border-right-color":"transparent"},Cl={};
function Dl(a){a.addEventListener("load",function(){a.contentWindow.navigator.epubReadingSystem={name:"adapt",version:"0.1",layoutStyle:"paginated",hasFeature:function(a){switch(a){case "mouse-events":return!0}return!1}}},!1)}var El=(new DOMParser).parseFromString('<root xmlns="http://www.pyroxy.com/ns/shadow"/>',"text/xml"),Fl="footnote-marker first-5-lines first-4-lines first-3-lines first-2-lines first-line first-letter before  after".split(" ");
function Gl(a,b,c,d){this.style=b;this.g=a;this.b=c;this.e=d;this.d={}}
Gl.prototype.f=function(a){var b=a.getAttribute("class")||"";this.b&&b&&b.match(/after$/)&&(this.style=this.b.f(this.g,!0),this.b=null);var c=this.style._pseudos[b]||{};if(!this.d[b]){this.d[b]=!0;var d=c.content;d&&(d=d.evaluate(this.e),lj(d)&&d.I(new kj(a)))}if(b.match(/^first-/)&&!c["x-first-pseudo"]){a=1;var e;"first-letter"==b?a=0:null!=(e=b.match(/^first-([0-9]+)-lines$/))&&(a=e[1]-0);c["x-first-pseudo"]=new X(new cd(a),0)}return c};
function Hl(a,b,c,d,e,f,g,h,k,l,n,p){this.u=a;this.f=b;this.viewport=c;this.document=c.document;this.j=d;this.A=e;this.S=f;this.w=g;this.k=h;this.C=k;this.d=l;this.g=n;this.l=p;this.H=this.b=null;this.h=!1;this.O=null;this.V=0;this.e=null}Hl.prototype.clone=function(){return new Hl(this.u,this.f,this.viewport,this.j,this.A,this.S,this.w,this.k,this.C,this.d,this.g,this.l)};
function Il(a,b,c,d,e,f){var g=L("createRefShadow");a.S.h.load(b).then(function(h){if(h){var k=ui(h,b);if(k){var l=a.C,n=l.u[h.url];n||(n=l.style.h.b[h.url],n=new tj(h,n.d,n.g,new dc(0,l.j,l.h,l.fontSize),l.f,n.j),l.u[h.url]=n);f=new Si(d,k,h,e,f,c,n)}}O(g,f)});return N(g)}
function Jl(a,b,c,d,e,f,g,h){var k=L("createShadows"),l=e.template,n;l instanceof ed?n=Il(a,l.url,2,b,h,null):n=M(null);n.then(function(l){var n=null;if("http://www.pyroxy.com/ns/shadow"==b.namespaceURI&&"include"==b.localName){var u=b.getAttribute("href"),v=null;u?v=h?h.S:a.S:h&&(u="http://www.w3.org/1999/xhtml"==h.W.namespaceURI?h.W.getAttribute("href"):h.W.getAttributeNS("http://www.w3.org/1999/xlink","href"),v=h.dc?h.dc.S:a.S);u&&(u=ca(u,v.url),n=Il(a,u,3,b,h,l))}null==n&&(n=M(l));n.then(function(l){var n;
if(n=d._pseudos){for(var q=El.createElementNS("http://www.pyroxy.com/ns/shadow","root"),p=q,u=0;u<Fl.length;u++){var v=Fl[u],Qa;if(v){if(!n[v])continue;if(!("footnote-marker"!=v||c&&a.h))continue;if(v.match(/^first-/)&&(Qa=e.display,!Qa||Qa===sd))continue;Qa=El.createElementNS("http://www.w3.org/1999/xhtml","span");Qa.setAttribute("class",v)}else Qa=El.createElementNS("http://www.pyroxy.com/ns/shadow","content");p.appendChild(Qa);v.match(/^first-/)&&(p=Qa)}l=new Si(b,q,null,h,l,2,new Gl(b,d,f,g))}O(k,
l)})});return N(k)}function Qj(a,b,c){a.H=b;a.h=c}function Kl(a,b,c,d){var e=a.f;c=bi(c,e,a.A,a.h);var f=(b=ai(c,e,b))?Mg:Ng,g;for(g in c){var h=c[g],k=f[g];if(k){var l=c[k];if(l&&l.b>h.b)continue;k=Hg[k]?k:g}else k=g;l=h.evaluate(e,g);if("font-family"==g)if(h=a.w,l instanceof Tc){for(var l=l.b,n=[],p=0;p<l.length;p++){var q=l[p],u=h.b[q.stringValue()];u&&n.push(I(u));n.push(q)}l=new Tc(n)}else l=(h=h.b[l.stringValue()])?new Tc([I(h),l]):l;d[k]=l}return b}
function Ll(a,b){for(var c=a.b.O,d=[],e=a.b.Z;c&&1==c.nodeType;){var f=e&&e.root==c;if(!f||2==e.type){var g=(e?e.b:a.j).f(c,!1);d.push(g)}f?(c=e.W,e=e.dc):c=c.parentNode}c={"font-size":new X(new ad(fc(a.f,"em"),"px"),0)};e=new Xg(c,a.f);for(f=d.length-1;0<=f;--f){var g=d[f],h=[],k;for(k in g)Dg[k]&&h.push(k);h.sort(Nd);for(var l=0;l<h.length;l++){var n=h[l];e.b=n;c[n]=g[n].oc(e)}}for(var p in b)Dg[p]||(c[p]=b[p]);return c}
var Ml={a:"a",sub:"sub",sup:"sup",table:"table",tr:"tr",td:"td",th:"th",code:"code",body:"div",p:"p",v:"p",date:"p",emphasis:"em",strong:"strong",style:"span",strikethrough:"del"};function Nl(a,b){b=ca(b,a.S.url);return a.l[b]||b}
function Ol(a,b){var c=!0,d=L("createElementView"),e=a.O,f=a.b.Z?a.b.Z.b:a.j,g=f.f(e,!1),h={};a.b.parent||(g=Ll(a,g));a.b.f=Kl(a,a.b.f,g,h);var k=h["flow-into"];if(k&&k.toString()!=a.u)return O(d,!1),N(d);var l=h.display;if(l===vd)return O(d,!1),N(d);Jl(a,e,null==a.b.parent,g,h,f,a.f,a.b.Z).then(function(f){a.b.fa=f;var g=a.b.parent&&a.b.parent.j;f=h["float"];var k=h.clear;if(h.position===hd||h.position===Ad)a.b.j=!0,f=null;g&&(k=null,f!==pd&&(f=null));g=f===td||f===Bd||f===pd;f&&(delete h["float"],
f===pd&&(a.h?(g=!1,h.display=ld):h.display=sd),a.b.j=!0);k&&(k===rd&&a.b.parent&&a.b.parent.u&&(k=I(a.b.parent.u)),k===td||k===Bd||k===md)&&(delete h.clear,h.display&&h.display!=sd&&(a.b.u=k.toString()));h.overflow===qd&&(a.b.j=!0);var u=l===ud&&h["ua-list-item-count"];g||l===Ed||h["break-inside"]===kd||h["page-break-inside"]===kd?a.b.g++:l===Fd&&(a.b.g+=10);a.b.d=!g&&!l||l===sd;a.b.h=g?f.toString():null;if(!a.b.d){if(f=h["break-after"]||h["page-break-after"])a.b.A=f.toString();if(f=h["break-before"]||
h["page-break-before"])a.b.l=f.toString()}if(f=h["x-first-pseudo"])a.b.e=new Ti(a.b.parent?a.b.parent.e:null,f.B);if(f=h["white-space"])switch(f.toString()){case "normal":case "nowrap":a.b.w=0;break;case "pre-line":a.b.w=1;break;case "pre":case "pre-wrap":a.b.w=2}var v=!1,H=null,V=[],K=e.namespaceURI,B=e.localName;if("http://www.w3.org/1999/xhtml"==K)"html"==B||"body"==B||"script"==B||"link"==B||"meta"==B?B="div":"vide_"==B?B="video":"audi_"==B?B="audio":"object"==B&&(v=!!a.g);else if("http://www.idpf.org/2007/ops"==
K)B="span",K="http://www.w3.org/1999/xhtml";else if("http://www.gribuser.ru/xml/fictionbook/2.0"==K){K="http://www.w3.org/1999/xhtml";if("image"==B){if(B="div",(f=e.getAttributeNS("http://www.w3.org/1999/xlink","href"))&&"#"==f.charAt(0)&&(f=ui(a.S,f)))H=a.createElement(K,"img"),f="data:"+(f.getAttribute("content-type")||"image/jpeg")+";base64,"+f.textContent.replace(/[ \t\n\t]/g,""),V.push(Rf(H,f))}else B=Ml[B];B||(B=a.b.d?"span":"div")}else if("http://www.daisy.org/z3986/2005/ncx/"==K)if(K="http://www.w3.org/1999/xhtml",
"ncx"==B||"navPoint"==B)B="div";else if("navLabel"==B){if(B="span",k=e.parentNode){f=null;for(k=k.firstChild;k;k=k.nextSibling)if(1==k.nodeType&&(g=k,"http://www.daisy.org/z3986/2005/ncx/"==g.namespaceURI&&"content"==g.localName)){f=g.getAttribute("src");break}f&&(B="a",e=e.ownerDocument.createElementNS(K,"a"),e.setAttribute("href",f))}}else B="span";else"http://www.pyroxy.com/ns/shadow"==K?(K="http://www.w3.org/1999/xhtml",B=a.b.d?"span":"div"):v=!!a.g;u?b?B="li":(B="div",l=ld,h.display=l):"body"==
B||"li"==B?B="div":"q"==B?B="span":"a"==B&&(f=h["hyperlink-processing"])&&"normal"!=f.toString()&&(B="span");h.behavior&&"none"!=h.behavior.toString()&&a.g&&(v=!0);var wa;v?wa=a.g(e,a.b.parent?a.b.parent.b:null,h):wa=M(null);wa.then(function(f){f?v&&(c="true"==f.getAttribute("data-adapt-process-children")):f=a.createElement(K,B);"a"==B&&f.addEventListener("click",a.d.k,!1);H&&(pk(a,a.b,"inner",H),f.appendChild(H));"iframe"==f.localName&&"http://www.w3.org/1999/xhtml"==f.namespaceURI&&Dl(f);if("http://www.gribuser.ru/xml/fictionbook/2.0"!=
e.namespaceURI||"td"==B){for(var g=e.attributes,k=g.length,l=null,n=0;n<k;n++){var q=g[n],p=q.namespaceURI,Ca=q.localName,q=q.nodeValue;if(p)if("http://www.w3.org/2000/xmlns/"==p)continue;else"http://www.w3.org/1999/xlink"==p&&"href"==Ca&&(q=Nl(a,q));else{if(Ca.match(/^on/))continue;if("style"==Ca)continue;if("id"==Ca){Mi(a.d,f,q);continue}if("src"==Ca||"href"==Ca||"poster"==Ca)q=Nl(a,q)}if(p){var wa=Cl[p];wa&&(Ca=wa+":"+Ca)}"src"!=Ca||p||"img"!=B||"http://www.w3.org/1999/xhtml"!=K?"href"==Ca&&"image"==
B&&"http://www.w3.org/2000/svg"==K&&"http://www.w3.org/1999/xlink"==p?a.d.d.push(Rf(f,q)):p?f.setAttributeNS(p,Ca,q):f.setAttribute(Ca,q):l=q}l&&(g=Rf(f,l),h.width&&h.height?a.d.d.push(g):V.push(g))}delete h.content;(g=h["list-style-image"])&&g instanceof ed&&(g=g.url,V.push(Rf(new Image,g)));Pl(a,f,h);g=h.widows;k=h.orphans;if(g||k){if(a.b.parent){a.b.k={};for(var yd in a.b.parent.k)a.b.k[yd]=a.b.parent.k[yd]}g instanceof cd&&(a.b.k.widows=g.B);k instanceof cd&&(a.b.k.orphans=k.B)}if(!b&&!a.b.d){yd=
a.b.f?Bl:Al;for(var Sj in yd)t(f,Sj,yd[Sj])}u&&f.setAttribute("value",h["ua-list-item-count"].stringValue());a.e=f;V.length?Qf(V).then(function(){O(d,c)}):Ke().then(function(){O(d,c)})})});return N(d)}function Ql(a,b){var c=L("createNodeView"),d,e=!0;1==a.O.nodeType?d=Ol(a,b):(8==a.O.nodeType?a.e=null:a.e=document.createTextNode(a.O.textContent.substr(a.V||0)),d=M(!0));d.then(function(b){e=b;(a.b.b=a.e)&&(b=a.b.parent?a.b.parent.b:a.H)&&b.appendChild(a.e);O(c,e)});return N(c)}
function Rj(a,b,c){(a.b=b)?(a.O=b.O,a.V=b.V):(a.O=null,a.V=-1);a.e=null;return a.b?Ql(a,c):M(!0)}function Rl(a){if(null==a.Z||"content"!=a.O.localName||"http://www.pyroxy.com/ns/shadow"!=a.O.namespaceURI)return a;var b=a.U,c=a.Z,d=a.parent,e,f;c.wc?(f=c.wc,e=c.root,c=c.type,2==c&&(e=e.firstChild)):(f=c.dc,e=c.W.firstChild,c=2);var g=a.O.nextSibling;g?(a.O=g,Vi(a)):a.ca?a=a.ca:e?a=null:(a=a.parent.modify(),a.F=!0);if(e)return b=new Ui(e,d,b),b.Z=f,b.ra=c,b.ca=a,b;a.U=b;return a}
function Sl(a){var b=a.U+1;if(a.F){if(!a.parent)return null;if(3!=a.ra){var c=a.O.nextSibling;if(c)return a=a.modify(),a.U=b,a.O=c,Vi(a),Rl(a)}if(a.ca)return a=a.ca.modify(),a.U=b,a;a=a.parent.modify()}else{if(a.fa&&(c=a.fa.root,2==a.fa.type&&(c=c.firstChild),c))return b=new Ui(c,a,b),b.Z=a.fa,b.ra=a.fa.type,Rl(b);if(c=a.O.firstChild)return Rl(new Ui(c,a,b));1!=a.O.nodeType&&(b+=a.O.textContent.length-1-a.V);a=a.modify()}a.U=b;a.F=!0;return a}
function Xj(a,b){b=Sl(b);if(!b||b.F)return M(b);var c=L("nextInTree");Rj(a,b,!0).then(function(a){b.b&&a||(b=b.modify(),b.F=!0,b.b||(b.d=!0));O(c,b)});return N(c)}function Tl(a,b){if(b instanceof Tc)for(var c=b.b,d=0;d<c.length;d++)Tl(a,c[d]);else b instanceof ed&&(c=b.url,a.d.d.push(Rf(new Image,c)))}function Pl(a,b,c){var d=c["background-image"];d&&Tl(a,d);for(var e in c)d=c[e],!Hi[e]||"position"==e&&d!==Ad?t(b,e,d.toString()):a.d.e.push(new Ii(b,e,d))}
function pk(a,b,c,d){if(!b.F){var e=(b.Z?b.Z.b:a.j).f(a.O,!1);if(e=e._pseudos)e=e[c],c={},b.f=Kl(a,b.f,e,c),b=c.content,lj(b)&&(b.I(new kj(d)),delete c.content),Pl(a,d,c)}}
function Vj(a,b,c){var d=L("peelOff"),e=b.e,f=b.V,g=b.F;if(0<c)b.b.textContent=b.b.textContent.substr(0,c),f+=c;else if(!g&&b.b&&0==f){var h=b.b.parentNode;h&&h.removeChild(b.b)}for(var k=b.U+c,l=[];b.e===e;)l.push(b),b=b.parent;var n=l.pop(),p=n.ca;Le(function(){for(;0<l.length;){n=l.pop();b=new Ui(n.O,b,k);0==l.length&&(b.V=f,b.F=g);b.ra=n.ra;b.Z=n.Z;b.fa=n.fa;b.ca=n.ca?n.ca:p;p=null;var c=Rj(a,b,!1);if(c.ha())return c}return M(!1)}).then(function(){O(d,b)});return N(d)}
Hl.prototype.createElement=function(a,b){return"http://www.w3.org/1999/xhtml"==a?this.document.createElement(b):this.document.createElementNS(a,b)};function jk(a,b,c){var d={},e=a.k._pseudos;b=Kl(a,b,a.k,d);if(e&&e.before){var f={},g=a.createElement("http://www.w3.org/1999/xhtml","span");c.appendChild(g);Kl(a,b,e.before,f);delete f.content;Pl(a,g,f)}delete d.content;Pl(a,c,d);return b}function Ul(a){this.b=a}function Gj(a){return a.getClientRects()}
function Vl(a,b,c,d,e){this.b=a;this.fontSize=b;this.document=a.document;this.root=c||this.document.body;this.width=d||a.innerWidth;this.height=e||a.innerHeight;if(c&&(!d||!e)){a=a.getComputedStyle(c,null);if(b=a.width.match(/^(-?[0-9]*(\.[0-9]*)?)px$/))this.width=parseFloat(b[0]);if(b=a.height.match(/^(-?[0-9]*(\.[0-9]*)?)px$/))this.height=parseFloat(b[0])}};function Wl(a,b,c,d,e,f,g,h,k){this.h=a;this.g=b;this.b=c;this.d=d;this.w=e;this.f=f;this.l=a.C;this.u=g;this.e=h;this.k=k;this.j=a.f;bc(this.b,function(a){return(a=this.b.b[a])?0<a.b.length&&a.b[0].b.b<=this.g:!1});ac(this.b,new $b(this.b,function(){return this.b.d},"page-number"))}
function Xl(a,b,c,d){if(a.k.length){var e=new dc(0,b,c,d);a=a.k;for(var f={},g=0;g<a.length;g++)Wg(e,f,a[g],0,null,null);g=f.width;a=f.height;var f=f["text-zoom"],h=1;if(g&&a||f){var k=cc.em;(f?f.evaluate(e,"text-zoom"):null)===Cd&&(h=k/d,d=k,b*=h,c*=h);if(g&&a&&(g=gd(g.evaluate(e,"width"),e),e=gd(a.evaluate(e,"height"),e),0<g&&0<e))return{width:g,height:e,fontSize:d}}}return{width:b,height:c,fontSize:d}}
function Yl(a,b,c,d,e,f,g,h){dc.call(this,0,d.width,d.height,d.fontSize);this.style=a;this.S=b;this.lang=b.lang||c;this.viewport=d;this.f={body:!0};this.A=e;this.b=this.u=this.d=this.k=null;this.g=0;this.X=f;this.C=new hi(this.style.l);this.H={};this.w={};this.M=g;this.T=h;for(var k in a.e)(b=a.e[k]["flow-consume"])&&(b.evaluate(this,"flow-consume")==id?this.f[k]=!0:delete this.f[k])}r(Yl,dc);
function Zl(a){var b=L("StyleInstance.init");a.d=new tj(a.S,a.style.d,a.style.g,a,a.f,a.style.j);var c=a.d;c.k=a;for(var d=0;d<c.C.length;d++)Bj(c.k,c.C[d]);a.u={};c=a.u[a.S.url]=a.d;for(d=0;!c.j&&(d+=5E3,Cj(c,d,0)!=Number.POSITIVE_INFINITY););c=c.u;a.k=new ul(a.style.w);a.k.u(new Kh(a.style.d,a),c);tl(a.k,a);c=[];for(d=0;d<a.style.f.length;d++){var e=a.style.f[d++];if(!e.D||e.D.evaluate(a)){var f=e.Ta,g=a,e={},h=void 0;for(h in f)e[h]=f[h].evaluate(g,h);f=e;g=void 0;for(g in ci)f[g]||(f[g]=ci[g]);
e=new fi(e);c.push(e)}}d=a.X;a=a.C;e=[];for(f=0;f<c.length;f++)g=c[f],g.src&&g.b?e.push(li(d,g,a)):w("E_FONT_FACE_INVALID");Qf(e).ea(b);return N(b)}function Bj(a,b){var c=a.b;if(c){var d=c.b[b.f];d||(d=new aj,c.b[b.f]=d);d.b.push(new $i(new Zi({da:[{ka:b.h,ra:0,Z:null,fa:null,ca:null}],V:0,F:!1}),b))}}
function $l(a,b){if(!b)return 0;var c=Number.POSITIVE_INFINITY,d;for(d in a.f){var e=b.b[d];if((!e||0==e.b.length)&&a.b){var f=a.d;f.l=d;for(e=0;null!=f.l&&(e+=5E3,Cj(f,e,0)!=Number.POSITIVE_INFINITY););e=a.b.b[d];b!=a.b&&e&&(e=e.clone(),b.b[d]=e)}if(e){for(var f=a,g=Number.POSITIVE_INFINITY,h=0;h<e.b.length;h++){for(var k=e.b[h].d.va,l=k.da[0].ka,n=k.V,p=k.F,q=0;l.ownerDocument!=f.S.document;)q++,l=k.da[q].ka,p=!1,n=0;k=qi(f.S,l,n,p);k<g&&(g=k)}f=g;f<c&&(c=f)}}return c}
function am(a){var b=a.k.children,c=$l(a,a.b);if(c==Number.POSITIVE_INFINITY)return null;for(var d=0;d<b.length;d++){var e=b[d],f=1,g=el(e,a,"utilization");g&&g.rc()&&(f=g.B);g=fc(a,"em");a.g=Cj(a.d,c,Math.ceil(f*a.j*a.h/(g*g)));var f=a,g=f.b.d,h=void 0;for(h in f.b.b)for(var k=f.b.b[h],l=k.b.length-1;0<=l;l--){var n=k.b[l];0>n.b.e&&n.b.b<f.g&&(n.b.e=g)}ec(a,a.style.b);f=el(e,a,"enabled");if(!f||f===Id){w("Location - page "+a.b.d);w("  currnt: "+c);w("  lookup: "+a.g);c=void 0;for(c in a.b.b)for(b=
a.b.b[c],d=0;d<b.b.length;d++)w("  Chunk "+c+": "+b.b[d].b.b);return e}}throw Error("No enabled page masters");}
function bm(a,b,c){var d=a.b.b[c];if(!d)return M(!0);a.f[c]&&0<b.w.length&&(b.zc=!1);kk(b);var e=L("layoutColumn"),f=[];Me(function(c){for(;0<d.b.length;){var e=0,k=d.b[e];if(k.b.b>a.g)break;for(var l=1;l<d.b.length;l++){var n=d.b[l];if(n.b.b>a.g)break;Pi(n.b,k.b)&&(k=n,e=l)}var p=k.b,q=!0;nk(b,k.d).then(function(a){k.b.Uc&&(null==a||p.d)&&f.push(k);p.d?(d.b.splice(e,1),P(c)):a?(k.d=a,P(c)):(d.b.splice(e,1),q?q=!1:Oe(c))});if(q){q=!1;return}}P(c)}).then(function(){0<f.length&&(d.b=f.concat(d.b));
O(e,!0)});return N(e)}
function cm(a,b,c,d,e,f,g){var h=el(c,a,"enabled");if(h&&h!==Id)return M(!0);var k=L("layoutContainer"),l=el(c,a,"wrap-flow")===jd,n=c.b?c.g&&c.w:c.f&&c.A,h=el(c,a,"flow-from"),p=a.viewport.document.createElement("div");t(p,"position","absolute");d.insertBefore(p,d.firstChild);var q=new cj(p);q.d=c.b;c.M(a,q,b);q.A=e;q.C=f;e+=q.left+q.marginLeft+q.T;f+=q.top+q.marginTop+q.X;if(h&&h.Ec())if(a.w[h.toString()])sl(c,a,q,b,null,1),h=M(!0);else{var u=L("layoutContainer.inner"),v=h.toString(),H=Z(c,a,"column-count"),
V=Z(c,a,"column-gap"),K=1<H?Z(c,a,"column-width"):q.width,h=dl(c,a),B=0,wa=el(c,a,"shape-inside"),Mm=Kf(wa,0,0,q.width,q.height,a),Qa=new Hl(v,a,a.viewport,a.d,h,a.S,a.C,a.style.u,a,b,a.M,a.T),Og=0,T=null;Me(function(b){for(;Og<H;){var c=Og++;if(1<H){var d=a.viewport.document.createElement("div");t(d,"position","absolute");p.appendChild(d);T=new Mj(d,Qa,a.A);T.d=q.d;T.ab=q.ab;T.ub=q.ub;q.d?(t(d,"margin-left",q.j+"px"),t(d,"margin-right",q.la+"px"),c=c*(K+V)+q.k,jj(T,0,q.width),ij(T,c,K)):(t(d,"margin-top",
q.k+"px"),t(d,"margin-bottom",q.H+"px"),c=c*(K+V)+q.j,ij(T,0,q.height),jj(T,c,K));T.A=e+q.j;T.C=f+q.k}else T=new Mj(p,Qa,a.A),hj(T,q),q=T;T.w=n?[]:g;T.sb=Mm;if(0<=T.width){var h=L("inner");bm(a,T,v).then(function(){T.M&&"column"!=T.M&&(Og=H,"region"!=T.M&&(a.w[v]=!0));O(h,!0)});c=N(h)}else c=M(!0);if(c.ha()){c.then(function(){B=Math.max(B,T.e);Oe(b)});return}B=Math.max(B,T.e)}P(b)}).then(function(){q.e=B;sl(c,a,q,b,T,H);O(u,!0)});h=N(u)}else(h=el(c,a,"content"))&&lj(h)&&(h.I(new kj(p)),rl(c,a,q)),
sl(c,a,q,b,null,1),h=M(!0);h.then(function(){if(!c.f||0<Math.floor(q.e)){if(!l){var h=q.A+q.left,n=q.C+q.top,u=fj(q)+q.width+gj(q),v=dj(q)+q.height+ej(q),B=el(c,a,"shape-outside"),h=Kf(B,h,n,u,v,a);Sa(a.viewport.root)&&g.push(Wd(h,0,-1.25*fc(a,"em")));g.push(h)}}else if(0==c.children.length){d.removeChild(p);O(k,!0);return}var H=c.children.length-1;Le(function(){for(;0<=H;){var d=c.children[H--],d=cm(a,b,d,p,e,f,g);if(d.ha())return d}return M(!1)}).then(function(){O(k,!0)})});return N(k)}
function dm(a,b,c){a.w={};c?(a.b=c.clone(),wj(a.d,c.e)):(a.b=new bj,wj(a.d,-1));a.lang&&b.na.setAttribute("lang",a.lang);c=a.b;c.d++;ec(a,a.style.b);var d=am(a);if(!d)return M(null);var e=L("layoutNextPage");cm(a,b,d,b.na,0,0,[]).then(function(){var d=a.b.d,g;for(g in a.b.b)for(var h=a.b.b[g],k=h.b.length-1;0<=k;k--){var l=h.b[k];0<=l.b.e&&l.b.e+l.b.k-1<=d&&h.b.splice(k,1)}a.b=null;c.e=a.d.b;d=a.style.h.A[a.S.url];h=b.e;for(g=0;g<h.length;g++)k=h[g],t(k.target,k.name,k.value.toString());for(g=0;g<
d.length;g++)if(h=d[g],l=b.f[h.ib],k=b.f[h.Rc],l&&k&&(l=Ki(l,h.action)))for(var n=0;n<k.length;n++)k[n].addEventListener(h.event,l,!1);var p;a:{for(p in a.f)if((d=c.b[p])&&0<d.b.length){p=!1;break a}p=!0}p&&(c=null);O(e,c)});return N(e)}function em(a,b,c,d){Uh.call(this,a.g,a,b,c,d,a.f,!c);this.d=a;this.w=!1}r(em,Uh);m=em.prototype;m.Jb=function(){};m.Ib=function(a,b,c){a=new Nk(this.d.l,a,b,c,this.d.u,this.D,af(this.W));cf(this.d,new zl(a.b,this.d,a,this.C))};
m.Na=function(a){a=a.e;null!=this.D&&(a=Mc(this.e,this.D,a));cf(this.d,new em(this.d,a,this,this.A))};m.Fb=function(){cf(this.d,new Xh(this.e,this.W))};m.Hb=function(){var a={};this.d.j.push({Ta:a,D:this.D});cf(this.d,new Yh(this.e,this.W,null,a,this.d.f))};m.Gb=function(a){var b=this.d.h[a];b||(b={},this.d.h[a]=b);cf(this.d,new Yh(this.e,this.W,null,b,this.d.f))};m.Lb=function(){var a={};this.d.w.push(a);cf(this.d,new Yh(this.e,this.W,this.D,a,this.d.f))};
m.kb=function(a){var b=this.d.k;if(a){var c=Ug(b,"_pseudos"),b=c[a];b||(b={},c[a]=b)}cf(this.d,new Yh(this.e,this.W,null,b,this.d.f))};m.Kb=function(){this.w=!0;this.Ma()};m.ia=function(){Uh.prototype.ia.call(this);if(this.w){this.w=!1;var a="R"+this.d.C++,b=I(a),c;this.D?c=new Pg(b,0,this.D):c=new X(b,0);Vg(this.l,"region-id").push(c);this.Ga();a=new em(this.d,this.D,this,a);cf(this.d,a);a.ia()}};
function fm(a){var b=a.getAttribute("content");if(!b)return"";a={};for(var c;null!=(c=b.match(/^,?\s*([-A-Za-z_.][-A-Za-z_0-9.]*)\s*=\s*([-+A-Za-z_0-9.]*)\s*/));)b=b.substr(c[0].length),a[c[1]]=c[2];b=a.width-0;a=a.height-0;return b&&a?"@-epubx-viewport{width:"+b+"px;height:"+a+"px;}":""}function gm(a){bf.call(this);this.f=a;this.g=new Wb(null);this.l=new Wb(this.g);this.u=new Kk(this.g);this.A=new em(this,null,null,null);this.C=0;this.j=[];this.k={};this.h={};this.w=[];this.b=this.A}r(gm,bf);
gm.prototype.J=function(a){w("CSS parser: "+a)};function hm(a,b){return im(b,a)}function jm(a){Se.call(this,hm,!1);this.C=a;this.w={};this.h={};this.b={};this.A={};this.f=null}r(jm,Se);function km(a){var b=ca("user-agent.xml",ba),c=L("OPSDocStore.init");Te(Cg).then(function(d){a.f=d;Te($h).then(function(){a.load(b).then(function(){O(c,!0)})})});return N(c)}
function im(a,b){var c=L("OPSDocStore.load"),d=b.url;vi(b,a).then(function(b){for(var f=[],g=b.document.getElementsByTagNameNS("http://www.idpf.org/2007/ops","trigger"),h=0;h<g.length;h++){var k=g[h],l=k.getAttributeNS("http://www.w3.org/2001/xml-events","observer"),n=k.getAttributeNS("http://www.w3.org/2001/xml-events","event"),p=k.getAttribute("action"),k=k.getAttribute("ref");l&&n&&p&&k&&f.push({Rc:l,event:n,action:p,ib:k})}a.A[d]=f;var q=[],f=ca("user-agent-page.css",ba);q.push({url:f,text:null,
Ba:"UA",oa:null,media:null});if(f=b.g)for(f=f.firstChild;f;f=f.nextSibling)if(1==f.nodeType)if(g=f,h=g.namespaceURI,l=g.localName,"http://www.w3.org/1999/xhtml"==h)if("style"==l)q.push({url:d,text:g.textContent,Ba:"Author",oa:null,media:null});else if("link"==l){if(n=g.getAttribute("rel"),h=g.getAttribute("class"),l=g.getAttribute("media"),"stylesheet"==n||"alternate stylesheet"==n&&h)g=g.getAttribute("href"),g=ca(g,d),q.push({url:g,text:null,oa:h,media:l,Ba:"Author"})}else"meta"==l&&"viewport"==
g.getAttribute("name")&&q.push({url:d,text:fm(g),Ba:"Author",D:null,media:null});else"http://www.gribuser.ru/xml/fictionbook/2.0"==h?"stylesheet"==l&&"text/css"==g.getAttribute("type")&&q.push({url:d,text:g.textContent,Ba:"Author",oa:null,media:null}):"http://example.com/sse"==h&&"property"===l&&(h=g.getElementsByTagName("name")[0])&&"stylesheet"===h.textContent&&(g=g.getElementsByTagName("value")[0])&&(g=ca(g.textContent,d),q.push({url:g,text:null,oa:null,media:null,Ba:"Author"}));for(var u="",h=
0;h<q.length;h++)u+=q[h].url,u+="^",q[h].text&&(u+=q[h].text),u+="^";var v=a.w[u];v?(a.b[d]=v,O(c,b)):(f=a.h[u],f||(f=new Ve(function(){var b=L("fetchStylesheet"),c=0,d=new gm(a.f);Le(function(){if(c<q.length){var a=q[c++];d.Ua(a.Ba);var b;if(a.text){b=a.url;var e=a.oa,a=new Lb(a.text);b=Bf(a,d,b,e)}else b=Cf(a.url,d,a.oa);return b}return M(!1)}).then(function(){v=new Wl(a,d.g,d.l,d.A.j,d.u,d.j,d.k,d.h,d.w);a.w[u]=v;delete a.h[u];O(b,v)});return N(b)},"FetchStylesheet "+d),a.h[u]=f,We(f)),Te(f).then(function(f){a.b[d]=
f;O(c,b)}))});return N(c)};function lm(a,b,c,d,e,f,g,h){this.d=a;this.url=b;this.lang=c;this.e=d;this.g=e;this.h=Ob(f);this.j=g;this.f=h;this.Ca=this.b=null}function mm(a,b,c){if(0!=c--)for(b=b.firstChild;b;b=b.nextSibling)if(1==b.nodeType){var d=b;"auto"!=ya(d,"height")&&(t(d,"height","auto"),mm(a,d,c));"absolute"==ya(d,"position")&&(t(d,"position","relative"),mm(a,d,c))}}
function nm(a){var b=a.target,c="\u25b8"==b.textContent;b.textContent=c?"\u25be":"\u25b8";for(b=b.parentNode.firstChild;b;)if(1!=b.nodeType)b=b.nextSibling;else{var d=b;"toc-container"==d.getAttribute("data-adapt-class")?b=d.firstChild:("toc-node"==d.getAttribute("data-adapt-class")&&(d.style.height=c?"auto":"0px"),b=b.nextSibling)}a.stopPropagation()}
lm.prototype.ac=function(a){var b=this.j.ac(a);return function(a,d,e){var f=e.behavior;if(!f||"toc-node"!=f.toString()&&"toc-container"!=f.toString())return b(a,d,e);a=d.getAttribute("data-adapt-class");"toc-node"==a&&(e=d.firstChild,"\u25b8"!=e.textContent&&(e.textContent="\u25b8",t(e,"cursor","pointer"),e.addEventListener("click",nm,!1)));var g=d.ownerDocument.createElement("div");g.setAttribute("data-adapt-process-children","true");"toc-node"==f.toString()?(e=d.ownerDocument.createElement("div"),
e.textContent="\u25b9",t(e,"margin-left","-1em"),t(e,"display","inline-block"),t(e,"width","1em"),t(e,"text-align","left"),t(e,"cursor","default"),t(e,"font-family","Menlo,sans-serif"),g.appendChild(e),t(g,"overflow","hidden"),g.setAttribute("data-adapt-class","toc-node"),"toc-node"!=a&&"toc-container"!=a||t(g,"height","0px")):"toc-node"==a&&g.setAttribute("data-adapt-class","toc-container");return M(g)}};
lm.prototype.Eb=function(a,b,c,d,e){if(this.b)return M(this.b);var f=this,g=L("showTOC"),h=new Li(a);this.b=h;this.d.load(this.url).then(function(d){var l=f.d.b[d.url],n=Xl(l,c,1E5,e);b=new Vl(b.b,n.fontSize,b.root,n.width,n.height);var p=new Yl(l,d,f.lang,b,f.e,f.g,f.ac(d),f.f);f.Ca=p;p.e=f.h;Zl(p).then(function(){dm(p,h,null).then(function(){mm(f,a,2);O(g,h)})})});return N(g)};
lm.prototype.zb=function(){if(this.b){var a=this.b;this.Ca=this.b=null;t(a.na,"visibility","none");var b=a.na.parentNode;b&&b.removeChild(a.na)}};lm.prototype.sc=function(){return!!this.b};function om(){jm.call(this,pm(this));this.d=new Se(vi,!1);this.l=new Se(Xe,!1);this.u={};this.T={};this.j={};this.k={}}r(om,jm);function pm(a){return function(b){return a.j[b]}}
function qm(a,b,c){var d=L("loadEPUBDoc");c&&a.l.yb(b+"?r=list");a.d.yb(b+"META-INF/encryption.xml");a.d.load(b+"META-INF/container.xml").then(function(e){e=Gi(ni(ni(ni(new oi([e.document]),"container"),"rootfiles"),"rootfile"),"full-path");for(var f=0;f<e.length;f++){var g=e[f];if(g){rm(a,b,g,c).ea(d);return}}O(d,null)});return N(d)}
function rm(a,b,c,d){var e=b+c,f=a.u[e];if(f)return M(f);var g=L("loadOPF");a.d.load(e).then(function(c){a.d.load(b+"META-INF/encryption.xml").then(function(k){(d?a.l.load(b+"?r=list"):M(null)).then(function(d){f=new sm(a,b);tm(f,c,k,d,b+"?r=manifest").then(function(){a.u[e]=f;a.T[b]=f;O(g,f)})})})});return N(g)}om.prototype.load=function(a){a=aa(a);var b=this.k[a];return b?b.ha()?b:M(b.wb()):om.Vc.load.call(this,a)};
function um(){this.id=null;this.src="";this.f=this.fb=null;this.G=-1;this.Bc=0;this.Mc=null;this.b=this.d=0;this.e=La}function vm(a){return a.id}function wm(a){var b=me(a);return function(a){var d=L("deobfuscator"),e,f;a.slice?(e=a.slice(0,1040),f=a.slice(1040,a.size)):(e=a.webkitSlice(0,1040),f=a.webkitSlice(1040,a.size-1040));Re(e).then(function(a){a=new DataView(a);for(var c=0;c<a.byteLength;c++){var e=a.getUint8(c),e=e^b[c%20];a.setUint8(c,e)}O(d,Qe([a,f]))});return N(d)}}
var xm={dcterms:"http://purl.org/dc/terms/",marc:"http://id.loc.gov/vocabulary/",media:"http://www.idpf.org/epub/vocab/overlays/#",onix:"http://www.editeur.org/ONIX/book/codelists/current.html#",xsd:"http://www.w3.org/2001/XMLSchema#"},ym=xm.dcterms+"language",zm=xm.dcterms+"title";
function Am(a,b){var c={};return function(d,e){var f,g,h=d.r||c,k=e.r||c;if(a==zm&&(f="main"==h["http://idpf.org/epub/vocab/package/#title-type"],g="main"==k["http://idpf.org/epub/vocab/package/#title-type"],f!=g))return f?-1:1;f=parseInt(h["http://idpf.org/epub/vocab/package/#display-seq"],10);isNaN(f)&&(f=Number.MAX_VALUE);g=parseInt(k["http://idpf.org/epub/vocab/package/#display-seq"],10);isNaN(g)&&(g=Number.MAX_VALUE);return f!=g?f-g:a!=ym&&b&&(f=(h[ym]||h["http://idpf.org/epub/vocab/package/#alternate-script"])==
b,g=(k[ym]||k["http://idpf.org/epub/vocab/package/#alternate-script"])==b,f!=g)?f?-1:1:d.o-e.o}}
function Bm(a,b){function c(a){for(var b in a){var d=a[b];d.sort(Am(b,l));for(var e=0;e<d.length;e++){var f=d[e].r;f&&c(f)}}}function d(a){return Oa(a,function(a){return Na(a,function(a){var b={v:a.value,o:a.Y};a.cd&&(b.s=a.scheme);if(a.id||a.lang){var c=k[a.id];if(c||a.lang)a.lang&&(a={name:ym,value:a.lang,lang:null,id:null,ec:a.id,scheme:null,Y:a.Y},c?c.push(a):c=[a]),c=Ma(c,function(a){return a.name}),b.r=d(c)}return b})})}function e(a){if(a&&(a=a.match(/^\s*(([^:]*):)?(\S+)\s*$/))){var b=a[1]?
f[a[1]]:"http://idpf.org/epub/vocab/package/#";if(b)return b+a[3]}return null}var f;if(b){f={};for(var g in xm)f[g]=xm[g];for(;null!=(g=b.match(/(^\s*[A-Z_a-z\u007F-\uFFFF][-.A-Z_a-z0-9\u007F-\uFFFF]*):\s*(\S+)/));)b=b.substr(g[0].length),f[g[1]]=g[2]}else f=xm;var h=1;g=Ei(Fi(a),function(a){if("meta"==a.localName){var b=e(a.getAttribute("property"));if(b)return{name:b,value:a.textContent,id:a.getAttribute("id"),Y:h++,ec:a.getAttribute("refines"),lang:null,scheme:e(a.getAttribute("scheme"))}}else if("http://purl.org/dc/elements/1.1/"==
a.namespaceURI)return{name:xm.dcterms+a.localName,Y:h++,lang:a.getAttribute("xml:lang"),value:a.textContent,id:a.getAttribute("id"),ec:null,scheme:null};return null});var k=Ma(g,function(a){return a.ec});g=d(Ma(g,function(a){return a.ec?null:a.name}));var l=null;g[ym]&&(l=g[ym][0].v);c(g);return g}function Cm(){var a=window.MathJax;return a?a.Hub:null}var Dm={"appliaction/xhtml+xml":!0,"image/jpeg":!0,"image/png":!0,"image/svg+xml":!0,"image/gif":!0,"audio/mp3":!0};
function sm(a,b){this.e=a;this.g=this.d=this.b=this.h=this.f=null;this.cb=b;this.j=null;this.A={};this.lang=null;this.l=0;this.k={};this.C=this.w=this.H=null;this.u={};Cm()&&(Eg["http://www.w3.org/1998/Math/MathML"]=!0)}function Em(a,b){return a.cb?b.substr(0,a.cb.length)==a.cb?decodeURI(b.substr(a.cb.length)):null:b}
function tm(a,b,c,d,e){a.f=b;var f=ni(new oi([b.document]),"package"),g=Gi(f,"unique-identifier")[0];g&&(g=ui(b,b.url+"#"+g))&&(a.j=g.textContent.replace(/[ \n\r\t]/g,""));var h={};a.h=Na(Bi(ni(ni(f,"manifest"),"item")),function(c){var d=new um,e=b.url;d.id=c.getAttribute("id");d.src=ca(c.getAttribute("href"),e);d.fb=c.getAttribute("media-type");if(e=c.getAttribute("properties")){for(var e=e.split(/\s+/),f={},g=0;g<e.length;g++)f[e[g]]=!0;d.e=f}(c=c.getAttribute("fallback"))&&!Dm[d.fb]&&(h[d.src]=
c);!a.w&&d.e.nav&&(a.w=d);!a.C&&d.e["cover-image"]&&(a.C=d);return d});a.d=Ka(a.h,vm);a.g=Ka(a.h,function(b){return Em(a,b.src)});for(var k in h)for(g=k;;){g=a.d[h[g]];if(!g)break;if(Dm[g.fb]){a.u[k]=g.src;break}g=g.src}a.b=Na(Bi(ni(ni(f,"spine"),"itemref")),function(b,c){var d=b.getAttribute("idref");if(d=a.d[d])d.f=b,d.G=c;return d});if(k=Gi(ni(f,"spine"),"toc")[0])a.H=a.d[k];var g=Gi(ni(ni(Ai(ni(ni(new oi([c.document]),"encryption"),"EncryptedData"),zi()),"CipherData"),"CipherReference"),"URI"),
l=Bi(ni(ni(f,"bindings"),"mediaType"));for(c=0;c<l.length;c++){var n=l[c].getAttribute("handler");(k=l[c].getAttribute("media-type"))&&n&&a.d[n]&&(a.A[k]=a.d[n].src)}a.k=Bm(ni(f,"metadata"),Gi(f,"prefix")[0]);a.k[ym]&&(a.lang=a.k[ym][0].v);if(!d){if(0<g.length&&a.j)for(d=wm(a.j),c=0;c<g.length;c++)a.e.j[a.cb+g[c]]=d;return M(!0)}f=new za;l={};if(0<g.length&&a.j)for(k="1040:"+ne(a.j),c=0;c<g.length;c++)l[g[c]]=k;for(c=0;c<d.length;c++){var p=d[c];if(n=p.n){var q=decodeURI(n),g=a.g[q];k=null;g&&(g.Mc=
0!=p.m,g.Bc=p.c,g.fb&&(k=g.fb.replace(/\s+/g,"")));g=l[q];if(k||g)f.append(n),f.append(" "),f.append(k||"application/octet-stream"),g&&(f.append(" "),f.append(g)),f.append("\n")}}Fm(a);return Pe(e,!1,"POST",f.toString(),"text/plain")}function Fm(a){for(var b=0,c=0;c<a.b.length;c++){var d=a.b[c],e=Math.ceil(d.Bc/1024);d.d=b;d.b=e;b+=e}a.l=b}
function Gm(a,b,c){var d=new um;d.G=0;d.id="item1";d.src=b;a.d={item1:d};a.g={};a.g[b]=d;a.h=[d];a.b=a.h;c?(a=a.e,d=L("EPUBDocStore.load"),b=aa(b),(a.k[b]=im(a,{status:200,url:b,responseText:null,responseXML:c,Db:null})).ea(d),c=N(d)):c=M(null);return c}function Hm(a,b,c){var d=a.b[b],e=L("getCFI");a.e.load(d.src).then(function(a){var b=si(a,c),h=null;b&&(a=qi(a,b,0,!1),h=new bb,fb(h,b,c-a),d.f&&fb(h,d.f,0),h=h.toString());O(e,h)});return N(e)}
function Im(a,b){return te("resolveFragment",function(c){if(b){var d=new bb;cb(d,b);var e;if(a.f){var f=db(d,a.f.document);if(1!=f.ka.nodeType||f.F||!f.ib){O(c,null);return}var g=f.ka,h=g.getAttribute("idref");if("itemref"!=g.localName||!h||!a.d[h]){O(c,null);return}e=a.d[h];d=f.ib}else e=a.b[0];a.e.load(e.src).then(function(a){var b=db(d,a.document);a=qi(a,b.ka,b.offset,b.F);O(c,{G:e.G,aa:a,L:-1})})}else O(c,null)},function(a){w("Error resolving fragment "+b);O(a,null)})}
function Jm(a,b){return te("resolveEPage",function(c){if(0>=b)O(c,{G:0,aa:0,L:-1});else{var d=Ia(a.b.length,function(c){c=a.b[c];return c.d+c.b>b}),e=a.b[d];a.e.load(e.src).then(function(a){b-=e.d;b>e.b&&(b=e.b);var g=0;0<b&&(a=ri(a),g=Math.round(a*b/e.b),g==a&&g--);O(c,{G:d,aa:g,L:-1})})}},function(a){w("Error resolving epage: "+b);O(a,null)})}
function Km(a,b){var c=a.b[b.G];if(0>=b.aa)return M(c.d);var d=L("getEPage");a.e.load(c.src).then(function(a){a=ri(a);var f=Math.min(a,b.aa);O(d,c.d+f*c.b/a)});return N(d)}function Lm(a,b,c,d){this.b=a;this.viewport=b;this.f=c;this.vc=[];this.aa=this.L=this.G=0;this.g=Ob(d);this.e=new Ul(b.b)}
function Nm(a){var b=L("renderPage");Om(a).then(function(c){if(c){var d=-1;if(0>a.L){var d=a.aa,e=Ia(c.qa.length,function(a){return $l(c.Ca,c.qa[a])>d});a.L=e==c.qa.length?Number.POSITIVE_INFINITY:e-1}var f=c.gb[a.L];f?(a.aa=f.offset,O(b,f)):Me(function(b){if(a.L<c.qa.length)P(b);else if(c.complete)a.L=c.qa.length-1,P(b);else{var e=c.qa[c.qa.length-1],k=Pm(a,c,e);dm(c.Ca,k,e).then(function(l){k.na.style.display="none";k.na.style.visibility="visible";(e=l)?(c.gb[e.d-1]=k,c.qa.push(e),0<=d&&$l(c.Ca,
e)>d?(f=k,a.L=c.qa.length-2,P(b)):(k.g=0==c.item.G&&0==e.d-1,Oe(b))):(c.gb.push(k),f=k,a.L=c.qa.length-1,0>d&&(a.aa=k.offset),c.complete=!0,k.g=0==c.item.G&&0==a.L,k.h=c.item.G==a.b.b.length-1,P(b))})}}).then(function(){if(f)O(b,f);else{var e=c.qa[a.L];0>d&&(a.aa=$l(c.Ca,e));var h=Pm(a,c,e);dm(c.Ca,h,e).then(function(d){h.na.style.display="none";h.na.style.visibility="visible";(e=d)?(c.gb[e.d-1]=h,c.qa[a.L+1]=e):(c.gb.push(h),c.complete=!0,h.h=c.item.G==a.b.b.length-1);h.g=0==c.item.G&&0==a.L;O(b,
h)})}})}else O(b,null)});return N(b)}m=Lm.prototype;m.jb=function(){var a=this,b=L("renderAllPages"),c=a.G,d=a.L,e=a.b.b.length;a.G=0;Me(function(b){a.L=Number.POSITIVE_INFINITY;Nm(a).then(function(){++a.G>=e?P(b):Oe(b)})}).then(function(){a.G=c;a.L=d;Nm(a).ea(b)});return N(b)};m.Nc=function(){this.L=this.G=0;return Nm(this)};m.Oc=function(){this.G=this.b.b.length-1;this.L=Number.POSITIVE_INFINITY;return Nm(this)};
m.nextPage=function(){var a=this,b=L("nextPage");Om(a).then(function(c){if(c){if(c.complete&&a.L==c.qa.length-1){if(a.G>=a.b.b.length-1){O(b,null);return}a.G++;a.L=0}else a.L++;Nm(a).ea(b)}else O(b,null)});return N(b)};m.Tc=function(){if(0==this.L){if(0==this.G)return M(null);this.G--;this.L=Number.POSITIVE_INFINITY}else this.L--;return Nm(this)};function Qm(a,b){var c=L("navigateToEPage");Jm(a.b,b).then(function(b){b&&(a.G=b.G,a.L=b.L,a.aa=b.aa);Nm(a).ea(c)});return N(c)}
function Rm(a,b){var c=L("navigateToCFI");Im(a.b,b).then(function(b){b&&(a.G=b.G,a.L=b.L,a.aa=b.aa);Nm(a).ea(c)});return N(c)}
function Sm(a,b){w("Navigate to "+b);var c=Em(a.b,aa(b));if(null==c&&(a.b.f&&b.match(/^#epubcfi\(/)&&(c=Em(a.b,a.b.f.url)),null==c))return M(null);var d=a.b.g[c];if(!d)return a.b.f&&c==Em(a.b,a.b.f.url)&&(c=b.indexOf("#"),0<=c)?Rm(a,b.substr(c+1)):M(null);d.G!=a.G&&(a.G=d.G,a.L=0);var e=L("navigateTo");Om(a).then(function(c){var d=ui(c.S,b);d&&(a.aa=pi(c.S,d),a.L=-1);Nm(a).ea(e)});return N(e)}
function Pm(a,b,c){var d=b.Ca.viewport,e=d.document.createElement("div");d.root.appendChild(e);e.style.position="relative";e.style.visibility="hidden";e.style.left="0px";e.style.top="0px";e.style.width=d.width+"px";e.style.height=d.height+"px";var f=new Li(e);f.G=b.item.G;f.j=c;f.offset=$l(b.Ca,c);d!==a.viewport&&(a=Rb(a.viewport.width,a.viewport.height,d.width,d.height),a=Df(null,new Lb(a)),f.e.push(new Ii(e,"transform",a)));return f}
function Tm(a,b){var c=Cm();if(c){var d=b.ownerDocument,e=d.createElement("span");b.appendChild(e);d=d.importNode(a,!0);e.appendChild(d);d=c.queue;d.Push(["Typeset",c,e]);var c=L("navigateToEPage"),f=Ee(c);d.Push(function(){f.za(e)});return N(c)}return M(null)}
m.ac=function(a){var b=this;return function(c,d){var e;if("object"==c.localName&&"http://www.w3.org/1999/xhtml"==c.namespaceURI){var f=c.getAttribute("data");e=null;if(f){var f=ca(f,a.url),g=c.getAttribute("media-type");if(!g){var h=Em(b.b,f);h&&(h=b.b.g[h])&&(g=h.fb)}if(g&&(h=b.b.A[g])){e=b.viewport.document.createElement("iframe");e.style.border="none";var f=Ea(f),k=Ea(g),g=new za;g.append(h);g.append("?src=");g.append(f);g.append("&type=");g.append(k);for(h=c.firstChild;h;h=h.nextSibling)1==h.nodeType&&
(k=h,"param"==k.localName&&"http://www.w3.org/1999/xhtml"==k.namespaceURI&&(f=k.getAttribute("name"),k=k.getAttribute("value"),f&&k&&(g.append("&"),g.append(encodeURIComponent(f)),g.append("="),g.append(encodeURIComponent(k)))));e.setAttribute("src",g.toString());(g=c.getAttribute("width"))&&e.setAttribute("width",g);(g=c.getAttribute("height"))&&e.setAttribute("height",g)}}e||(e=b.viewport.document.createElement("span"),e.setAttribute("data-adapt-process-children","true"));e=M(e)}else if("http://www.w3.org/1998/Math/MathML"==
c.namespaceURI)e=Tm(c,d);else if("http://example.com/sse"==c.namespaceURI){e=d?d.ownerDocument:b.viewport.document;g=c.localName;switch(g){case "t":case "tab":case "ec":case "nt":case "fraction":case "comment":case "mark":g="span";break;case "ruby":case "rp":case "rt":break;default:g="div"}e=e.createElement(g);e.setAttribute("data-adapt-process-children","true");e=M(e)}else e=M(null);return e}};
function Om(a){if(a.G>=a.b.b.length)return M(null);var b=a.vc[a.G];if(b)return M(b);var c=a.b.b[a.G],d=a.b.e,e=L("getPageViewItem");d.load(c.src).then(function(f){0==c.b&&1==a.b.b.length&&(c.b=Math.ceil(ri(f)/2700),a.b.l=c.b);var g=d.b[f.url],h=a.ac(f),k=a.viewport,l=Xl(g,k.width,k.height,k.fontSize);if(l.width!=k.width||l.height!=k.height||l.fontSize!=k.fontSize)k=new Vl(k.b,l.fontSize,k.root,l.width,l.height);var n=new Yl(g,f,a.b.lang,k,a.e,a.f,h,a.b.u);n.e=a.g;Zl(n).then(function(){b={item:c,S:f,
Ca:n,qa:[null],gb:[],complete:!1};a.vc[a.G]=b;O(e,b)})});return N(e)}function Um(a){return{G:a.G,L:a.L,aa:a.aa}}function Vm(a,b){b?(a.G=b.G,a.L=-1,a.aa=b.aa):(a.G=0,a.L=0,a.aa=0);return Nm(a)}
m.Eb=function(){var a=this.b,b=a.w||a.H;if(!b)return M(null);var c=L("showTOC");this.d||(this.d=new lm(a.e,b.src,a.lang,this.e,this.f,this.g,this,a.u));var a=this.viewport,b=Math.min(350,Math.round(.67*a.width)-16),d=a.height-6,e=a.document.createElement("div");a.root.appendChild(e);e.style.position="absolute";e.style.visibility="hidden";e.style.left="3px";e.style.top="3px";e.style.width=b+10+"px";e.style.maxHeight=d+"px";e.style.overflow="scroll";e.style.overflowX="hidden";e.style.background="#EEE";
e.style.border="1px outset #999";e.style.borderRadius="2px";e.style.boxShadow=" 5px 5px rgba(128,128,128,0.3)";this.d.Eb(e,a,b,d,this.viewport.fontSize).then(function(a){e.style.visibility="visible";O(c,a)});return N(c)};m.zb=function(){this.d&&this.d.zb()};m.sc=function(){return this.d&&this.d.sc()};function Wm(a,b,c){var d=this;this.h=a;this.la=b;this.X=c;a=a.document;this.T=new ii(a.head,a.body);this.w="";this.f=null;this.d=!1;this.e=this.k=this.j=this.l=null;this.fontSize=16;this.H=!1;this.g=Nb();this.A=function(){};this.C=function(){d.d=!0;d.A()};this.u=function(){};this.M={loadEPUB:this.Pc,loadXML:this.Kc,configure:this.mc,moveTo:this.Lc,toc:this.Eb}}function Xm(a,b){b.i=a.la;a.X(b)}m=Wm.prototype;
m.Pc=function(a){var b=a.url,c=a.fragment,d=!!a.zipmeta,e=L("loadEPUB"),f=this,g=new om;km(g).then(function(){var h=ca(b,f.h.location.href);f.w=h;qm(g,h,d).then(function(b){f.f=b;Im(f.f,c).then(function(b){f.e=b;f.mc(a).then(function(){Ym(f).then(function(){Xm(f,{t:"loaded",metadata:f.f.k});O(e,!0)})})})})});return N(e)};
m.Kc=function(a){var b=a.url,c=a.document,d=a.fragment,e=L("loadXML"),f=this;f.mc(a).then(function(){var a=new om;km(a).then(function(){var h=ca(b,f.h.location.href);f.w=h;f.f=new sm(a,"");Gm(f.f,h,c).then(function(){Im(f.f,d).then(function(a){f.e=a;Xm(f,{t:"loaded"});Ym(f).then(function(){O(e,!0)})})})})});return N(e)};
function Zm(a,b){var c=parseFloat(b),d=/[a-z]+$/,e;if("string"===typeof b&&(e=b.match(d))){d=e[0];if("em"===d||"rem"===d)return c*a.fontSize;if("ex"===d||"rex"===d)return c*cc.ex*a.fontSize/cc.em;if(d=cc[d])return c*d}return c}
m.mc=function(a){"boolean"==typeof a.autoresize&&(a.autoresize?(this.l=null,this.h.addEventListener("resize",this.C,!1),this.d=!0):this.h.removeEventListener("resize",this.C,!1));if("number"==typeof a.fontSize){var b=a.fontSize;5<=b&&72>=b&&this.fontSize!=b&&(this.fontSize=b,this.d=!0)}"object"==typeof a.viewport&&a.viewport&&(b=a.viewport,b={marginLeft:Zm(this,b["margin-left"])||0,marginRight:Zm(this,b["margin-right"])||0,marginTop:Zm(this,b["margin-top"])||0,marginBottom:Zm(this,b["margin-bottom"])||
0,width:Zm(this,b.width)||0,height:Zm(this,b.height)||0},200<=b.width||200<=b.height)&&(this.h.removeEventListener("resize",this.C,!1),this.l=b,this.d=!0);"boolean"==typeof a.hyphenate&&(this.g.Zb=a.hyphenate,this.d=!0);"boolean"==typeof a.horizontal&&(this.g.Yb=a.horizontal,this.d=!0);"boolean"==typeof a.nightMode&&(this.g.cc=a.nightMode,this.d=!0);"number"==typeof a.lineHeight&&(this.g.lineHeight=a.lineHeight,this.d=!0);"number"==typeof a.columnWidth&&(this.g.Wb=a.columnWidth,this.d=!0);"string"==
typeof a.fontFamily&&(this.g.fontFamily=a.fontFamily,this.d=!0);"boolean"==typeof a.load&&(this.H=a.load);"boolean"==typeof a.renderAllPages&&(this.g.jb=a.renderAllPages);"string"==typeof a.userAgentRootURL&&(ba=a.userAgentRootURL);return M(!0)};function $m(a){a.j&&(a.k&&(t(a.k.na,"display","none"),a.k.removeEventListener("hyperlink",a.u,!1)),a.k=a.j,t(a.j.na,"visibility","visible"),t(a.j.na,"display","block"),a.j=null)}
function an(a){var b=L("reportPosition");a.e||(a.e=Um(a.b));Hm(a.f,a.e.G,a.e.aa).then(function(c){var d=a.k;(a.H&&0<d.d.length?Qf(d.d):M(!0)).then(function(){bn(a,d,c).ea(b)})});return N(b)}
function cn(a){if(a.l){var b=a.l,c=a.h.document.body;c.style.marginLeft=b.marginLeft+"px";c.style.marginRight=b.marginRight+"px";c.style.marginTop=b.marginTop+"px";c.style.marginBottom=b.marginBottom+"px";c.style.width=b.width+"px";c.style.height=b.height+"px";return new Vl(a.h,a.fontSize,c,b.width,b.height)}return new Vl(a.h,a.fontSize)}function dn(a){if(a.l||!a.viewport||a.viewport.fontSize!=a.fontSize)return!1;var b=cn(a);return b.width==a.viewport.width&&b.height==a.viewport.height}
function en(a){if(a.b){a.b.zb();for(var b=a.b.vc,c=0;c<b.length;c++){var d=b[c];if(d)for(var d=d.gb,e;e=d.shift();)e=e.na,e.parentNode.removeChild(e)}}a.viewport=cn(a);a.b=new Lm(a.f,a.viewport,a.T,a.g)}function fn(a,b){a.j=b;b.addEventListener("hyperlink",a.u,!1)}function Ym(a){a.d=!1;if(dn(a))return M(!0);var b=L("resize");a.b&&!a.e&&(a.e=Um(a.b));en(a);Vm(a.b,a.e).then(function(c){fn(a,c);$m(a);an(a).then(function(c){(a.g.jb?a.b.jb():M(null)).then(function(){O(b,c)})})});return N(b)}
function bn(a,b,c){var d=L("sendLocationNotification"),e={t:"nav",first:b.g,last:b.h};Km(a.f,a.e).then(function(b){e.epage=b;e.epageCount=a.f.l;c&&(e.cfi=c);Xm(a,e);O(d,!0)});return N(d)}
m.Lc=function(a){var b=this;if("string"==typeof a.where)switch(a.where){case "next":a=this.b.nextPage;break;case "previous":a=this.b.Tc;break;case "last":a=this.b.Oc;break;case "first":a=this.b.Nc;break;default:return M(!0)}else if("number"==typeof a.epage){var c=a.epage;a=function(){return Qm(b.b,c)}}else if("string"==typeof a.url){var d=a.url;a=function(){return Sm(b.b,d)}}else return M(!0);var e=L("nextPage");a.call(b.b).then(function(a){a?(b.e=null,fn(b,a),$m(b),an(b).ea(e)):O(e,!0)});return N(e)};
m.Eb=function(a){var b=!!a.autohide;a=a.v;var c=this.b.sc();if(c){if("show"==a)return M(!0)}else if("hide"==a)return M(!0);if(c)return this.b.zb(),M(!0);var d=this,e=L("showTOC");this.b.Eb(b).then(function(a){if(a){if(b){var c=function(){d.b.zb()};a.addEventListener("hyperlink",c,!1);a.na.addEventListener("click",c,!1)}a.addEventListener("hyperlink",d.u,!1)}O(e,!0)});return N(e)};
function gn(a,b){var c=b.a||"";return te("runCommand",function(d){var e=a.M[c];e?e.call(a,b).then(function(){Xm(a,{t:"done",a:c});O(d,!0)}):(Xm(a,{t:"error",content:"No such action",a:c}),O(d,!0))},function(b,e){Xm(a,{t:"error",content:e.toString(),a:c});O(b,!0)})}function hn(a){return"string"==typeof a?JSON.parse(a):a}
function jn(a,b){var c=hn(b),d=null;ve(function(){var b=L("commandLoop"),f=oe.d;a.u=function(b){var c={t:"hyperlink",href:b.href,internal:b.href.substr(0,a.w.length)==a.w};we(f,function(){Xm(a,c);return M(!0)})};Me(function(b){if(a.d)Ym(a).then(function(){Oe(b)});else if(c){var e=c;c=null;gn(a,e).then(function(){Oe(b)})}else e=L("waitForCommand"),d=Ee(e,self),N(e).then(function(){Oe(b)})}).ea(b);return N(b)});a.A=function(){var a=d;a&&(d=null,a.za())};a.h.adapt_command=function(b){if(c)return!1;c=
hn(b);a.A();return!0}}window.adapt_embedded&&(window.adapt_initEmbed=function(a,b,c){jn(new Wm(window,b,function(b){var c=JSON.stringify(b);We(new Ve(function(){return Pe(a,!1,"POST",c)}))}),c);delete window.adapt_initEmbed});var kn,ln=16,mn=!1,nn=0,on=0,pn=!1;function qn(a){window.adapt_command(a)}
function rn(a){switch(a.keyCode){case 35:qn({a:"moveTo",where:"last"});break;case 36:qn({a:"moveTo",where:"first"});break;case 39:qn({a:"moveTo",where:"next"});break;case 37:qn({a:"moveTo",where:"previous"});break;case 48:qn({a:"configure",fontSize:Math.round(ln)});break;case 84:qn({a:"toc",v:"toggle",autohide:!0});break;case 187:ln*=1.2;qn({a:"configure",fontSize:Math.round(ln)});break;case 189:ln/=1.2,qn({a:"configure",fontSize:Math.round(ln)})}}
function sn(a){"touchmove"==a.type&&a.preventDefault();if(1==a.touches.length){var b=a.touches[0].pageX,c=a.touches[0].pageY;"touchstart"==a.type?(mn=!0,nn=b,on=c):mn&&(b=b-nn,c=c-on,"touchend"==a.type&&(mn=!1),Math.abs(c)<.5*Math.abs(b)&&15<Math.abs(b)&&(mn=!1,0<b?qn({a:"moveTo",where:"previous"}):qn({a:"moveTo",where:"next"})))}else 2==a.touches.length&&(c=a.touches[0].pageX-a.touches[1].pageX,b=a.touches[0].pageY-a.touches[1].pageY,c=Math.sqrt(c*c+b*b),"touchstart"==a.type?(pn=!0,kn=c):pn&&("touchend"==
a.type&&(pn=!1),a=c/kn,1.5<a?(ln*=1.2,qn({a:"configure",fontSize:Math.round(ln)})):a<1/1.5&&(ln*=1.2,qn({a:"configure",fontSize:Math.round(ln)}))))}function tn(a){switch(a.t){case "error":w("Error: "+a.content);break;case "nav":(a=a.cfi)&&location.replace(fa(location.href,Ea(a||"")));break;case "hyperlink":a.internal&&qn({a:"moveTo",url:a.href})}}
function un(a){var b=a&&a.ad||da("f"),c=a&&a.cb||da("b"),d=a&&a.ed||da("x"),e=a&&a.Zc||da("w"),f=a&&a.Xc||da("h"),g=a&&a.Yc||da("size"),h=a&&a.orientation||da("orientation"),k=new Wm(window,"main",tn);a={autoresize:!0,fragment:b,renderAllPages:!0,userAgentRootURL:a&&a.dd||null,document:a&&a.document||null};var l;if(e&&f)l=e+" "+f;else{switch(g){case "A5":e="148mm";f="210mm";break;case "A4":e="210mm";f="297mm";break;case "A3":e="297mm";f="420mm";break;case "B5":e="176mm";f="250mm";break;case "B4":e=
"250mm";f="353mm";break;case "letter":e="8.5in";f="11in";break;case "legal":e="8.5in";f="14in";break;case "ledger":e="11in",f="17in"}e&&f&&(l=g,"landscape"===h&&(l=l?l+" landscape":null,g=e,e=f,f=g))}e&&f&&(a.viewport={width:e,height:f},g=document.createElement("style"),g.textContent="@page { size: "+l+"; margin: 0; }",document.head.appendChild(g));a.a=c?"loadEPUB":"loadXML";a.url=c||d;jn(k,a);window.addEventListener("keydown",rn,!1);window.addEventListener("touchstart",sn,!1);window.addEventListener("touchmove",
sn,!1);window.addEventListener("touchend",sn,!1)}var vn=["adapt","vivliostyle","main"],wn=this;vn[0]in wn||!wn.execScript||wn.execScript("var "+vn[0]);for(var xn;vn.length&&(xn=vn.shift());){var yn;if(yn=!vn.length)yn=void 0!==un;yn?wn[xn]=un:wn[xn]?wn=wn[xn]:wn=wn[xn]={}};
